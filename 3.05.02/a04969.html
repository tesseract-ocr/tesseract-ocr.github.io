<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tesseract: tesseract::LanguageModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">tesseract
   &#160;<span id="projectnumber">3.05.02</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a04969.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="a04966.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">tesseract::LanguageModel Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="a01667_source.html">language_model.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af68acd65ef84e197eef48131bfc6e9e1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#af68acd65ef84e197eef48131bfc6e9e1">LanguageModel</a> (const <a class="el" href="a02545.html">UnicityTable</a>&lt; <a class="el" href="a02557.html">FontInfo</a> &gt; *fontinfo_table, <a class="el" href="a04557.html">Dict</a> *dict)</td></tr>
<tr class="separator:af68acd65ef84e197eef48131bfc6e9e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f684d6e3d47fadd09dc2e92e194c7f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a99f684d6e3d47fadd09dc2e92e194c7f">~LanguageModel</a> ()</td></tr>
<tr class="separator:a99f684d6e3d47fadd09dc2e92e194c7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc9c521d45e78ae341d993fed3ecef01"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#adc9c521d45e78ae341d993fed3ecef01">InitForWord</a> (const <a class="el" href="a02709.html">WERD_CHOICE</a> *prev_word, bool fixed_pitch, float max_char_wh_ratio, float rating_cert_scale)</td></tr>
<tr class="separator:adc9c521d45e78ae341d993fed3ecef01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab9c51eafbae0b67c9ca73abb45435a9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#aab9c51eafbae0b67c9ca73abb45435a9">UpdateState</a> (bool just_classified, int curr_col, int curr_row, BLOB_CHOICE_LIST *curr_list, <a class="el" href="a04993.html">LanguageModelState</a> *parent_node, <a class="el" href="a04977.html">LMPainPoints</a> *pain_points, <a class="el" href="a02645.html">WERD_RES</a> *word_res, <a class="el" href="a04997.html">BestChoiceBundle</a> *best_choice_bundle, <a class="el" href="a02477.html">BlamerBundle</a> *blamer_bundle)</td></tr>
<tr class="separator:aab9c51eafbae0b67c9ca73abb45435a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a6f034012a45448a018bd4042138f74"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a3a6f034012a45448a018bd4042138f74">AcceptableChoiceFound</a> ()</td></tr>
<tr class="separator:a3a6f034012a45448a018bd4042138f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04bcb47158cd63fb55bf4f38c74b374e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a04bcb47158cd63fb55bf4f38c74b374e">SetAcceptableChoiceFound</a> (bool val)</td></tr>
<tr class="separator:a04bcb47158cd63fb55bf4f38c74b374e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0819bd2c8ba503fcc4cd283d17c56274"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a05005.html">ParamsModel</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a0819bd2c8ba503fcc4cd283d17c56274">getParamsModel</a> ()</td></tr>
<tr class="separator:a0819bd2c8ba503fcc4cd283d17c56274"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a31d3bfc26e4365b9059fa6d7fd8188ad"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a31d3bfc26e4365b9059fa6d7fd8188ad">ExtractFeaturesFromPath</a> (const <a class="el" href="a04989.html">ViterbiStateEntry</a> &amp;vse, float features[])</td></tr>
<tr class="separator:a31d3bfc26e4365b9059fa6d7fd8188ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a370fa3c5a5687622a6cc309d34850aad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> = 0</td></tr>
<tr class="separator:a370fa3c5a5687622a6cc309d34850aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2f47a18751c6eae3e6d766b7ec0252"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a3f2f47a18751c6eae3e6d766b7ec0252">language_model_ngram_on</a> = false</td></tr>
<tr class="separator:a3f2f47a18751c6eae3e6d766b7ec0252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72ed869c239eb396cea18beed4d1802e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a72ed869c239eb396cea18beed4d1802e">language_model_ngram_order</a> = 8</td></tr>
<tr class="separator:a72ed869c239eb396cea18beed4d1802e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af137b94cf734b9460485e213d36b5c07"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#af137b94cf734b9460485e213d36b5c07">language_model_viterbi_list_max_num_prunable</a> = 10</td></tr>
<tr class="separator:af137b94cf734b9460485e213d36b5c07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a938b0a47b279f0caa7236910612786db"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a938b0a47b279f0caa7236910612786db">language_model_viterbi_list_max_size</a> = 500</td></tr>
<tr class="separator:a938b0a47b279f0caa7236910612786db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63b94afe3a13f301e59b76d36ada0bf0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a63b94afe3a13f301e59b76d36ada0bf0">language_model_ngram_small_prob</a> = 0.000001</td></tr>
<tr class="separator:a63b94afe3a13f301e59b76d36ada0bf0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a0214251cc5984766ee9ff635f682bf"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a7a0214251cc5984766ee9ff635f682bf">language_model_ngram_nonmatch_score</a> = -40.0</td></tr>
<tr class="separator:a7a0214251cc5984766ee9ff635f682bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a816f93d4a3a6e036c8ed3c39602d08a1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a816f93d4a3a6e036c8ed3c39602d08a1">language_model_ngram_use_only_first_uft8_step</a> = false</td></tr>
<tr class="separator:a816f93d4a3a6e036c8ed3c39602d08a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35b0809b85f83f6d5784700d383540dc"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a35b0809b85f83f6d5784700d383540dc">language_model_ngram_scale_factor</a> = 0.03</td></tr>
<tr class="separator:a35b0809b85f83f6d5784700d383540dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45fefb5ef26f893874923bc2f6add44c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a45fefb5ef26f893874923bc2f6add44c">language_model_ngram_rating_factor</a> = 16.0</td></tr>
<tr class="separator:a45fefb5ef26f893874923bc2f6add44c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9abf146f37c6bf885d2b30831a4836c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#ab9abf146f37c6bf885d2b30831a4836c">language_model_ngram_space_delimited_language</a> = true</td></tr>
<tr class="separator:ab9abf146f37c6bf885d2b30831a4836c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74c3764116fb5a0029768b8409307835"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a74c3764116fb5a0029768b8409307835">language_model_min_compound_length</a> = 3</td></tr>
<tr class="separator:a74c3764116fb5a0029768b8409307835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb005a2c12d48226dcca910d970615ab"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#aeb005a2c12d48226dcca910d970615ab">language_model_penalty_non_freq_dict_word</a> = 0.1</td></tr>
<tr class="separator:aeb005a2c12d48226dcca910d970615ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fc993337cf742c81176ce6ee216f264"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a7fc993337cf742c81176ce6ee216f264">language_model_penalty_non_dict_word</a> = 0.15</td></tr>
<tr class="separator:a7fc993337cf742c81176ce6ee216f264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a626c063d5658e12ba1b9b0bcc3a15a12"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a626c063d5658e12ba1b9b0bcc3a15a12">language_model_penalty_punc</a> = 0.2</td></tr>
<tr class="separator:a626c063d5658e12ba1b9b0bcc3a15a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ec341e8b657ea826fd462761ca38c29"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a1ec341e8b657ea826fd462761ca38c29">language_model_penalty_case</a> = 0.1</td></tr>
<tr class="separator:a1ec341e8b657ea826fd462761ca38c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0241f7e46e1e4573e6983b834ee6030"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#ae0241f7e46e1e4573e6983b834ee6030">language_model_penalty_script</a> = 0.5</td></tr>
<tr class="separator:ae0241f7e46e1e4573e6983b834ee6030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dff94459fc1b33990e986f6275bcba3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a6dff94459fc1b33990e986f6275bcba3">language_model_penalty_chartype</a> = 0.3</td></tr>
<tr class="separator:a6dff94459fc1b33990e986f6275bcba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ff90651c3c032797f774a0e45e3cf37"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a1ff90651c3c032797f774a0e45e3cf37">language_model_penalty_font</a> = 0.00</td></tr>
<tr class="separator:a1ff90651c3c032797f774a0e45e3cf37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56568c085d61523e01e5731d1430b87b"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a56568c085d61523e01e5731d1430b87b">language_model_penalty_spacing</a> = 0.05</td></tr>
<tr class="separator:a56568c085d61523e01e5731d1430b87b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b0db6d265577b230e827b2c592eed0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#ae4b0db6d265577b230e827b2c592eed0">language_model_penalty_increment</a> = 0.01</td></tr>
<tr class="separator:ae4b0db6d265577b230e827b2c592eed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a3fdef39a20b06519da43d74d2cff3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a2a3fdef39a20b06519da43d74d2cff3e">wordrec_display_segmentations</a> = 0</td></tr>
<tr class="separator:a2a3fdef39a20b06519da43d74d2cff3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5833949d12bb5a330b8aa862e8e98f4d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a5833949d12bb5a330b8aa862e8e98f4d">language_model_use_sigmoidal_certainty</a> = false</td></tr>
<tr class="separator:a5833949d12bb5a330b8aa862e8e98f4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a2ceab7e561b052612fbaefab123cdb37"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a2ceab7e561b052612fbaefab123cdb37">kSmallestRatingFlag</a> = 0x1</td></tr>
<tr class="separator:a2ceab7e561b052612fbaefab123cdb37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a632d464aad707355a3f8f8964ca8a4a9"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a632d464aad707355a3f8f8964ca8a4a9">kLowerCaseFlag</a> = 0x2</td></tr>
<tr class="separator:a632d464aad707355a3f8f8964ca8a4a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac41f6462a9bf12d7183db9e90a3099a4"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#ac41f6462a9bf12d7183db9e90a3099a4">kUpperCaseFlag</a> = 0x4</td></tr>
<tr class="separator:ac41f6462a9bf12d7183db9e90a3099a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a367422e9d316b7cfe79dab7528874b46"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a367422e9d316b7cfe79dab7528874b46">kDigitFlag</a> = 0x8</td></tr>
<tr class="separator:a367422e9d316b7cfe79dab7528874b46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a135df25d843cb847b8a40e752910c3b9"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a135df25d843cb847b8a40e752910c3b9">kXhtConsistentFlag</a> = 0x10</td></tr>
<tr class="separator:a135df25d843cb847b8a40e752910c3b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f3c78f8a231538513e4a47387072fc"><td class="memItemLeft" align="right" valign="top">static const float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a94f3c78f8a231538513e4a47387072fc">kMaxAvgNgramCost</a> = 25.0f</td></tr>
<tr class="separator:a94f3c78f8a231538513e4a47387072fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ad62708b20a5660fc70c98aaaa1407351"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#ad62708b20a5660fc70c98aaaa1407351">CertaintyScore</a> (float cert)</td></tr>
<tr class="separator:ad62708b20a5660fc70c98aaaa1407351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cbf75be87744e712363831e96b87858"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a2cbf75be87744e712363831e96b87858">ComputeAdjustment</a> (int num_problems, float penalty)</td></tr>
<tr class="separator:a2cbf75be87744e712363831e96b87858"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96403bc20db3881245821645f48c6b66"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a96403bc20db3881245821645f48c6b66">ComputeConsistencyAdjustment</a> (const <a class="el" href="a04981.html">LanguageModelDawgInfo</a> *dawg_info, const <a class="el" href="a04973.html">LMConsistencyInfo</a> &amp;consistency_info)</td></tr>
<tr class="separator:a96403bc20db3881245821645f48c6b66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aade564f59c0f197157101bc9672e7b7d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#aade564f59c0f197157101bc9672e7b7d">ComputeAdjustedPathCost</a> (<a class="el" href="a04989.html">ViterbiStateEntry</a> *vse)</td></tr>
<tr class="separator:aade564f59c0f197157101bc9672e7b7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d17f819be821b6e6148f9ccc3cc494a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a5d17f819be821b6e6148f9ccc3cc494a">GetTopLowerUpperDigit</a> (BLOB_CHOICE_LIST *curr_list, <a class="el" href="a02705.html">BLOB_CHOICE</a> **first_lower, <a class="el" href="a02705.html">BLOB_CHOICE</a> **first_upper, <a class="el" href="a02705.html">BLOB_CHOICE</a> **first_digit) const</td></tr>
<tr class="separator:a5d17f819be821b6e6148f9ccc3cc494a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab576230253851c8dcd66466f911d1736"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#ab576230253851c8dcd66466f911d1736">SetTopParentLowerUpperDigit</a> (<a class="el" href="a04993.html">LanguageModelState</a> *parent_node) const</td></tr>
<tr class="separator:ab576230253851c8dcd66466f911d1736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e61cda787ab1e6bbe0c9058b3115a23"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a04989.html">ViterbiStateEntry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a8e61cda787ab1e6bbe0c9058b3115a23">GetNextParentVSE</a> (bool just_classified, bool mixed_alnum, const <a class="el" href="a02705.html">BLOB_CHOICE</a> *bc, <a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a> blob_choice_flags, const <a class="el" href="a04041.html">UNICHARSET</a> &amp;unicharset, <a class="el" href="a02645.html">WERD_RES</a> *word_res, ViterbiStateEntry_IT *vse_it, <a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a> *top_choice_flags) const</td></tr>
<tr class="separator:a8e61cda787ab1e6bbe0c9058b3115a23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a01b8fad861499de57b8ac8842d73d6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a6a01b8fad861499de57b8ac8842d73d6">AddViterbiStateEntry</a> (<a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a> top_choice_flags, float denom, bool word_end, int curr_col, int curr_row, <a class="el" href="a02705.html">BLOB_CHOICE</a> *b, <a class="el" href="a04993.html">LanguageModelState</a> *curr_state, <a class="el" href="a04989.html">ViterbiStateEntry</a> *parent_vse, <a class="el" href="a04977.html">LMPainPoints</a> *pain_points, <a class="el" href="a02645.html">WERD_RES</a> *word_res, <a class="el" href="a04997.html">BestChoiceBundle</a> *best_choice_bundle, <a class="el" href="a02477.html">BlamerBundle</a> *blamer_bundle)</td></tr>
<tr class="separator:a6a01b8fad861499de57b8ac8842d73d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5949b5ac2ca3d8a426655aebd6d690e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#ad5949b5ac2ca3d8a426655aebd6d690e">GenerateTopChoiceInfo</a> (<a class="el" href="a04989.html">ViterbiStateEntry</a> *new_vse, const <a class="el" href="a04989.html">ViterbiStateEntry</a> *parent_vse, <a class="el" href="a04993.html">LanguageModelState</a> *lms)</td></tr>
<tr class="separator:ad5949b5ac2ca3d8a426655aebd6d690e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a080a5f92f370d5bedc6312deb4f915d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a04981.html">LanguageModelDawgInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a080a5f92f370d5bedc6312deb4f915d6">GenerateDawgInfo</a> (bool word_end, int curr_col, int curr_row, const <a class="el" href="a02705.html">BLOB_CHOICE</a> &amp;b, const <a class="el" href="a04989.html">ViterbiStateEntry</a> *parent_vse)</td></tr>
<tr class="separator:a080a5f92f370d5bedc6312deb4f915d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b620f66e0b51777e6c8064ffcd6c78b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a04985.html">LanguageModelNgramInfo</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a9b620f66e0b51777e6c8064ffcd6c78b">GenerateNgramInfo</a> (const char *unichar, float certainty, float denom, int curr_col, int curr_row, float outline_length, const <a class="el" href="a04989.html">ViterbiStateEntry</a> *parent_vse)</td></tr>
<tr class="separator:a9b620f66e0b51777e6c8064ffcd6c78b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4825ba908be2ed7c21f007bc6f21d970"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a4825ba908be2ed7c21f007bc6f21d970">ComputeNgramCost</a> (const char *unichar, float certainty, float denom, const char *context, int *unichar_step_len, bool *found_small_prob, float *ngram_prob)</td></tr>
<tr class="separator:a4825ba908be2ed7c21f007bc6f21d970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a933e234efec8a32e922023ad8811b469"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a933e234efec8a32e922023ad8811b469">ComputeDenom</a> (BLOB_CHOICE_LIST *curr_list)</td></tr>
<tr class="separator:a933e234efec8a32e922023ad8811b469"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c96de8604423454b95091880ed1ffd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#ad2c96de8604423454b95091880ed1ffd">FillConsistencyInfo</a> (int curr_col, bool word_end, <a class="el" href="a02705.html">BLOB_CHOICE</a> *b, <a class="el" href="a04989.html">ViterbiStateEntry</a> *parent_vse, <a class="el" href="a02645.html">WERD_RES</a> *word_res, <a class="el" href="a04973.html">LMConsistencyInfo</a> *consistency_info)</td></tr>
<tr class="separator:ad2c96de8604423454b95091880ed1ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c661983e15f176f8bf1cd0241b15dd2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a4c661983e15f176f8bf1cd0241b15dd2">UpdateBestChoice</a> (<a class="el" href="a04989.html">ViterbiStateEntry</a> *vse, <a class="el" href="a04977.html">LMPainPoints</a> *pain_points, <a class="el" href="a02645.html">WERD_RES</a> *word_res, <a class="el" href="a04997.html">BestChoiceBundle</a> *best_choice_bundle, <a class="el" href="a02477.html">BlamerBundle</a> *blamer_bundle)</td></tr>
<tr class="separator:a4c661983e15f176f8bf1cd0241b15dd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ed78a433afee7c4fe80f74865b44c02"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a02709.html">WERD_CHOICE</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a8ed78a433afee7c4fe80f74865b44c02">ConstructWord</a> (<a class="el" href="a04989.html">ViterbiStateEntry</a> *vse, <a class="el" href="a02645.html">WERD_RES</a> *word_res, <a class="el" href="a01166.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *fixpt, <a class="el" href="a02477.html">BlamerBundle</a> *blamer_bundle, bool *truth_path)</td></tr>
<tr class="separator:a8ed78a433afee7c4fe80f74865b44c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad27e147973e37ce07da1070a69a3f2f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#ad27e147973e37ce07da1070a69a3f2f9">ComputeAssociateStats</a> (int col, int row, float max_char_wh_ratio, <a class="el" href="a04989.html">ViterbiStateEntry</a> *parent_vse, <a class="el" href="a02645.html">WERD_RES</a> *word_res, <a class="el" href="a04961.html">AssociateStats</a> *associate_stats)</td></tr>
<tr class="separator:ad27e147973e37ce07da1070a69a3f2f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c9b9c5e553558ed4e566b39cc59f995"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a0c9b9c5e553558ed4e566b39cc59f995">PrunablePath</a> (const <a class="el" href="a04989.html">ViterbiStateEntry</a> &amp;vse)</td></tr>
<tr class="separator:a0c9b9c5e553558ed4e566b39cc59f995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b5ee45528f0c3b57efbe2ad661681c2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a4b5ee45528f0c3b57efbe2ad661681c2">AcceptablePath</a> (const <a class="el" href="a04989.html">ViterbiStateEntry</a> &amp;vse)</td></tr>
<tr class="separator:a4b5ee45528f0c3b57efbe2ad661681c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aedf6503eefab0943dd5e10945621535f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a04553.html">DawgArgs</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a></td></tr>
<tr class="separator:aedf6503eefab0943dd5e10945621535f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97f70b05e97cec59b6f24cbd6870d4e7"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a97f70b05e97cec59b6f24cbd6870d4e7">rating_cert_scale_</a></td></tr>
<tr class="separator:a97f70b05e97cec59b6f24cbd6870d4e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda83343e5c77980f11a8e28b90ce778"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="a02545.html">UnicityTable</a>&lt; <a class="el" href="a02557.html">FontInfo</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#adda83343e5c77980f11a8e28b90ce778">fontinfo_table_</a></td></tr>
<tr class="separator:adda83343e5c77980f11a8e28b90ce778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8d88b6237e566212b22b0eb6ba19a3b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a04557.html">Dict</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a></td></tr>
<tr class="separator:ab8d88b6237e566212b22b0eb6ba19a3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d0169b5188cb51117d47f4db3f7c3cf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a4d0169b5188cb51117d47f4db3f7c3cf">fixed_pitch_</a></td></tr>
<tr class="separator:a4d0169b5188cb51117d47f4db3f7c3cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dfeeea5f65081a408757d18115a466c"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a7dfeeea5f65081a408757d18115a466c">max_char_wh_ratio_</a></td></tr>
<tr class="separator:a7dfeeea5f65081a408757d18115a466c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eeb6e0ec00c1b3bd5824423da13c408"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a02929.html">STRING</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a1eeb6e0ec00c1b3bd5824423da13c408">prev_word_str_</a></td></tr>
<tr class="separator:a1eeb6e0ec00c1b3bd5824423da13c408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52a5540ea4de4f4b830dbcbb220d6bff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a52a5540ea4de4f4b830dbcbb220d6bff">prev_word_unichar_step_len_</a></td></tr>
<tr class="separator:a52a5540ea4de4f4b830dbcbb220d6bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2cbc53ed90a63bb524540fbdcdf2b32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a04533.html">DawgPositionVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#ac2cbc53ed90a63bb524540fbdcdf2b32">very_beginning_active_dawgs_</a></td></tr>
<tr class="separator:ac2cbc53ed90a63bb524540fbdcdf2b32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b39f11a66e9dd52208e15c1c62e8272"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a04533.html">DawgPositionVector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a0b39f11a66e9dd52208e15c1c62e8272">beginning_active_dawgs_</a></td></tr>
<tr class="separator:a0b39f11a66e9dd52208e15c1c62e8272"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee3c5c64657d9e77db9f2645ca1d29fd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#aee3c5c64657d9e77db9f2645ca1d29fd">acceptable_choice_found_</a></td></tr>
<tr class="separator:aee3c5c64657d9e77db9f2645ca1d29fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9440f91674a19de8d91894e0c99b1dd6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a9440f91674a19de8d91894e0c99b1dd6">correct_segmentation_explored_</a></td></tr>
<tr class="separator:a9440f91674a19de8d91894e0c99b1dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a344405fb6a548551e9e9fd3c6dd38b22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="a05005.html">ParamsModel</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a04969.html#a344405fb6a548551e9e9fd3c6dd38b22">params_model_</a></td></tr>
<tr class="separator:a344405fb6a548551e9e9fd3c6dd38b22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00042">42</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af68acd65ef84e197eef48131bfc6e9e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af68acd65ef84e197eef48131bfc6e9e1">&#9670;&nbsp;</a></span>LanguageModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tesseract::LanguageModel::LanguageModel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a02545.html">UnicityTable</a>&lt; <a class="el" href="a02557.html">FontInfo</a> &gt; *&#160;</td>
          <td class="paramname"><em>fontinfo_table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04557.html">Dict</a> *&#160;</td>
          <td class="paramname"><em>dict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l00044">44</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  : <a class="code" href="a00563.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a>, 0, <span class="stringliteral">&quot;Language model debug level&quot;</span>,</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;               dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="a00563.html#a94f2ea32cb5774190157d971d56734df">BOOL_INIT_MEMBER</a>(<a class="code" href="a04969.html#a3f2f47a18751c6eae3e6d766b7ec0252">language_model_ngram_on</a>, <span class="keyword">false</span>,</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                     <span class="stringliteral">&quot;Turn on/off the use of character ngram model&quot;</span>,</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                     dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <a class="code" href="a00563.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a04969.html#a72ed869c239eb396cea18beed4d1802e">language_model_ngram_order</a>, 8,</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;               <span class="stringliteral">&quot;Maximum order of the character ngram model&quot;</span>,</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;               dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="a00563.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a04969.html#af137b94cf734b9460485e213d36b5c07">language_model_viterbi_list_max_num_prunable</a>, 10,</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;               <span class="stringliteral">&quot;Maximum number of prunable (those for which&quot;</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;               <span class="stringliteral">&quot; PrunablePath() is true) entries in each viterbi list&quot;</span></div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;               <span class="stringliteral">&quot; recorded in BLOB_CHOICEs&quot;</span>,</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;               dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="a00563.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a04969.html#a938b0a47b279f0caa7236910612786db">language_model_viterbi_list_max_size</a>, 500,</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;               <span class="stringliteral">&quot;Maximum size of viterbi lists recorded in BLOB_CHOICEs&quot;</span>,</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;               dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="a00563.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a04969.html#a63b94afe3a13f301e59b76d36ada0bf0">language_model_ngram_small_prob</a>, 0.000001,</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                  <span class="stringliteral">&quot;To avoid overly small denominators use this as the &quot;</span></div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                  <span class="stringliteral">&quot;floor of the probability returned by the ngram model.&quot;</span>,</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                  dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <a class="code" href="a00563.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a04969.html#a7a0214251cc5984766ee9ff635f682bf">language_model_ngram_nonmatch_score</a>, -40.0,</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                  <span class="stringliteral">&quot;Average classifier score of a non-matching unichar.&quot;</span>,</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                  dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="a00563.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a04969.html#a816f93d4a3a6e036c8ed3c39602d08a1">language_model_ngram_use_only_first_uft8_step</a>, <span class="keyword">false</span>,</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                <span class="stringliteral">&quot;Use only the first UTF8 step of the given string&quot;</span></div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                <span class="stringliteral">&quot; when computing log probabilities.&quot;</span>,</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <a class="code" href="a00563.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a04969.html#a35b0809b85f83f6d5784700d383540dc">language_model_ngram_scale_factor</a>, 0.03,</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                  <span class="stringliteral">&quot;Strength of the character ngram model relative to the&quot;</span></div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                  <span class="stringliteral">&quot; character classifier &quot;</span>,</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                  dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="a00563.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a04969.html#a45fefb5ef26f893874923bc2f6add44c">language_model_ngram_rating_factor</a>, 16.0,</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                  <span class="stringliteral">&quot;Factor to bring log-probs into the same range as ratings&quot;</span></div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                  <span class="stringliteral">&quot; when multiplied by outline length &quot;</span>,</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                  dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <a class="code" href="a00563.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a>(<a class="code" href="a04969.html#ab9abf146f37c6bf885d2b30831a4836c">language_model_ngram_space_delimited_language</a>, <span class="keyword">true</span>,</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                <span class="stringliteral">&quot;Words are delimited by space&quot;</span>,</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="a00563.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a04969.html#a74c3764116fb5a0029768b8409307835">language_model_min_compound_length</a>, 3,</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;               <span class="stringliteral">&quot;Minimum length of compound words&quot;</span>,</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;               dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="a00563.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a04969.html#aeb005a2c12d48226dcca910d970615ab">language_model_penalty_non_freq_dict_word</a>, 0.1,</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                  <span class="stringliteral">&quot;Penalty for words not in the frequent word dictionary&quot;</span>,</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                  dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="a00563.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a04969.html#a7fc993337cf742c81176ce6ee216f264">language_model_penalty_non_dict_word</a>, 0.15,</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                  <span class="stringliteral">&quot;Penalty for non-dictionary words&quot;</span>,</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                  dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <a class="code" href="a00563.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a04969.html#a626c063d5658e12ba1b9b0bcc3a15a12">language_model_penalty_punc</a>, 0.2,</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                  <span class="stringliteral">&quot;Penalty for inconsistent punctuation&quot;</span>,</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                  dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <a class="code" href="a00563.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a04969.html#a1ec341e8b657ea826fd462761ca38c29">language_model_penalty_case</a>, 0.1,</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                  <span class="stringliteral">&quot;Penalty for inconsistent case&quot;</span>,</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                  dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <a class="code" href="a00563.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a04969.html#ae0241f7e46e1e4573e6983b834ee6030">language_model_penalty_script</a>, 0.5,</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                  <span class="stringliteral">&quot;Penalty for inconsistent script&quot;</span>,</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                  dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <a class="code" href="a00563.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a04969.html#a6dff94459fc1b33990e986f6275bcba3">language_model_penalty_chartype</a>, 0.3,</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                  <span class="stringliteral">&quot;Penalty for inconsistent character type&quot;</span>,</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                  dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">// TODO(daria, rays): enable font consistency checking</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">// after improving font analysis.</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="a00563.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a04969.html#a1ff90651c3c032797f774a0e45e3cf37">language_model_penalty_font</a>, 0.00,</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                  <span class="stringliteral">&quot;Penalty for inconsistent font&quot;</span>,</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                  dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="a00563.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a04969.html#a56568c085d61523e01e5731d1430b87b">language_model_penalty_spacing</a>, 0.05,</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                  <span class="stringliteral">&quot;Penalty for inconsistent spacing&quot;</span>,</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                  dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="a00563.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a>(<a class="code" href="a04969.html#ae4b0db6d265577b230e827b2c592eed0">language_model_penalty_increment</a>, 0.01,</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                  <span class="stringliteral">&quot;Penalty increment&quot;</span>,</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                  dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="a00563.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a>(<a class="code" href="a04969.html#a2a3fdef39a20b06519da43d74d2cff3e">wordrec_display_segmentations</a>, 0, <span class="stringliteral">&quot;Display Segmentations&quot;</span>,</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;               dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <a class="code" href="a00563.html#a94f2ea32cb5774190157d971d56734df">BOOL_INIT_MEMBER</a>(<a class="code" href="a04969.html#a5833949d12bb5a330b8aa862e8e98f4d">language_model_use_sigmoidal_certainty</a>, <span class="keyword">false</span>,</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                     <span class="stringliteral">&quot;Use sigmoidal score for certainty&quot;</span>,</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                     dict-&gt;getCCUtil()-&gt;params()),</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  <a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>(NULL, <span class="keyword">new</span> DawgPositionVector(), <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcafbce35860451a2bdc0a266cd83a4397f">NO_PERM</a>),</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <a class="code" href="a04969.html#adda83343e5c77980f11a8e28b90ce778">fontinfo_table_</a>(fontinfo_table), <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>(dict),</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="a04969.html#a4d0169b5188cb51117d47f4db3f7c3cf">fixed_pitch_</a>(<span class="keyword">false</span>), <a class="code" href="a04969.html#a7dfeeea5f65081a408757d18115a466c">max_char_wh_ratio_</a>(0.0),</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="a04969.html#aee3c5c64657d9e77db9f2645ca1d29fd">acceptable_choice_found_</a>(<span class="keyword">false</span>) {</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <a class="code" href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(<a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a> != NULL);</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;}</div><div class="ttc" id="a04969_html_a5833949d12bb5a330b8aa862e8e98f4d"><div class="ttname"><a href="a04969.html#a5833949d12bb5a330b8aa862e8e98f4d">tesseract::LanguageModel::language_model_use_sigmoidal_certainty</a></div><div class="ttdeci">bool language_model_use_sigmoidal_certainty</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00356">language_model.h:356</a></div></div>
<div class="ttc" id="a04969_html_a370fa3c5a5687622a6cc309d34850aad"><div class="ttname"><a href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">tesseract::LanguageModel::language_model_debug_level</a></div><div class="ttdeci">int language_model_debug_level</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00308">language_model.h:308</a></div></div>
<div class="ttc" id="a04969_html_a2a3fdef39a20b06519da43d74d2cff3e"><div class="ttname"><a href="a04969.html#a2a3fdef39a20b06519da43d74d2cff3e">tesseract::LanguageModel::wordrec_display_segmentations</a></div><div class="ttdeci">int wordrec_display_segmentations</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00354">language_model.h:354</a></div></div>
<div class="ttc" id="a04969_html_ae4b0db6d265577b230e827b2c592eed0"><div class="ttname"><a href="a04969.html#ae4b0db6d265577b230e827b2c592eed0">tesseract::LanguageModel::language_model_penalty_increment</a></div><div class="ttdeci">double language_model_penalty_increment</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00353">language_model.h:353</a></div></div>
<div class="ttc" id="a04969_html_a938b0a47b279f0caa7236910612786db"><div class="ttname"><a href="a04969.html#a938b0a47b279f0caa7236910612786db">tesseract::LanguageModel::language_model_viterbi_list_max_size</a></div><div class="ttdeci">int language_model_viterbi_list_max_size</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00317">language_model.h:317</a></div></div>
<div class="ttc" id="a04969_html_ae0241f7e46e1e4573e6983b834ee6030"><div class="ttname"><a href="a04969.html#ae0241f7e46e1e4573e6983b834ee6030">tesseract::LanguageModel::language_model_penalty_script</a></div><div class="ttdeci">double language_model_penalty_script</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00346">language_model.h:346</a></div></div>
<div class="ttc" id="a04969_html_a56568c085d61523e01e5731d1430b87b"><div class="ttname"><a href="a04969.html#a56568c085d61523e01e5731d1430b87b">tesseract::LanguageModel::language_model_penalty_spacing</a></div><div class="ttdeci">double language_model_penalty_spacing</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00352">language_model.h:352</a></div></div>
<div class="ttc" id="a04969_html_aee3c5c64657d9e77db9f2645ca1d29fd"><div class="ttname"><a href="a04969.html#aee3c5c64657d9e77db9f2645ca1d29fd">tesseract::LanguageModel::acceptable_choice_found_</a></div><div class="ttdeci">bool acceptable_choice_found_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00408">language_model.h:408</a></div></div>
<div class="ttc" id="a04969_html_a7fc993337cf742c81176ce6ee216f264"><div class="ttname"><a href="a04969.html#a7fc993337cf742c81176ce6ee216f264">tesseract::LanguageModel::language_model_penalty_non_dict_word</a></div><div class="ttdeci">double language_model_penalty_non_dict_word</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00340">language_model.h:340</a></div></div>
<div class="ttc" id="a04969_html_a626c063d5658e12ba1b9b0bcc3a15a12"><div class="ttname"><a href="a04969.html#a626c063d5658e12ba1b9b0bcc3a15a12">tesseract::LanguageModel::language_model_penalty_punc</a></div><div class="ttdeci">double language_model_penalty_punc</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00342">language_model.h:342</a></div></div>
<div class="ttc" id="a04969_html_a45fefb5ef26f893874923bc2f6add44c"><div class="ttname"><a href="a04969.html#a45fefb5ef26f893874923bc2f6add44c">tesseract::LanguageModel::language_model_ngram_rating_factor</a></div><div class="ttdeci">double language_model_ngram_rating_factor</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00331">language_model.h:331</a></div></div>
<div class="ttc" id="a04969_html_a74c3764116fb5a0029768b8409307835"><div class="ttname"><a href="a04969.html#a74c3764116fb5a0029768b8409307835">tesseract::LanguageModel::language_model_min_compound_length</a></div><div class="ttdeci">int language_model_min_compound_length</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00335">language_model.h:335</a></div></div>
<div class="ttc" id="a04969_html_a1ff90651c3c032797f774a0e45e3cf37"><div class="ttname"><a href="a04969.html#a1ff90651c3c032797f774a0e45e3cf37">tesseract::LanguageModel::language_model_penalty_font</a></div><div class="ttdeci">double language_model_penalty_font</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00350">language_model.h:350</a></div></div>
<div class="ttc" id="a04969_html_af137b94cf734b9460485e213d36b5c07"><div class="ttname"><a href="a04969.html#af137b94cf734b9460485e213d36b5c07">tesseract::LanguageModel::language_model_viterbi_list_max_num_prunable</a></div><div class="ttdeci">int language_model_viterbi_list_max_num_prunable</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00315">language_model.h:315</a></div></div>
<div class="ttc" id="a04969_html_a35b0809b85f83f6d5784700d383540dc"><div class="ttname"><a href="a04969.html#a35b0809b85f83f6d5784700d383540dc">tesseract::LanguageModel::language_model_ngram_scale_factor</a></div><div class="ttdeci">double language_model_ngram_scale_factor</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00328">language_model.h:328</a></div></div>
<div class="ttc" id="a04969_html_aedf6503eefab0943dd5e10945621535f"><div class="ttname"><a href="a04969.html#aedf6503eefab0943dd5e10945621535f">tesseract::LanguageModel::dawg_args_</a></div><div class="ttdeci">DawgArgs dawg_args_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00356">language_model.h:356</a></div></div>
<div class="ttc" id="a04969_html_adda83343e5c77980f11a8e28b90ce778"><div class="ttname"><a href="a04969.html#adda83343e5c77980f11a8e28b90ce778">tesseract::LanguageModel::fontinfo_table_</a></div><div class="ttdeci">const UnicityTable&lt; FontInfo &gt; * fontinfo_table_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00371">language_model.h:371</a></div></div>
<div class="ttc" id="a00563_html_a94f2ea32cb5774190157d971d56734df"><div class="ttname"><a href="a00563.html#a94f2ea32cb5774190157d971d56734df">BOOL_INIT_MEMBER</a></div><div class="ttdeci">#define BOOL_INIT_MEMBER(name, val, comment, vec)</div><div class="ttdef"><b>Definition:</b> <a href="a00563_source.html#l00316">params.h:316</a></div></div>
<div class="ttc" id="a04969_html_a6dff94459fc1b33990e986f6275bcba3"><div class="ttname"><a href="a04969.html#a6dff94459fc1b33990e986f6275bcba3">tesseract::LanguageModel::language_model_penalty_chartype</a></div><div class="ttdeci">double language_model_penalty_chartype</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00348">language_model.h:348</a></div></div>
<div class="ttc" id="a04969_html_a816f93d4a3a6e036c8ed3c39602d08a1"><div class="ttname"><a href="a04969.html#a816f93d4a3a6e036c8ed3c39602d08a1">tesseract::LanguageModel::language_model_ngram_use_only_first_uft8_step</a></div><div class="ttdeci">bool language_model_ngram_use_only_first_uft8_step</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00325">language_model.h:325</a></div></div>
<div class="ttc" id="a04969_html_ab9abf146f37c6bf885d2b30831a4836c"><div class="ttname"><a href="a04969.html#ab9abf146f37c6bf885d2b30831a4836c">tesseract::LanguageModel::language_model_ngram_space_delimited_language</a></div><div class="ttdeci">bool language_model_ngram_space_delimited_language</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00333">language_model.h:333</a></div></div>
<div class="ttc" id="a04969_html_a72ed869c239eb396cea18beed4d1802e"><div class="ttname"><a href="a04969.html#a72ed869c239eb396cea18beed4d1802e">tesseract::LanguageModel::language_model_ngram_order</a></div><div class="ttdeci">int language_model_ngram_order</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00312">language_model.h:312</a></div></div>
<div class="ttc" id="a00563_html_afe1760253f2b6e3b14c1bf275d8531d4"><div class="ttname"><a href="a00563.html#afe1760253f2b6e3b14c1bf275d8531d4">BOOL_MEMBER</a></div><div class="ttdeci">#define BOOL_MEMBER(name, val, comment, vec)</div><div class="ttdef"><b>Definition:</b> <a href="a00563_source.html#l00304">params.h:304</a></div></div>
<div class="ttc" id="a00563_html_a05d4e03af9e317d4201155efa15d4d4a"><div class="ttname"><a href="a00563.html#a05d4e03af9e317d4201155efa15d4d4a">INT_MEMBER</a></div><div class="ttdeci">#define INT_MEMBER(name, val, comment, vec)</div><div class="ttdef"><b>Definition:</b> <a href="a00563_source.html#l00301">params.h:301</a></div></div>
<div class="ttc" id="a00563_html_abc29757c0b64587fef3aa7556e2fd7b9"><div class="ttname"><a href="a00563.html#abc29757c0b64587fef3aa7556e2fd7b9">double_MEMBER</a></div><div class="ttdeci">#define double_MEMBER(name, val, comment, vec)</div><div class="ttdef"><b>Definition:</b> <a href="a00563_source.html#l00310">params.h:310</a></div></div>
<div class="ttc" id="a04969_html_a4d0169b5188cb51117d47f4db3f7c3cf"><div class="ttname"><a href="a04969.html#a4d0169b5188cb51117d47f4db3f7c3cf">tesseract::LanguageModel::fixed_pitch_</a></div><div class="ttdeci">bool fixed_pitch_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00382">language_model.h:382</a></div></div>
<div class="ttc" id="a04969_html_a7a0214251cc5984766ee9ff635f682bf"><div class="ttname"><a href="a04969.html#a7a0214251cc5984766ee9ff635f682bf">tesseract::LanguageModel::language_model_ngram_nonmatch_score</a></div><div class="ttdeci">double language_model_ngram_nonmatch_score</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00322">language_model.h:322</a></div></div>
<div class="ttc" id="a04969_html_a3f2f47a18751c6eae3e6d766b7ec0252"><div class="ttname"><a href="a04969.html#a3f2f47a18751c6eae3e6d766b7ec0252">tesseract::LanguageModel::language_model_ngram_on</a></div><div class="ttdeci">bool language_model_ngram_on</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00310">language_model.h:310</a></div></div>
<div class="ttc" id="a04969_html_a7dfeeea5f65081a408757d18115a466c"><div class="ttname"><a href="a04969.html#a7dfeeea5f65081a408757d18115a466c">tesseract::LanguageModel::max_char_wh_ratio_</a></div><div class="ttdeci">float max_char_wh_ratio_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00385">language_model.h:385</a></div></div>
<div class="ttc" id="a04969_html_a1ec341e8b657ea826fd462761ca38c29"><div class="ttname"><a href="a04969.html#a1ec341e8b657ea826fd462761ca38c29">tesseract::LanguageModel::language_model_penalty_case</a></div><div class="ttdeci">double language_model_penalty_case</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00344">language_model.h:344</a></div></div>
<div class="ttc" id="a04969_html_a63b94afe3a13f301e59b76d36ada0bf0"><div class="ttname"><a href="a04969.html#a63b94afe3a13f301e59b76d36ada0bf0">tesseract::LanguageModel::language_model_ngram_small_prob</a></div><div class="ttdeci">double language_model_ngram_small_prob</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00320">language_model.h:320</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bcafbce35860451a2bdc0a266cd83a4397f"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcafbce35860451a2bdc0a266cd83a4397f">NO_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00241">ratngs.h:241</a></div></div>
<div class="ttc" id="a04969_html_ab8d88b6237e566212b22b0eb6ba19a3b"><div class="ttname"><a href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">tesseract::LanguageModel::dict_</a></div><div class="ttdeci">Dict * dict_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00375">language_model.h:375</a></div></div>
<div class="ttc" id="a00500_html_a93a603f4063a6b9403d81caa245a583b"><div class="ttname"><a href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a></div><div class="ttdeci">#define ASSERT_HOST(x)</div><div class="ttdef"><b>Definition:</b> <a href="a00500_source.html#l00084">errcode.h:84</a></div></div>
<div class="ttc" id="a04969_html_aeb005a2c12d48226dcca910d970615ab"><div class="ttname"><a href="a04969.html#aeb005a2c12d48226dcca910d970615ab">tesseract::LanguageModel::language_model_penalty_non_freq_dict_word</a></div><div class="ttdeci">double language_model_penalty_non_freq_dict_word</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00338">language_model.h:338</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a99f684d6e3d47fadd09dc2e92e194c7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99f684d6e3d47fadd09dc2e92e194c7f">&#9670;&nbsp;</a></span>~LanguageModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tesseract::LanguageModel::~LanguageModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l00128">128</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                              {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  <span class="keyword">delete</span> <a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>.<a class="code" href="a04553.html#aa0618a8307e4a124c7c743887437f7db">updated_dawgs</a>;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;}</div><div class="ttc" id="a04553_html_aa0618a8307e4a124c7c743887437f7db"><div class="ttname"><a href="a04553.html#aa0618a8307e4a124c7c743887437f7db">tesseract::DawgArgs::updated_dawgs</a></div><div class="ttdeci">DawgPositionVector * updated_dawgs</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00081">dict.h:81</a></div></div>
<div class="ttc" id="a04969_html_aedf6503eefab0943dd5e10945621535f"><div class="ttname"><a href="a04969.html#aedf6503eefab0943dd5e10945621535f">tesseract::LanguageModel::dawg_args_</a></div><div class="ttdeci">DawgArgs dawg_args_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00356">language_model.h:356</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3a6f034012a45448a018bd4042138f74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a6f034012a45448a018bd4042138f74">&#9670;&nbsp;</a></span>AcceptableChoiceFound()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::LanguageModel::AcceptableChoiceFound </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00095">95</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="a04969.html#aee3c5c64657d9e77db9f2645ca1d29fd">acceptable_choice_found_</a>; }</div><div class="ttc" id="a04969_html_aee3c5c64657d9e77db9f2645ca1d29fd"><div class="ttname"><a href="a04969.html#aee3c5c64657d9e77db9f2645ca1d29fd">tesseract::LanguageModel::acceptable_choice_found_</a></div><div class="ttdeci">bool acceptable_choice_found_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00408">language_model.h:408</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4b5ee45528f0c3b57efbe2ad661681c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b5ee45528f0c3b57efbe2ad661681c2">&#9670;&nbsp;</a></span>AcceptablePath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::LanguageModel::AcceptablePath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a04989.html">ViterbiStateEntry</a> &amp;&#160;</td>
          <td class="paramname"><em>vse</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00301">301</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                                                           {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keywordflow">return</span> (vse.dawg_info != NULL || vse.Consistent() ||</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;            (vse.ngram_info != NULL &amp;&amp; !vse.ngram_info-&gt;pruned));</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  }</div></div><!-- fragment -->
</div>
</div>
<a id="a6a01b8fad861499de57b8ac8842d73d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a01b8fad861499de57b8ac8842d73d6">&#9670;&nbsp;</a></span>AddViterbiStateEntry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::LanguageModel::AddViterbiStateEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a>&#160;</td>
          <td class="paramname"><em>top_choice_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>denom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>word_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>curr_col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>curr_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02705.html">BLOB_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04993.html">LanguageModelState</a> *&#160;</td>
          <td class="paramname"><em>curr_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04989.html">ViterbiStateEntry</a> *&#160;</td>
          <td class="paramname"><em>parent_vse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04977.html">LMPainPoints</a> *&#160;</td>
          <td class="paramname"><em>pain_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02645.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04997.html">BestChoiceBundle</a> *&#160;</td>
          <td class="paramname"><em>best_choice_bundle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02477.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l00557">557</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                                 {</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  ViterbiStateEntry_IT vit;</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 1) {</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;AddViterbiStateEntry for unichar %s rating=%.4f&quot;</span></div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;            <span class="stringliteral">&quot; certainty=%.4f top_choice_flags=0x%x&quot;</span>,</div><div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;            <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>().<a class="code" href="a04041.html#aa19fb595808fe4688c580334937dfa45">id_to_unichar</a>(b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>()),</div><div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            b-&gt;<a class="code" href="a02705.html#ab90b9f9f303420fee80622acd9d268f2">rating</a>(), b-&gt;<a class="code" href="a02705.html#a32e1cb6ffd5a422c29da3557d826fa3c">certainty</a>(), top_choice_flags);</div><div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 5)</div><div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot; parent_vse=%p\n&quot;</span>, parent_vse);</div><div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  }</div><div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <span class="comment">// Check whether the list is full.</span></div><div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <span class="keywordflow">if</span> (curr_state != NULL &amp;&amp;</div><div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;      curr_state-&gt;viterbi_state_entries_length &gt;=</div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;          <a class="code" href="a04969.html#a938b0a47b279f0caa7236910612786db">language_model_viterbi_list_max_size</a>) {</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 1) {</div><div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;AddViterbiStateEntry: viterbi list is full!\n&quot;</span>);</div><div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    }</div><div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  }</div><div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="comment">// Invoke Dawg language model component.</span></div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  LanguageModelDawgInfo *dawg_info =</div><div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <a class="code" href="a04969.html#a080a5f92f370d5bedc6312deb4f915d6">GenerateDawgInfo</a>(word_end, curr_col, curr_row, *b, parent_vse);</div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;  <span class="keywordtype">float</span> outline_length =</div><div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;      <a class="code" href="a04965.html#a3ee6888a09d72d761762afd0b9089ca2">AssociateUtils::ComputeOutlineLength</a>(<a class="code" href="a04969.html#a97f70b05e97cec59b6f24cbd6870d4e7">rating_cert_scale_</a>, *b);</div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="comment">// Invoke Ngram language model component.</span></div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;  LanguageModelNgramInfo *ngram_info = NULL;</div><div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a3f2f47a18751c6eae3e6d766b7ec0252">language_model_ngram_on</a>) {</div><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;    ngram_info = <a class="code" href="a04969.html#a9b620f66e0b51777e6c8064ffcd6c78b">GenerateNgramInfo</a>(</div><div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>().<a class="code" href="a04041.html#aa19fb595808fe4688c580334937dfa45">id_to_unichar</a>(b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>()), b-&gt;<a class="code" href="a02705.html#a32e1cb6ffd5a422c29da3557d826fa3c">certainty</a>(),</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        denom, curr_col, curr_row, outline_length, parent_vse);</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <a class="code" href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(ngram_info != NULL);</div><div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;  }</div><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;  <span class="keywordtype">bool</span> liked_by_language_model = dawg_info != NULL ||</div><div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;      (ngram_info != NULL &amp;&amp; !ngram_info-&gt;pruned);</div><div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;  <span class="comment">// Quick escape if not liked by the language model, can&#39;t be consistent</span></div><div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;  <span class="comment">// xheight, and not top choice.</span></div><div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;  <span class="keywordflow">if</span> (!liked_by_language_model &amp;&amp; top_choice_flags == 0) {</div><div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 1) {</div><div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Language model components very early pruned this entry\n&quot;</span>);</div><div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    }</div><div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <span class="keyword">delete</span> ngram_info;</div><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="keyword">delete</span> dawg_info;</div><div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  }</div><div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div><div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="comment">// Check consistency of the path and set the relevant consistency_info.</span></div><div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  LMConsistencyInfo consistency_info(</div><div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    parent_vse != NULL ? &amp;parent_vse-&gt;consistency_info : NULL);</div><div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="comment">// Start with just the x-height consistency, as it provides significant</span></div><div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="comment">// pruning opportunity.</span></div><div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;  consistency_info.ComputeXheightConsistency(</div><div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      b, <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>().<a class="code" href="a04041.html#a4b8a480ae40b5ead314b25f95a5dc490">get_ispunctuation</a>(b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>()));</div><div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  <span class="comment">// Turn off xheight consistent flag if not consistent.</span></div><div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  <span class="keywordflow">if</span> (consistency_info.InconsistentXHeight()) {</div><div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    top_choice_flags &amp;= ~<a class="code" href="a04969.html#a135df25d843cb847b8a40e752910c3b9">kXhtConsistentFlag</a>;</div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;  }</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  <span class="comment">// Quick escape if not liked by the language model, not consistent xheight,</span></div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="comment">// and not top choice.</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  <span class="keywordflow">if</span> (!liked_by_language_model &amp;&amp; top_choice_flags == 0) {</div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 1) {</div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Language model components early pruned this entry\n&quot;</span>);</div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    }</div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="keyword">delete</span> ngram_info;</div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keyword">delete</span> dawg_info;</div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;  }</div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  <span class="comment">// Compute the rest of the consistency info.</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <a class="code" href="a04969.html#ad2c96de8604423454b95091880ed1ffd">FillConsistencyInfo</a>(curr_col, word_end, b, parent_vse,</div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;                      word_res, &amp;consistency_info);</div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  <span class="keywordflow">if</span> (dawg_info != NULL &amp;&amp; consistency_info.invalid_punc) {</div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    consistency_info.invalid_punc = <span class="keyword">false</span>;  <span class="comment">// do not penalize dict words</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;  }</div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;  <span class="comment">// Compute cost of associating the blobs that represent the current unichar.</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;  AssociateStats associate_stats;</div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;  <a class="code" href="a04969.html#ad27e147973e37ce07da1070a69a3f2f9">ComputeAssociateStats</a>(curr_col, curr_row, <a class="code" href="a04969.html#a7dfeeea5f65081a408757d18115a466c">max_char_wh_ratio_</a>,</div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                        parent_vse, word_res, &amp;associate_stats);</div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <span class="keywordflow">if</span> (parent_vse != NULL) {</div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    associate_stats.shape_cost += parent_vse-&gt;associate_stats.shape_cost;</div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    associate_stats.bad_shape |= parent_vse-&gt;associate_stats.bad_shape;</div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  }</div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;</div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;  <span class="comment">// Create the new ViterbiStateEntry compute the adjusted cost of the path.</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  ViterbiStateEntry *new_vse = <span class="keyword">new</span> ViterbiStateEntry(</div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;      parent_vse, b, 0.0, outline_length,</div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;      consistency_info, associate_stats, top_choice_flags, dawg_info,</div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;      ngram_info, (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 0) ?</div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;          <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>().<a class="code" href="a04041.html#aa19fb595808fe4688c580334937dfa45">id_to_unichar</a>(b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>()) : NULL);</div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  new_vse-&gt;cost = <a class="code" href="a04969.html#aade564f59c0f197157101bc9672e7b7d">ComputeAdjustedPathCost</a>(new_vse);</div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt;= 3)</div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Adjusted cost = %g\n&quot;</span>, new_vse-&gt;cost);</div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  <span class="comment">// Invoke Top Choice language model component to make the final adjustments</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="comment">// to new_vse-&gt;top_choice_flags.</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  <span class="keywordflow">if</span> (!curr_state-&gt;viterbi_state_entries.empty() &amp;&amp; new_vse-&gt;top_choice_flags) {</div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="a04969.html#ad5949b5ac2ca3d8a426655aebd6d690e">GenerateTopChoiceInfo</a>(new_vse, parent_vse, curr_state);</div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  }</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="comment">// If language model components did not like this unichar - return.</span></div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordtype">bool</span> keep = new_vse-&gt;top_choice_flags || liked_by_language_model;</div><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;  <span class="keywordflow">if</span> (!(top_choice_flags &amp; <a class="code" href="a04969.html#a2ceab7e561b052612fbaefab123cdb37">kSmallestRatingFlag</a>) &amp;&amp;  <span class="comment">// no non-top choice paths</span></div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      consistency_info.inconsistent_script) {       <span class="comment">// with inconsistent script</span></div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    keep = <span class="keyword">false</span>;</div><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  }</div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keywordflow">if</span> (!keep) {</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 1) {</div><div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Language model components did not like this entry\n&quot;</span>);</div><div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    }</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keyword">delete</span> new_vse;</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;  }</div><div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="comment">// Discard this entry if it represents a prunable path and</span></div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="comment">// language_model_viterbi_list_max_num_prunable such entries with a lower</span></div><div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;  <span class="comment">// cost have already been recorded.</span></div><div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a0c9b9c5e553558ed4e566b39cc59f995">PrunablePath</a>(*new_vse) &amp;&amp;</div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;      (curr_state-&gt;viterbi_state_entries_prunable_length &gt;=</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;       <a class="code" href="a04969.html#af137b94cf734b9460485e213d36b5c07">language_model_viterbi_list_max_num_prunable</a>) &amp;&amp;</div><div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;      new_vse-&gt;cost &gt;= curr_state-&gt;viterbi_state_entries_prunable_max_cost) {</div><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 1) {</div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Discarded ViterbiEntry with high cost %g max cost %g\n&quot;</span>,</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;              new_vse-&gt;cost,</div><div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;              curr_state-&gt;viterbi_state_entries_prunable_max_cost);</div><div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    }</div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    <span class="keyword">delete</span> new_vse;</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;  }</div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div><div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;  <span class="comment">// Update best choice if needed.</span></div><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordflow">if</span> (word_end) {</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <a class="code" href="a04969.html#a4c661983e15f176f8bf1cd0241b15dd2">UpdateBestChoice</a>(new_vse, pain_points, word_res,</div><div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;                     best_choice_bundle, blamer_bundle);</div><div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="comment">// Discard the entry if UpdateBestChoice() found flaws in it.</span></div><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="keywordflow">if</span> (new_vse-&gt;cost &gt;= <a class="code" href="a02709.html#aa831918b1d217afd4dc547033f642990">WERD_CHOICE::kBadRating</a> &amp;&amp;</div><div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        new_vse != best_choice_bundle-&gt;best_vse) {</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 1) {</div><div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Discarded ViterbiEntry with high cost %g\n&quot;</span>, new_vse-&gt;cost);</div><div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;      }</div><div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;      <span class="keyword">delete</span> new_vse;</div><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    }</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  }</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  <span class="comment">// Add the new ViterbiStateEntry and to curr_state-&gt;viterbi_state_entries.</span></div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;  curr_state-&gt;viterbi_state_entries.add_sorted(<a class="code" href="a04989.html#ac3059c34aaa3f33e488259770299d3f0">ViterbiStateEntry::Compare</a>,</div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;                                               <span class="keyword">false</span>, new_vse);</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  curr_state-&gt;viterbi_state_entries_length++;</div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a0c9b9c5e553558ed4e566b39cc59f995">PrunablePath</a>(*new_vse)) {</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    curr_state-&gt;viterbi_state_entries_prunable_length++;</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  }</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;</div><div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;  <span class="comment">// Update lms-&gt;viterbi_state_entries_prunable_max_cost and clear</span></div><div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="comment">// top_choice_flags of entries with ratings_sum than new_vse-&gt;ratings_sum.</span></div><div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;  <span class="keywordflow">if</span> ((curr_state-&gt;viterbi_state_entries_prunable_length &gt;=</div><div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;       <a class="code" href="a04969.html#af137b94cf734b9460485e213d36b5c07">language_model_viterbi_list_max_num_prunable</a>) ||</div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;      new_vse-&gt;top_choice_flags) {</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <a class="code" href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(!curr_state-&gt;viterbi_state_entries.empty());</div><div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="keywordtype">int</span> prunable_counter = <a class="code" href="a04969.html#af137b94cf734b9460485e213d36b5c07">language_model_viterbi_list_max_num_prunable</a>;</div><div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    vit.set_to_list(&amp;(curr_state-&gt;viterbi_state_entries));</div><div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="keywordflow">for</span> (vit.mark_cycle_pt(); !vit.cycled_list(); vit.forward()) {</div><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      ViterbiStateEntry *curr_vse = vit.data();</div><div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      <span class="comment">// Clear the appropriate top choice flags of the entries in the</span></div><div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;      <span class="comment">// list that have cost higher thank new_entry-&gt;cost</span></div><div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;      <span class="comment">// (since they will not be top choices any more).</span></div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;      <span class="keywordflow">if</span> (curr_vse-&gt;top_choice_flags &amp;&amp; curr_vse != new_vse &amp;&amp;</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;          curr_vse-&gt;cost &gt; new_vse-&gt;cost) {</div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;        curr_vse-&gt;top_choice_flags &amp;= ~(new_vse-&gt;top_choice_flags);</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      }</div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;      <span class="keywordflow">if</span> (prunable_counter &gt; 0 &amp;&amp; <a class="code" href="a04969.html#a0c9b9c5e553558ed4e566b39cc59f995">PrunablePath</a>(*curr_vse)) --prunable_counter;</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      <span class="comment">// Update curr_state-&gt;viterbi_state_entries_prunable_max_cost.</span></div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;      <span class="keywordflow">if</span> (prunable_counter == 0) {</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;        curr_state-&gt;viterbi_state_entries_prunable_max_cost = vit.data()-&gt;cost;</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 1) {</div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;          <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Set viterbi_state_entries_prunable_max_cost to %g\n&quot;</span>,</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                  curr_state-&gt;viterbi_state_entries_prunable_max_cost);</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;        }</div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        prunable_counter = -1;  <span class="comment">// stop counting</span></div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;      }</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    }</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  }</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <span class="comment">// Print the newly created ViterbiStateEntry.</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 2) {</div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    new_vse-&gt;Print(<span class="stringliteral">&quot;New&quot;</span>);</div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 5)</div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;      curr_state-&gt;Print(<span class="stringliteral">&quot;Updated viterbi list&quot;</span>);</div><div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;  }</div><div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div><div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;}</div><div class="ttc" id="a04969_html_a370fa3c5a5687622a6cc309d34850aad"><div class="ttname"><a href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">tesseract::LanguageModel::language_model_debug_level</a></div><div class="ttdeci">int language_model_debug_level</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00308">language_model.h:308</a></div></div>
<div class="ttc" id="a04969_html_a080a5f92f370d5bedc6312deb4f915d6"><div class="ttname"><a href="a04969.html#a080a5f92f370d5bedc6312deb4f915d6">tesseract::LanguageModel::GenerateDawgInfo</a></div><div class="ttdeci">LanguageModelDawgInfo * GenerateDawgInfo(bool word_end, int curr_col, int curr_row, const BLOB_CHOICE &amp;b, const ViterbiStateEntry *parent_vse)</div><div class="ttdef"><b>Definition:</b> <a href="a01664_source.html#l00781">language_model.cpp:781</a></div></div>
<div class="ttc" id="a04969_html_a938b0a47b279f0caa7236910612786db"><div class="ttname"><a href="a04969.html#a938b0a47b279f0caa7236910612786db">tesseract::LanguageModel::language_model_viterbi_list_max_size</a></div><div class="ttdeci">int language_model_viterbi_list_max_size</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00317">language_model.h:317</a></div></div>
<div class="ttc" id="a04969_html_a4c661983e15f176f8bf1cd0241b15dd2"><div class="ttname"><a href="a04969.html#a4c661983e15f176f8bf1cd0241b15dd2">tesseract::LanguageModel::UpdateBestChoice</a></div><div class="ttdeci">void UpdateBestChoice(ViterbiStateEntry *vse, LMPainPoints *pain_points, WERD_RES *word_res, BestChoiceBundle *best_choice_bundle, BlamerBundle *blamer_bundle)</div><div class="ttdef"><b>Definition:</b> <a href="a01664_source.html#l01234">language_model.cpp:1234</a></div></div>
<div class="ttc" id="a04969_html_a0c9b9c5e553558ed4e566b39cc59f995"><div class="ttname"><a href="a04969.html#a0c9b9c5e553558ed4e566b39cc59f995">tesseract::LanguageModel::PrunablePath</a></div><div class="ttdeci">bool PrunablePath(const ViterbiStateEntry &amp;vse)</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00291">language_model.h:291</a></div></div>
<div class="ttc" id="a04969_html_a2ceab7e561b052612fbaefab123cdb37"><div class="ttname"><a href="a04969.html#a2ceab7e561b052612fbaefab123cdb37">tesseract::LanguageModel::kSmallestRatingFlag</a></div><div class="ttdeci">static const LanguageModelFlagsType kSmallestRatingFlag</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00045">language_model.h:45</a></div></div>
<div class="ttc" id="a04557_html_a3ed04d9d9419ce413e9e495b5c5001ad"><div class="ttname"><a href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">tesseract::Dict::getUnicharset</a></div><div class="ttdeci">const UNICHARSET &amp; getUnicharset() const</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00097">dict.h:97</a></div></div>
<div class="ttc" id="a04969_html_af137b94cf734b9460485e213d36b5c07"><div class="ttname"><a href="a04969.html#af137b94cf734b9460485e213d36b5c07">tesseract::LanguageModel::language_model_viterbi_list_max_num_prunable</a></div><div class="ttdeci">int language_model_viterbi_list_max_num_prunable</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00315">language_model.h:315</a></div></div>
<div class="ttc" id="a04969_html_a97f70b05e97cec59b6f24cbd6870d4e7"><div class="ttname"><a href="a04969.html#a97f70b05e97cec59b6f24cbd6870d4e7">tesseract::LanguageModel::rating_cert_scale_</a></div><div class="ttdeci">float rating_cert_scale_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00366">language_model.h:366</a></div></div>
<div class="ttc" id="a04989_html_ac3059c34aaa3f33e488259770299d3f0"><div class="ttname"><a href="a04989.html#ac3059c34aaa3f33e488259770299d3f0">tesseract::ViterbiStateEntry::Compare</a></div><div class="ttdeci">static int Compare(const void *e1, const void *e2)</div><div class="ttdef"><b>Definition:</b> <a href="a01685_source.html#l00126">lm_state.h:126</a></div></div>
<div class="ttc" id="a04041_html_a4b8a480ae40b5ead314b25f95a5dc490"><div class="ttname"><a href="a04041.html#a4b8a480ae40b5ead314b25f95a5dc490">UNICHARSET::get_ispunctuation</a></div><div class="ttdeci">bool get_ispunctuation(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00477">unicharset.h:477</a></div></div>
<div class="ttc" id="a02705_html_ad448095b666bfb864211714ec2c2375e"><div class="ttname"><a href="a02705.html#ad448095b666bfb864211714ec2c2375e">BLOB_CHOICE::unichar_id</a></div><div class="ttdeci">UNICHAR_ID unichar_id() const</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00076">ratngs.h:76</a></div></div>
<div class="ttc" id="a04969_html_a9b620f66e0b51777e6c8064ffcd6c78b"><div class="ttname"><a href="a04969.html#a9b620f66e0b51777e6c8064ffcd6c78b">tesseract::LanguageModel::GenerateNgramInfo</a></div><div class="ttdeci">LanguageModelNgramInfo * GenerateNgramInfo(const char *unichar, float certainty, float denom, int curr_col, int curr_row, float outline_length, const ViterbiStateEntry *parent_vse)</div><div class="ttdef"><b>Definition:</b> <a href="a01664_source.html#l00872">language_model.cpp:872</a></div></div>
<div class="ttc" id="a04965_html_a3ee6888a09d72d761762afd0b9089ca2"><div class="ttname"><a href="a04965.html#a3ee6888a09d72d761762afd0b9089ca2">tesseract::AssociateUtils::ComputeOutlineLength</a></div><div class="ttdeci">static float ComputeOutlineLength(float rating_cert_scale, const BLOB_CHOICE &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="a01631_source.html#l00080">associate.h:80</a></div></div>
<div class="ttc" id="a02705_html_ab90b9f9f303420fee80622acd9d268f2"><div class="ttname"><a href="a02705.html#ab90b9f9f303420fee80622acd9d268f2">BLOB_CHOICE::rating</a></div><div class="ttdeci">float rating() const</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00079">ratngs.h:79</a></div></div>
<div class="ttc" id="a04969_html_a135df25d843cb847b8a40e752910c3b9"><div class="ttname"><a href="a04969.html#a135df25d843cb847b8a40e752910c3b9">tesseract::LanguageModel::kXhtConsistentFlag</a></div><div class="ttdeci">static const LanguageModelFlagsType kXhtConsistentFlag</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00049">language_model.h:49</a></div></div>
<div class="ttc" id="a00608_html_a02aa7cca2c3857c14716e8cca96ace6c"><div class="ttname"><a href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a></div><div class="ttdeci">#define tprintf(...)</div><div class="ttdef"><b>Definition:</b> <a href="a00608_source.html#l00031">tprintf.h:31</a></div></div>
<div class="ttc" id="a04969_html_a3f2f47a18751c6eae3e6d766b7ec0252"><div class="ttname"><a href="a04969.html#a3f2f47a18751c6eae3e6d766b7ec0252">tesseract::LanguageModel::language_model_ngram_on</a></div><div class="ttdeci">bool language_model_ngram_on</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00310">language_model.h:310</a></div></div>
<div class="ttc" id="a02705_html_a32e1cb6ffd5a422c29da3557d826fa3c"><div class="ttname"><a href="a02705.html#a32e1cb6ffd5a422c29da3557d826fa3c">BLOB_CHOICE::certainty</a></div><div class="ttdeci">float certainty() const</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00082">ratngs.h:82</a></div></div>
<div class="ttc" id="a04969_html_ad27e147973e37ce07da1070a69a3f2f9"><div class="ttname"><a href="a04969.html#ad27e147973e37ce07da1070a69a3f2f9">tesseract::LanguageModel::ComputeAssociateStats</a></div><div class="ttdeci">void ComputeAssociateStats(int col, int row, float max_char_wh_ratio, ViterbiStateEntry *parent_vse, WERD_RES *word_res, AssociateStats *associate_stats)</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00272">language_model.h:272</a></div></div>
<div class="ttc" id="a04969_html_a7dfeeea5f65081a408757d18115a466c"><div class="ttname"><a href="a04969.html#a7dfeeea5f65081a408757d18115a466c">tesseract::LanguageModel::max_char_wh_ratio_</a></div><div class="ttdeci">float max_char_wh_ratio_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00385">language_model.h:385</a></div></div>
<div class="ttc" id="a04969_html_aade564f59c0f197157101bc9672e7b7d"><div class="ttname"><a href="a04969.html#aade564f59c0f197157101bc9672e7b7d">tesseract::LanguageModel::ComputeAdjustedPathCost</a></div><div class="ttdeci">float ComputeAdjustedPathCost(ViterbiStateEntry *vse)</div><div class="ttdef"><b>Definition:</b> <a href="a01664_source.html#l01192">language_model.cpp:1192</a></div></div>
<div class="ttc" id="a02709_html_aa831918b1d217afd4dc547033f642990"><div class="ttname"><a href="a02709.html#aa831918b1d217afd4dc547033f642990">WERD_CHOICE::kBadRating</a></div><div class="ttdeci">static const float kBadRating</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00273">ratngs.h:273</a></div></div>
<div class="ttc" id="a04969_html_ab8d88b6237e566212b22b0eb6ba19a3b"><div class="ttname"><a href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">tesseract::LanguageModel::dict_</a></div><div class="ttdeci">Dict * dict_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00375">language_model.h:375</a></div></div>
<div class="ttc" id="a04041_html_aa19fb595808fe4688c580334937dfa45"><div class="ttname"><a href="a04041.html#aa19fb595808fe4688c580334937dfa45">UNICHARSET::id_to_unichar</a></div><div class="ttdeci">const char * id_to_unichar(UNICHAR_ID id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00623_source.html#l00266">unicharset.cpp:266</a></div></div>
<div class="ttc" id="a04969_html_ad2c96de8604423454b95091880ed1ffd"><div class="ttname"><a href="a04969.html#ad2c96de8604423454b95091880ed1ffd">tesseract::LanguageModel::FillConsistencyInfo</a></div><div class="ttdeci">void FillConsistencyInfo(int curr_col, bool word_end, BLOB_CHOICE *b, ViterbiStateEntry *parent_vse, WERD_RES *word_res, LMConsistencyInfo *consistency_info)</div><div class="ttdef"><b>Definition:</b> <a href="a01664_source.html#l01010">language_model.cpp:1010</a></div></div>
<div class="ttc" id="a00500_html_a93a603f4063a6b9403d81caa245a583b"><div class="ttname"><a href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a></div><div class="ttdeci">#define ASSERT_HOST(x)</div><div class="ttdef"><b>Definition:</b> <a href="a00500_source.html#l00084">errcode.h:84</a></div></div>
<div class="ttc" id="a04969_html_ad5949b5ac2ca3d8a426655aebd6d690e"><div class="ttname"><a href="a04969.html#ad5949b5ac2ca3d8a426655aebd6d690e">tesseract::LanguageModel::GenerateTopChoiceInfo</a></div><div class="ttdeci">void GenerateTopChoiceInfo(ViterbiStateEntry *new_vse, const ViterbiStateEntry *parent_vse, LanguageModelState *lms)</div><div class="ttdef"><b>Definition:</b> <a href="a01664_source.html#l00765">language_model.cpp:765</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad62708b20a5660fc70c98aaaa1407351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad62708b20a5660fc70c98aaaa1407351">&#9670;&nbsp;</a></span>CertaintyScore()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float tesseract::LanguageModel::CertaintyScore </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>cert</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00104">104</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                                          {</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a5833949d12bb5a330b8aa862e8e98f4d">language_model_use_sigmoidal_certainty</a>) {</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="comment">// cert is assumed to be between 0 and -dict_-&gt;certainty_scale.</span></div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="comment">// If you enable language_model_use_sigmoidal_certainty, you</span></div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;      <span class="comment">// need to adjust language_model_ngram_nonmatch_score as well.</span></div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;      cert = -cert / <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a054d69744519c2c7a89e7b1159347385">certainty_scale</a>;</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;      <span class="keywordflow">return</span> 1.0f / (1.0f + exp(10.0f * cert));</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;      <span class="keywordflow">return</span> (-1.0f / cert);</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div><div class="ttc" id="a04969_html_a5833949d12bb5a330b8aa862e8e98f4d"><div class="ttname"><a href="a04969.html#a5833949d12bb5a330b8aa862e8e98f4d">tesseract::LanguageModel::language_model_use_sigmoidal_certainty</a></div><div class="ttdeci">bool language_model_use_sigmoidal_certainty</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00356">language_model.h:356</a></div></div>
<div class="ttc" id="a04557_html_a054d69744519c2c7a89e7b1159347385"><div class="ttname"><a href="a04557.html#a054d69744519c2c7a89e7b1159347385">tesseract::Dict::certainty_scale</a></div><div class="ttdeci">double certainty_scale</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00609">dict.h:609</a></div></div>
<div class="ttc" id="a04969_html_ab8d88b6237e566212b22b0eb6ba19a3b"><div class="ttname"><a href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">tesseract::LanguageModel::dict_</a></div><div class="ttdeci">Dict * dict_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00375">language_model.h:375</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aade564f59c0f197157101bc9672e7b7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aade564f59c0f197157101bc9672e7b7d">&#9670;&nbsp;</a></span>ComputeAdjustedPathCost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float tesseract::LanguageModel::ComputeAdjustedPathCost </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a04989.html">ViterbiStateEntry</a> *&#160;</td>
          <td class="paramname"><em>vse</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l01192">1192</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                                                                   {</div><div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <a class="code" href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(vse != NULL);</div><div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a344405fb6a548551e9e9fd3c6dd38b22">params_model_</a>.<a class="code" href="a05005.html#ac036ef2452f225ed63806e24f34cc6c3">Initialized</a>()) {</div><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordtype">float</span> features[<a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467a1f9a0441244ce25f22a62f3b17cf9d2e">PTRAIN_NUM_FEATURE_TYPES</a>];</div><div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <a class="code" href="a04969.html#a31d3bfc26e4365b9059fa6d7fd8188ad">ExtractFeaturesFromPath</a>(*vse, features);</div><div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <span class="keywordtype">float</span> cost = <a class="code" href="a04969.html#a344405fb6a548551e9e9fd3c6dd38b22">params_model_</a>.<a class="code" href="a05005.html#a3e48946a4022ea94079c4d50d2c58dfa">ComputeCost</a>(features);</div><div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 3) {</div><div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;ComputeAdjustedPathCost %g ParamsModel features:\n&quot;</span>, cost);</div><div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt;= 5) {</div><div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> f = 0; f &lt; <a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467a1f9a0441244ce25f22a62f3b17cf9d2e">PTRAIN_NUM_FEATURE_TYPES</a>; ++f) {</div><div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;          <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;%s=%g\n&quot;</span>, kParamsTrainingFeatureTypeName[f], features[f]);</div><div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        }</div><div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;      }</div><div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;    }</div><div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;    <span class="keywordflow">return</span> cost * vse-&gt;outline_length;</div><div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;    <span class="keywordtype">float</span> adjustment = 1.0f;</div><div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;    <span class="keywordflow">if</span> (vse-&gt;dawg_info == NULL || vse-&gt;dawg_info-&gt;permuter != <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca4fd9d3b025ecc5ea8f2248fea29543e4">FREQ_DAWG_PERM</a>) {</div><div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;      adjustment += <a class="code" href="a04969.html#aeb005a2c12d48226dcca910d970615ab">language_model_penalty_non_freq_dict_word</a>;</div><div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;    }</div><div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">if</span> (vse-&gt;dawg_info == NULL) {</div><div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      adjustment += <a class="code" href="a04969.html#a7fc993337cf742c81176ce6ee216f264">language_model_penalty_non_dict_word</a>;</div><div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;      <span class="keywordflow">if</span> (vse-&gt;length &gt; <a class="code" href="a04969.html#a74c3764116fb5a0029768b8409307835">language_model_min_compound_length</a>) {</div><div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;        adjustment += ((vse-&gt;length - <a class="code" href="a04969.html#a74c3764116fb5a0029768b8409307835">language_model_min_compound_length</a>) *</div><div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;            <a class="code" href="a04969.html#ae4b0db6d265577b230e827b2c592eed0">language_model_penalty_increment</a>);</div><div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      }</div><div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    }</div><div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    <span class="keywordflow">if</span> (vse-&gt;associate_stats.shape_cost &gt; 0) {</div><div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;      adjustment += vse-&gt;associate_stats.shape_cost /</div><div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;          <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(vse-&gt;length);</div><div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;    }</div><div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a3f2f47a18751c6eae3e6d766b7ec0252">language_model_ngram_on</a>) {</div><div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <a class="code" href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(vse-&gt;ngram_info != NULL);</div><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;      <span class="keywordflow">return</span> vse-&gt;ngram_info-&gt;ngram_and_classifier_cost * adjustment;</div><div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;      adjustment += <a class="code" href="a04969.html#a96403bc20db3881245821645f48c6b66">ComputeConsistencyAdjustment</a>(vse-&gt;dawg_info,</div><div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                                                 vse-&gt;consistency_info);</div><div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;      <span class="keywordflow">return</span> vse-&gt;ratings_sum * adjustment;</div><div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    }</div><div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;  }</div><div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;}</div><div class="ttc" id="a04969_html_a370fa3c5a5687622a6cc309d34850aad"><div class="ttname"><a href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">tesseract::LanguageModel::language_model_debug_level</a></div><div class="ttdeci">int language_model_debug_level</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00308">language_model.h:308</a></div></div>
<div class="ttc" id="a01738_html_a996f57000ba7e945e304ca3a5268b467a1f9a0441244ce25f22a62f3b17cf9d2e"><div class="ttname"><a href="a01738.html#a996f57000ba7e945e304ca3a5268b467a1f9a0441244ce25f22a62f3b17cf9d2e">tesseract::PTRAIN_NUM_FEATURE_TYPES</a></div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00070">params_training_featdef.h:70</a></div></div>
<div class="ttc" id="a04969_html_ae4b0db6d265577b230e827b2c592eed0"><div class="ttname"><a href="a04969.html#ae4b0db6d265577b230e827b2c592eed0">tesseract::LanguageModel::language_model_penalty_increment</a></div><div class="ttdeci">double language_model_penalty_increment</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00353">language_model.h:353</a></div></div>
<div class="ttc" id="a05005_html_a3e48946a4022ea94079c4d50d2c58dfa"><div class="ttname"><a href="a05005.html#a3e48946a4022ea94079c4d50d2c58dfa">tesseract::ParamsModel::ComputeCost</a></div><div class="ttdeci">float ComputeCost(const float features[]) const</div><div class="ttdef"><b>Definition:</b> <a href="a01697_source.html#l00078">params_model.cpp:78</a></div></div>
<div class="ttc" id="a04969_html_a7fc993337cf742c81176ce6ee216f264"><div class="ttname"><a href="a04969.html#a7fc993337cf742c81176ce6ee216f264">tesseract::LanguageModel::language_model_penalty_non_dict_word</a></div><div class="ttdeci">double language_model_penalty_non_dict_word</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00340">language_model.h:340</a></div></div>
<div class="ttc" id="a04969_html_a344405fb6a548551e9e9fd3c6dd38b22"><div class="ttname"><a href="a04969.html#a344405fb6a548551e9e9fd3c6dd38b22">tesseract::LanguageModel::params_model_</a></div><div class="ttdeci">ParamsModel params_model_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00413">language_model.h:413</a></div></div>
<div class="ttc" id="a04969_html_a74c3764116fb5a0029768b8409307835"><div class="ttname"><a href="a04969.html#a74c3764116fb5a0029768b8409307835">tesseract::LanguageModel::language_model_min_compound_length</a></div><div class="ttdeci">int language_model_min_compound_length</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00335">language_model.h:335</a></div></div>
<div class="ttc" id="a05005_html_ac036ef2452f225ed63806e24f34cc6c3"><div class="ttname"><a href="a05005.html#ac036ef2452f225ed63806e24f34cc6c3">tesseract::ParamsModel::Initialized</a></div><div class="ttdeci">bool Initialized()</div><div class="ttdef"><b>Definition:</b> <a href="a01700_source.html#l00043">params_model.h:43</a></div></div>
<div class="ttc" id="a04969_html_a31d3bfc26e4365b9059fa6d7fd8188ad"><div class="ttname"><a href="a04969.html#a31d3bfc26e4365b9059fa6d7fd8188ad">tesseract::LanguageModel::ExtractFeaturesFromPath</a></div><div class="ttdeci">static void ExtractFeaturesFromPath(const ViterbiStateEntry &amp;vse, float features[])</div><div class="ttdef"><b>Definition:</b> <a href="a01664_source.html#l01334">language_model.cpp:1334</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bca4fd9d3b025ecc5ea8f2248fea29543e4"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca4fd9d3b025ecc5ea8f2248fea29543e4">FREQ_DAWG_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00252">ratngs.h:252</a></div></div>
<div class="ttc" id="a00608_html_a02aa7cca2c3857c14716e8cca96ace6c"><div class="ttname"><a href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a></div><div class="ttdeci">#define tprintf(...)</div><div class="ttdef"><b>Definition:</b> <a href="a00608_source.html#l00031">tprintf.h:31</a></div></div>
<div class="ttc" id="a04969_html_a3f2f47a18751c6eae3e6d766b7ec0252"><div class="ttname"><a href="a04969.html#a3f2f47a18751c6eae3e6d766b7ec0252">tesseract::LanguageModel::language_model_ngram_on</a></div><div class="ttdeci">bool language_model_ngram_on</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00310">language_model.h:310</a></div></div>
<div class="ttc" id="a00500_html_a93a603f4063a6b9403d81caa245a583b"><div class="ttname"><a href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a></div><div class="ttdeci">#define ASSERT_HOST(x)</div><div class="ttdef"><b>Definition:</b> <a href="a00500_source.html#l00084">errcode.h:84</a></div></div>
<div class="ttc" id="a04969_html_aeb005a2c12d48226dcca910d970615ab"><div class="ttname"><a href="a04969.html#aeb005a2c12d48226dcca910d970615ab">tesseract::LanguageModel::language_model_penalty_non_freq_dict_word</a></div><div class="ttdeci">double language_model_penalty_non_freq_dict_word</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00338">language_model.h:338</a></div></div>
<div class="ttc" id="a04969_html_a96403bc20db3881245821645f48c6b66"><div class="ttname"><a href="a04969.html#a96403bc20db3881245821645f48c6b66">tesseract::LanguageModel::ComputeConsistencyAdjustment</a></div><div class="ttdeci">float ComputeConsistencyAdjustment(const LanguageModelDawgInfo *dawg_info, const LMConsistencyInfo &amp;consistency_info)</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00127">language_model.h:127</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2cbf75be87744e712363831e96b87858"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cbf75be87744e712363831e96b87858">&#9670;&nbsp;</a></span>ComputeAdjustment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float tesseract::LanguageModel::ComputeAdjustment </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_problems</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>penalty</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00116">116</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                                                                  {</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">if</span> (num_problems == 0) <span class="keywordflow">return</span> 0.0f;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span> (num_problems == 1) <span class="keywordflow">return</span> penalty;</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">return</span> (penalty + (<a class="code" href="a04969.html#ae4b0db6d265577b230e827b2c592eed0">language_model_penalty_increment</a> *</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                       static_cast&lt;float&gt;(num_problems-1)));</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;  }</div><div class="ttc" id="a04969_html_ae4b0db6d265577b230e827b2c592eed0"><div class="ttname"><a href="a04969.html#ae4b0db6d265577b230e827b2c592eed0">tesseract::LanguageModel::language_model_penalty_increment</a></div><div class="ttdeci">double language_model_penalty_increment</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00353">language_model.h:353</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad27e147973e37ce07da1070a69a3f2f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad27e147973e37ce07da1070a69a3f2f9">&#9670;&nbsp;</a></span>ComputeAssociateStats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::LanguageModel::ComputeAssociateStats </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_char_wh_ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04989.html">ViterbiStateEntry</a> *&#160;</td>
          <td class="paramname"><em>parent_vse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02645.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04961.html">AssociateStats</a> *&#160;</td>
          <td class="paramname"><em>associate_stats</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00272">272</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                                                                     {</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="a04965.html#addbd0b3d90043ef77d53523d3591dd59">AssociateUtils::ComputeStats</a>(</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        col, row,</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        (parent_vse != NULL) ? &amp;(parent_vse-&gt;associate_stats) : NULL,</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        (parent_vse != NULL) ? parent_vse-&gt;length : 0,</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        <a class="code" href="a04969.html#a4d0169b5188cb51117d47f4db3f7c3cf">fixed_pitch_</a>, max_char_wh_ratio,</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        word_res, <a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 2, associate_stats);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  }</div><div class="ttc" id="a04969_html_a370fa3c5a5687622a6cc309d34850aad"><div class="ttname"><a href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">tesseract::LanguageModel::language_model_debug_level</a></div><div class="ttdeci">int language_model_debug_level</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00308">language_model.h:308</a></div></div>
<div class="ttc" id="a04969_html_a4d0169b5188cb51117d47f4db3f7c3cf"><div class="ttname"><a href="a04969.html#a4d0169b5188cb51117d47f4db3f7c3cf">tesseract::LanguageModel::fixed_pitch_</a></div><div class="ttdeci">bool fixed_pitch_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00382">language_model.h:382</a></div></div>
<div class="ttc" id="a04965_html_addbd0b3d90043ef77d53523d3591dd59"><div class="ttname"><a href="a04965.html#addbd0b3d90043ef77d53523d3591dd59">tesseract::AssociateUtils::ComputeStats</a></div><div class="ttdeci">static void ComputeStats(int col, int row, const AssociateStats *parent_stats, int parent_path_length, bool fixed_pitch, float max_char_wh_ratio, WERD_RES *word_res, bool debug, AssociateStats *stats)</div><div class="ttdef"><b>Definition:</b> <a href="a01628_source.html#l00037">associate.cpp:37</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a96403bc20db3881245821645f48c6b66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96403bc20db3881245821645f48c6b66">&#9670;&nbsp;</a></span>ComputeConsistencyAdjustment()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float tesseract::LanguageModel::ComputeConsistencyAdjustment </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a04981.html">LanguageModelDawgInfo</a> *&#160;</td>
          <td class="paramname"><em>dawg_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a04973.html">LMConsistencyInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>consistency_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00127">127</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                                                 {</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="keywordflow">if</span> (dawg_info != NULL) {</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="a04969.html#a2cbf75be87744e712363831e96b87858">ComputeAdjustment</a>(consistency_info.NumInconsistentCase(),</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                               <a class="code" href="a04969.html#a1ec341e8b657ea826fd462761ca38c29">language_model_penalty_case</a>) +</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;          (consistency_info.inconsistent_script ?</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;             <a class="code" href="a04969.html#ae0241f7e46e1e4573e6983b834ee6030">language_model_penalty_script</a> : 0.0f);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    }</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="a04969.html#a2cbf75be87744e712363831e96b87858">ComputeAdjustment</a>(consistency_info.NumInconsistentPunc(),</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                              <a class="code" href="a04969.html#a626c063d5658e12ba1b9b0bcc3a15a12">language_model_penalty_punc</a>) +</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <a class="code" href="a04969.html#a2cbf75be87744e712363831e96b87858">ComputeAdjustment</a>(consistency_info.NumInconsistentCase(),</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                              <a class="code" href="a04969.html#a1ec341e8b657ea826fd462761ca38c29">language_model_penalty_case</a>) +</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <a class="code" href="a04969.html#a2cbf75be87744e712363831e96b87858">ComputeAdjustment</a>(consistency_info.NumInconsistentChartype(),</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                              <a class="code" href="a04969.html#a6dff94459fc1b33990e986f6275bcba3">language_model_penalty_chartype</a>) +</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            <a class="code" href="a04969.html#a2cbf75be87744e712363831e96b87858">ComputeAdjustment</a>(consistency_info.NumInconsistentSpaces(),</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                              <a class="code" href="a04969.html#a56568c085d61523e01e5731d1430b87b">language_model_penalty_spacing</a>) +</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            (consistency_info.inconsistent_script ?</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;             <a class="code" href="a04969.html#ae0241f7e46e1e4573e6983b834ee6030">language_model_penalty_script</a> : 0.0f) +</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            (consistency_info.inconsistent_font ?</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;             <a class="code" href="a04969.html#a1ff90651c3c032797f774a0e45e3cf37">language_model_penalty_font</a> : 0.0f));</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  }</div><div class="ttc" id="a04969_html_ae0241f7e46e1e4573e6983b834ee6030"><div class="ttname"><a href="a04969.html#ae0241f7e46e1e4573e6983b834ee6030">tesseract::LanguageModel::language_model_penalty_script</a></div><div class="ttdeci">double language_model_penalty_script</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00346">language_model.h:346</a></div></div>
<div class="ttc" id="a04969_html_a56568c085d61523e01e5731d1430b87b"><div class="ttname"><a href="a04969.html#a56568c085d61523e01e5731d1430b87b">tesseract::LanguageModel::language_model_penalty_spacing</a></div><div class="ttdeci">double language_model_penalty_spacing</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00352">language_model.h:352</a></div></div>
<div class="ttc" id="a04969_html_a626c063d5658e12ba1b9b0bcc3a15a12"><div class="ttname"><a href="a04969.html#a626c063d5658e12ba1b9b0bcc3a15a12">tesseract::LanguageModel::language_model_penalty_punc</a></div><div class="ttdeci">double language_model_penalty_punc</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00342">language_model.h:342</a></div></div>
<div class="ttc" id="a04969_html_a1ff90651c3c032797f774a0e45e3cf37"><div class="ttname"><a href="a04969.html#a1ff90651c3c032797f774a0e45e3cf37">tesseract::LanguageModel::language_model_penalty_font</a></div><div class="ttdeci">double language_model_penalty_font</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00350">language_model.h:350</a></div></div>
<div class="ttc" id="a04969_html_a6dff94459fc1b33990e986f6275bcba3"><div class="ttname"><a href="a04969.html#a6dff94459fc1b33990e986f6275bcba3">tesseract::LanguageModel::language_model_penalty_chartype</a></div><div class="ttdeci">double language_model_penalty_chartype</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00348">language_model.h:348</a></div></div>
<div class="ttc" id="a04969_html_a2cbf75be87744e712363831e96b87858"><div class="ttname"><a href="a04969.html#a2cbf75be87744e712363831e96b87858">tesseract::LanguageModel::ComputeAdjustment</a></div><div class="ttdeci">float ComputeAdjustment(int num_problems, float penalty)</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00116">language_model.h:116</a></div></div>
<div class="ttc" id="a04969_html_a1ec341e8b657ea826fd462761ca38c29"><div class="ttname"><a href="a04969.html#a1ec341e8b657ea826fd462761ca38c29">tesseract::LanguageModel::language_model_penalty_case</a></div><div class="ttdeci">double language_model_penalty_case</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00344">language_model.h:344</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a933e234efec8a32e922023ad8811b469"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a933e234efec8a32e922023ad8811b469">&#9670;&nbsp;</a></span>ComputeDenom()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float tesseract::LanguageModel::ComputeDenom </td>
          <td>(</td>
          <td class="paramtype">BLOB_CHOICE_LIST *&#160;</td>
          <td class="paramname"><em>curr_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l00989">989</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                                                             {</div><div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordflow">if</span> (curr_list-&gt;empty()) <span class="keywordflow">return</span> 1.0f;</div><div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="keywordtype">float</span> denom = 0.0f;</div><div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="keywordtype">int</span> len = 0;</div><div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  BLOB_CHOICE_IT c_it(curr_list);</div><div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="keywordflow">for</span> (c_it.mark_cycle_pt(); !c_it.cycled_list(); c_it.forward()) {</div><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <a class="code" href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(c_it.data() != NULL);</div><div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    ++len;</div><div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    denom += <a class="code" href="a04969.html#ad62708b20a5660fc70c98aaaa1407351">CertaintyScore</a>(c_it.data()-&gt;certainty());</div><div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  }</div><div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  assert(len != 0);</div><div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <span class="comment">// The ideal situation would be to have the classifier scores for</span></div><div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <span class="comment">// classifying each position as each of the characters in the unicharset.</span></div><div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="comment">// Since we can not do this because of speed, we add a very crude estimate</span></div><div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="comment">// of what these scores for the &quot;missing&quot; classifications would sum up to.</span></div><div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;  denom += (<a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>().<a class="code" href="a04041.html#adb332692009836a2d89e5fdf63f9765f">size</a>() - len) *</div><div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <a class="code" href="a04969.html#ad62708b20a5660fc70c98aaaa1407351">CertaintyScore</a>(<a class="code" href="a04969.html#a7a0214251cc5984766ee9ff635f682bf">language_model_ngram_nonmatch_score</a>);</div><div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;</div><div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  <span class="keywordflow">return</span> denom;</div><div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;}</div><div class="ttc" id="a04041_html_adb332692009836a2d89e5fdf63f9765f"><div class="ttname"><a href="a04041.html#adb332692009836a2d89e5fdf63f9765f">UNICHARSET::size</a></div><div class="ttdeci">int size() const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00297">unicharset.h:297</a></div></div>
<div class="ttc" id="a04557_html_a3ed04d9d9419ce413e9e495b5c5001ad"><div class="ttname"><a href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">tesseract::Dict::getUnicharset</a></div><div class="ttdeci">const UNICHARSET &amp; getUnicharset() const</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00097">dict.h:97</a></div></div>
<div class="ttc" id="a04969_html_a7a0214251cc5984766ee9ff635f682bf"><div class="ttname"><a href="a04969.html#a7a0214251cc5984766ee9ff635f682bf">tesseract::LanguageModel::language_model_ngram_nonmatch_score</a></div><div class="ttdeci">double language_model_ngram_nonmatch_score</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00322">language_model.h:322</a></div></div>
<div class="ttc" id="a04969_html_ad62708b20a5660fc70c98aaaa1407351"><div class="ttname"><a href="a04969.html#ad62708b20a5660fc70c98aaaa1407351">tesseract::LanguageModel::CertaintyScore</a></div><div class="ttdeci">float CertaintyScore(float cert)</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00104">language_model.h:104</a></div></div>
<div class="ttc" id="a04969_html_ab8d88b6237e566212b22b0eb6ba19a3b"><div class="ttname"><a href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">tesseract::LanguageModel::dict_</a></div><div class="ttdeci">Dict * dict_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00375">language_model.h:375</a></div></div>
<div class="ttc" id="a00500_html_a93a603f4063a6b9403d81caa245a583b"><div class="ttname"><a href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a></div><div class="ttdeci">#define ASSERT_HOST(x)</div><div class="ttdef"><b>Definition:</b> <a href="a00500_source.html#l00084">errcode.h:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4825ba908be2ed7c21f007bc6f21d970"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4825ba908be2ed7c21f007bc6f21d970">&#9670;&nbsp;</a></span>ComputeNgramCost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float tesseract::LanguageModel::ComputeNgramCost </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>unichar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>certainty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>denom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>unichar_step_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>found_small_prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>ngram_prob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l00929">929</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                                                         {</div><div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *context_ptr = context;</div><div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <span class="keywordtype">char</span> *modified_context = NULL;</div><div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="keywordtype">char</span> *modified_context_end = NULL;</div><div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *unichar_ptr = unichar;</div><div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *unichar_end = unichar_ptr + strlen(unichar_ptr);</div><div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="keywordtype">float</span> prob = 0.0f;</div><div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordtype">int</span> step = 0;</div><div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;  <span class="keywordflow">while</span> (unichar_ptr &lt; unichar_end &amp;&amp;</div><div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;         (step = <a class="code" href="a04013.html#a8182a4663f6c1df9f097700f1009ab22">UNICHAR::utf8_step</a>(unichar_ptr)) &gt; 0) {</div><div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 1) {</div><div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;prob(%s | %s)=%g\n&quot;</span>, unichar_ptr, context_ptr,</div><div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;              <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#abc4cf75b1bd5f5cb0f733c92afeb5239">ProbabilityInContext</a>(context_ptr, -1, unichar_ptr, step));</div><div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    }</div><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    prob += <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#abc4cf75b1bd5f5cb0f733c92afeb5239">ProbabilityInContext</a>(context_ptr, -1, unichar_ptr, step);</div><div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    ++(*unichar_step_len);</div><div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a816f93d4a3a6e036c8ed3c39602d08a1">language_model_ngram_use_only_first_uft8_step</a>) <span class="keywordflow">break</span>;</div><div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;    unichar_ptr += step;</div><div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="comment">// If there are multiple UTF8 characters present in unichar, context is</span></div><div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="comment">// updated to include the previously examined characters from str,</span></div><div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="comment">// unless use_only_first_uft8_step is true.</span></div><div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <span class="keywordflow">if</span> (unichar_ptr &lt; unichar_end) {</div><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;      <span class="keywordflow">if</span> (modified_context == NULL) {</div><div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;        <span class="keywordtype">int</span> context_len = strlen(context);</div><div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        modified_context =</div><div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;          <span class="keyword">new</span> <span class="keywordtype">char</span>[context_len + strlen(unichar_ptr) + step + 1];</div><div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        strncpy(modified_context, context, context_len);</div><div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        modified_context_end = modified_context + context_len;</div><div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;        context_ptr = modified_context;</div><div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;      }</div><div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;      strncpy(modified_context_end, unichar_ptr - step, step);</div><div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;      modified_context_end += step;</div><div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;      *modified_context_end = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    }</div><div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  }</div><div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  prob /= <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(*unichar_step_len);  <span class="comment">// normalize</span></div><div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="keywordflow">if</span> (prob &lt; <a class="code" href="a04969.html#a63b94afe3a13f301e59b76d36ada0bf0">language_model_ngram_small_prob</a>) {</div><div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 0) <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Found small prob %g\n&quot;</span>, prob);</div><div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    *found_small_prob = <span class="keyword">true</span>;</div><div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    prob = <a class="code" href="a04969.html#a63b94afe3a13f301e59b76d36ada0bf0">language_model_ngram_small_prob</a>;</div><div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  }</div><div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  *ngram_cost = -1.0*log2(prob);</div><div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="keywordtype">float</span> ngram_and_classifier_cost =</div><div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;      -1.0*log2(<a class="code" href="a04969.html#ad62708b20a5660fc70c98aaaa1407351">CertaintyScore</a>(certainty)/denom) +</div><div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;      *ngram_cost * <a class="code" href="a04969.html#a35b0809b85f83f6d5784700d383540dc">language_model_ngram_scale_factor</a>;</div><div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 1) {</div><div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;-log [ p(%s) * p(%s | %s) ] = -log2(%g*%g) = %g\n&quot;</span>, unichar,</div><div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;            unichar, context_ptr, <a class="code" href="a04969.html#ad62708b20a5660fc70c98aaaa1407351">CertaintyScore</a>(certainty)/denom, prob,</div><div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            ngram_and_classifier_cost);</div><div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;  }</div><div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;  <span class="keyword">delete</span>[] modified_context;</div><div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;  <span class="keywordflow">return</span> ngram_and_classifier_cost;</div><div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;}</div><div class="ttc" id="a04969_html_a370fa3c5a5687622a6cc309d34850aad"><div class="ttname"><a href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">tesseract::LanguageModel::language_model_debug_level</a></div><div class="ttdeci">int language_model_debug_level</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00308">language_model.h:308</a></div></div>
<div class="ttc" id="a04969_html_a35b0809b85f83f6d5784700d383540dc"><div class="ttname"><a href="a04969.html#a35b0809b85f83f6d5784700d383540dc">tesseract::LanguageModel::language_model_ngram_scale_factor</a></div><div class="ttdeci">double language_model_ngram_scale_factor</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00328">language_model.h:328</a></div></div>
<div class="ttc" id="a04969_html_a816f93d4a3a6e036c8ed3c39602d08a1"><div class="ttname"><a href="a04969.html#a816f93d4a3a6e036c8ed3c39602d08a1">tesseract::LanguageModel::language_model_ngram_use_only_first_uft8_step</a></div><div class="ttdeci">bool language_model_ngram_use_only_first_uft8_step</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00325">language_model.h:325</a></div></div>
<div class="ttc" id="a04557_html_abc4cf75b1bd5f5cb0f733c92afeb5239"><div class="ttname"><a href="a04557.html#abc4cf75b1bd5f5cb0f733c92afeb5239">tesseract::Dict::ProbabilityInContext</a></div><div class="ttdeci">double ProbabilityInContext(const char *context, int context_bytes, const char *character, int character_bytes)</div><div class="ttdoc">Calls probability_in_context_ member function. </div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00370">dict.h:370</a></div></div>
<div class="ttc" id="a00608_html_a02aa7cca2c3857c14716e8cca96ace6c"><div class="ttname"><a href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a></div><div class="ttdeci">#define tprintf(...)</div><div class="ttdef"><b>Definition:</b> <a href="a00608_source.html#l00031">tprintf.h:31</a></div></div>
<div class="ttc" id="a04969_html_ad62708b20a5660fc70c98aaaa1407351"><div class="ttname"><a href="a04969.html#ad62708b20a5660fc70c98aaaa1407351">tesseract::LanguageModel::CertaintyScore</a></div><div class="ttdeci">float CertaintyScore(float cert)</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00104">language_model.h:104</a></div></div>
<div class="ttc" id="a04969_html_a63b94afe3a13f301e59b76d36ada0bf0"><div class="ttname"><a href="a04969.html#a63b94afe3a13f301e59b76d36ada0bf0">tesseract::LanguageModel::language_model_ngram_small_prob</a></div><div class="ttdeci">double language_model_ngram_small_prob</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00320">language_model.h:320</a></div></div>
<div class="ttc" id="a04969_html_ab8d88b6237e566212b22b0eb6ba19a3b"><div class="ttname"><a href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">tesseract::LanguageModel::dict_</a></div><div class="ttdeci">Dict * dict_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00375">language_model.h:375</a></div></div>
<div class="ttc" id="a04013_html_a8182a4663f6c1df9f097700f1009ab22"><div class="ttname"><a href="a04013.html#a8182a4663f6c1df9f097700f1009ab22">UNICHAR::utf8_step</a></div><div class="ttdeci">static int utf8_step(const char *utf8_str)</div><div class="ttdef"><b>Definition:</b> <a href="a00611_source.html#l00134">unichar.cpp:134</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ed78a433afee7c4fe80f74865b44c02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ed78a433afee7c4fe80f74865b44c02">&#9670;&nbsp;</a></span>ConstructWord()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a02709.html">WERD_CHOICE</a> * tesseract::LanguageModel::ConstructWord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a04989.html">ViterbiStateEntry</a> *&#160;</td>
          <td class="paramname"><em>vse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02645.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a01166.html#ab342921d3994b07a86ad1c5e4e8dd7c5">DANGERR</a> *&#160;</td>
          <td class="paramname"><em>fixpt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02477.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>truth_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l01383">1383</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                      {</div><div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;  <span class="keywordflow">if</span> (truth_path != NULL) {</div><div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    *truth_path =</div><div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;        (blamer_bundle != NULL &amp;&amp;</div><div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;         vse-&gt;length == blamer_bundle-&gt;<a class="code" href="a02477.html#ae21a0aca773b5c51afa9e6096d120d11">correct_segmentation_length</a>());</div><div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;  }</div><div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;  <a class="code" href="a02705.html">BLOB_CHOICE</a> *curr_b = vse-&gt;curr_b;</div><div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;  ViterbiStateEntry *curr_vse = vse;</div><div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div><div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;  <span class="keywordtype">int</span> i;</div><div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;  <span class="keywordtype">bool</span> compound = <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a88a04bec1c3af33c818dafd7233a3fa9">hyphenated</a>();  <span class="comment">// treat hyphenated words as compound</span></div><div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;</div><div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;  <span class="comment">// Re-compute the variance of the width-to-height ratios (since we now</span></div><div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  <span class="comment">// can compute the mean over the whole word).</span></div><div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;  <span class="keywordtype">float</span> full_wh_ratio_mean = 0.0f;</div><div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;  <span class="keywordflow">if</span> (vse-&gt;associate_stats.full_wh_ratio_var != 0.0f) {</div><div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;    vse-&gt;associate_stats.shape_cost -= vse-&gt;associate_stats.full_wh_ratio_var;</div><div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;    full_wh_ratio_mean = (vse-&gt;associate_stats.full_wh_ratio_total /</div><div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                          <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(vse-&gt;length));</div><div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    vse-&gt;associate_stats.full_wh_ratio_var = 0.0f;</div><div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;  }</div><div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;</div><div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;  <span class="comment">// Construct a WERD_CHOICE by tracing parent pointers.</span></div><div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;  <a class="code" href="a02709.html">WERD_CHOICE</a> *word = <span class="keyword">new</span> <a class="code" href="a02709.html">WERD_CHOICE</a>(word_res-&gt;<a class="code" href="a02645.html#a053a2aeeddc26a93a41a04fa08dd688a">uch_set</a>, vse-&gt;length);</div><div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  word-&gt;<a class="code" href="a02709.html#af62059b10a06634f0cdcccb07b906193">set_length</a>(vse-&gt;length);</div><div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="keywordtype">int</span> total_blobs = 0;</div><div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;  <span class="keywordflow">for</span> (i = (vse-&gt;length-1); i &gt;= 0; --i) {</div><div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="keywordflow">if</span> (blamer_bundle != NULL &amp;&amp; truth_path != NULL &amp;&amp; *truth_path &amp;&amp;</div><div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;        !blamer_bundle-&gt;<a class="code" href="a02477.html#a0fa17cb916f6ae899e0b8b9632d6ed5d">MatrixPositionCorrect</a>(i, curr_b-&gt;<a class="code" href="a02705.html#ad3d14608128f7074b40927cbb0bee855">matrix_cell</a>())) {</div><div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;        *truth_path = <span class="keyword">false</span>;</div><div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;    }</div><div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="comment">// The number of blobs used for this choice is row - col + 1.</span></div><div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <span class="keywordtype">int</span> num_blobs = curr_b-&gt;<a class="code" href="a02705.html#ad3d14608128f7074b40927cbb0bee855">matrix_cell</a>().<a class="code" href="a02605.html#abde52ca4976ce8acc4e70215df074ff5">row</a> - curr_b-&gt;<a class="code" href="a02705.html#ad3d14608128f7074b40927cbb0bee855">matrix_cell</a>().<a class="code" href="a02605.html#a22a122ba151628fafb64b2957c4690fd">col</a> + 1;</div><div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    total_blobs += num_blobs;</div><div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;    word-&gt;<a class="code" href="a02709.html#ac268dcae08b003935dc27049c8890469">set_blob_choice</a>(i, num_blobs, curr_b);</div><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;    <span class="comment">// Update the width-to-height ratio variance. Useful non-space delimited</span></div><div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="comment">// languages to ensure that the blobs are of uniform width.</span></div><div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;    <span class="comment">// Skip leading and trailing punctuation when computing the variance.</span></div><div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">if</span> ((full_wh_ratio_mean != 0.0f &amp;&amp;</div><div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;         ((curr_vse != vse &amp;&amp; curr_vse-&gt;parent_vse != NULL) ||</div><div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;          !<a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>().<a class="code" href="a04041.html#a4b8a480ae40b5ead314b25f95a5dc490">get_ispunctuation</a>(curr_b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>())))) {</div><div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;      vse-&gt;associate_stats.full_wh_ratio_var +=</div><div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;        pow(full_wh_ratio_mean - curr_vse-&gt;associate_stats.full_wh_ratio, 2);</div><div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 2) {</div><div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;        <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;full_wh_ratio_var += (%g-%g)^2\n&quot;</span>,</div><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                full_wh_ratio_mean, curr_vse-&gt;associate_stats.full_wh_ratio);</div><div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;      }</div><div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    }</div><div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;</div><div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <span class="comment">// Mark the word as compound if compound permuter was set for any of</span></div><div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <span class="comment">// the unichars on the path (usually this will happen for unichars</span></div><div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    <span class="comment">// that are compounding operators, like &quot;-&quot; and &quot;/&quot;).</span></div><div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    <span class="keywordflow">if</span> (!compound &amp;&amp; curr_vse-&gt;dawg_info &amp;&amp;</div><div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        curr_vse-&gt;dawg_info-&gt;permuter == <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcaea73d015098d9432d1be3c569db95bb5">COMPOUND_PERM</a>) compound = <span class="keyword">true</span>;</div><div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;</div><div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    <span class="comment">// Update curr_* pointers.</span></div><div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    curr_vse = curr_vse-&gt;parent_vse;</div><div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="keywordflow">if</span> (curr_vse == NULL) <span class="keywordflow">break</span>;</div><div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    curr_b = curr_vse-&gt;curr_b;</div><div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;  }</div><div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;  <a class="code" href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(i == 0);  <span class="comment">// check that we recorded all the unichar ids.</span></div><div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;  <a class="code" href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(total_blobs == word_res-&gt;<a class="code" href="a02645.html#af7454f140688a32b2bebb60ab36e91ee">ratings</a>-&gt;<a class="code" href="a02597.html#ad414e7f436cdf0a07cbe8434b6c712c3">dimension</a>());</div><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;  <span class="comment">// Re-adjust shape cost to include the updated width-to-height variance.</span></div><div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;  <span class="keywordflow">if</span> (full_wh_ratio_mean != 0.0f) {</div><div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    vse-&gt;associate_stats.shape_cost += vse-&gt;associate_stats.full_wh_ratio_var;</div><div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;  }</div><div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;</div><div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;  word-&gt;<a class="code" href="a02709.html#a8536420fe62adffbfda94a08796db533">set_rating</a>(vse-&gt;ratings_sum);</div><div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;  word-&gt;<a class="code" href="a02709.html#a0d8b3f73cb02eb5f6e492ffd1304fe85">set_certainty</a>(vse-&gt;min_certainty);</div><div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;  word-&gt;<a class="code" href="a02709.html#a0c2171731221befd7bd527ed2ed7ccc4">set_x_heights</a>(vse-&gt;consistency_info.BodyMinXHeight(),</div><div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;                      vse-&gt;consistency_info.BodyMaxXHeight());</div><div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;  <span class="keywordflow">if</span> (vse-&gt;dawg_info != NULL) {</div><div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;    word-&gt;<a class="code" href="a02709.html#a162d90ae016fbf55256591bbf01c0c03">set_permuter</a>(compound ? <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcaea73d015098d9432d1be3c569db95bb5">COMPOUND_PERM</a> : vse-&gt;dawg_info-&gt;permuter);</div><div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a3f2f47a18751c6eae3e6d766b7ec0252">language_model_ngram_on</a> &amp;&amp; !vse-&gt;ngram_info-&gt;pruned) {</div><div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;    word-&gt;<a class="code" href="a02709.html#a162d90ae016fbf55256591bbf01c0c03">set_permuter</a>(<a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca75b442d44a0439fa11444512c47576e4">NGRAM_PERM</a>);</div><div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (vse-&gt;top_choice_flags) {</div><div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;    word-&gt;<a class="code" href="a02709.html#a162d90ae016fbf55256591bbf01c0c03">set_permuter</a>(<a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca12d29cc139fe00da7420978c101d2889">TOP_CHOICE_PERM</a>);</div><div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    word-&gt;<a class="code" href="a02709.html#a162d90ae016fbf55256591bbf01c0c03">set_permuter</a>(<a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcafbce35860451a2bdc0a266cd83a4397f">NO_PERM</a>);</div><div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;  }</div><div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;  word-&gt;<a class="code" href="a02709.html#ae3f6c6d111b2d43512bb485fb0aa74f9">set_dangerous_ambig_found_</a>(!<a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#ac34de6f71f12d51708020950ef10ef34">NoDangerousAmbig</a>(word, fixpt, <span class="keyword">true</span>,</div><div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;                                                            word_res-&gt;<a class="code" href="a02645.html#af7454f140688a32b2bebb60ab36e91ee">ratings</a>));</div><div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="keywordflow">return</span> word;</div><div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;}</div><div class="ttc" id="a04969_html_a370fa3c5a5687622a6cc309d34850aad"><div class="ttname"><a href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">tesseract::LanguageModel::language_model_debug_level</a></div><div class="ttdeci">int language_model_debug_level</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00308">language_model.h:308</a></div></div>
<div class="ttc" id="a02605_html_abde52ca4976ce8acc4e70215df074ff5"><div class="ttname"><a href="a02605.html#abde52ca4976ce8acc4e70215df074ff5">MATRIX_COORD::row</a></div><div class="ttdeci">int row</div><div class="ttdef"><b>Definition:</b> <a href="a00296_source.html#l00629">matrix.h:629</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bca12d29cc139fe00da7420978c101d2889"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca12d29cc139fe00da7420978c101d2889">TOP_CHOICE_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00243">ratngs.h:243</a></div></div>
<div class="ttc" id="a02709_html_af62059b10a06634f0cdcccb07b906193"><div class="ttname"><a href="a02709.html#af62059b10a06634f0cdcccb07b906193">WERD_CHOICE::set_length</a></div><div class="ttdeci">void set_length(int len)</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00379">ratngs.h:379</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bca75b442d44a0439fa11444512c47576e4"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca75b442d44a0439fa11444512c47576e4">NGRAM_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00246">ratngs.h:246</a></div></div>
<div class="ttc" id="a02597_html_ad414e7f436cdf0a07cbe8434b6c712c3"><div class="ttname"><a href="a02597.html#ad414e7f436cdf0a07cbe8434b6c712c3">BandTriMatrix::dimension</a></div><div class="ttdeci">int dimension() const</div><div class="ttdef"><b>Definition:</b> <a href="a00296_source.html#l00530">matrix.h:530</a></div></div>
<div class="ttc" id="a02709_html_a8536420fe62adffbfda94a08796db533"><div class="ttname"><a href="a02709.html#a8536420fe62adffbfda94a08796db533">WERD_CHOICE::set_rating</a></div><div class="ttdeci">void set_rating(float new_val)</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00367">ratngs.h:367</a></div></div>
<div class="ttc" id="a02605_html_a22a122ba151628fafb64b2957c4690fd"><div class="ttname"><a href="a02605.html#a22a122ba151628fafb64b2957c4690fd">MATRIX_COORD::col</a></div><div class="ttdeci">int col</div><div class="ttdef"><b>Definition:</b> <a href="a00296_source.html#l00628">matrix.h:628</a></div></div>
<div class="ttc" id="a02709_html_a162d90ae016fbf55256591bbf01c0c03"><div class="ttname"><a href="a02709.html#a162d90ae016fbf55256591bbf01c0c03">WERD_CHOICE::set_permuter</a></div><div class="ttdeci">void set_permuter(uinT8 perm)</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00373">ratngs.h:373</a></div></div>
<div class="ttc" id="a04557_html_a3ed04d9d9419ce413e9e495b5c5001ad"><div class="ttname"><a href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">tesseract::Dict::getUnicharset</a></div><div class="ttdeci">const UNICHARSET &amp; getUnicharset() const</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00097">dict.h:97</a></div></div>
<div class="ttc" id="a02709_html_ae3f6c6d111b2d43512bb485fb0aa74f9"><div class="ttname"><a href="a02709.html#ae3f6c6d111b2d43512bb485fb0aa74f9">WERD_CHOICE::set_dangerous_ambig_found_</a></div><div class="ttdeci">void set_dangerous_ambig_found_(bool value)</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00364">ratngs.h:364</a></div></div>
<div class="ttc" id="a04041_html_a4b8a480ae40b5ead314b25f95a5dc490"><div class="ttname"><a href="a04041.html#a4b8a480ae40b5ead314b25f95a5dc490">UNICHARSET::get_ispunctuation</a></div><div class="ttdeci">bool get_ispunctuation(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00477">unicharset.h:477</a></div></div>
<div class="ttc" id="a02705_html_ad448095b666bfb864211714ec2c2375e"><div class="ttname"><a href="a02705.html#ad448095b666bfb864211714ec2c2375e">BLOB_CHOICE::unichar_id</a></div><div class="ttdeci">UNICHAR_ID unichar_id() const</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00076">ratngs.h:76</a></div></div>
<div class="ttc" id="a02709_html_a0d8b3f73cb02eb5f6e492ffd1304fe85"><div class="ttname"><a href="a02709.html#a0d8b3f73cb02eb5f6e492ffd1304fe85">WERD_CHOICE::set_certainty</a></div><div class="ttdeci">void set_certainty(float new_val)</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00370">ratngs.h:370</a></div></div>
<div class="ttc" id="a02645_html_af7454f140688a32b2bebb60ab36e91ee"><div class="ttname"><a href="a02645.html#af7454f140688a32b2bebb60ab36e91ee">WERD_RES::ratings</a></div><div class="ttdeci">MATRIX * ratings</div><div class="ttdef"><b>Definition:</b> <a href="a00338_source.html#l00215">pageres.h:215</a></div></div>
<div class="ttc" id="a02709_html"><div class="ttname"><a href="a02709.html">WERD_CHOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00271">ratngs.h:271</a></div></div>
<div class="ttc" id="a00608_html_a02aa7cca2c3857c14716e8cca96ace6c"><div class="ttname"><a href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a></div><div class="ttdeci">#define tprintf(...)</div><div class="ttdef"><b>Definition:</b> <a href="a00608_source.html#l00031">tprintf.h:31</a></div></div>
<div class="ttc" id="a04969_html_a3f2f47a18751c6eae3e6d766b7ec0252"><div class="ttname"><a href="a04969.html#a3f2f47a18751c6eae3e6d766b7ec0252">tesseract::LanguageModel::language_model_ngram_on</a></div><div class="ttdeci">bool language_model_ngram_on</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00310">language_model.h:310</a></div></div>
<div class="ttc" id="a02709_html_ac268dcae08b003935dc27049c8890469"><div class="ttname"><a href="a02709.html#ac268dcae08b003935dc27049c8890469">WERD_CHOICE::set_blob_choice</a></div><div class="ttdeci">void set_blob_choice(int index, int blob_count, const BLOB_CHOICE *blob_choice)</div><div class="ttdef"><b>Definition:</b> <a href="a00392_source.html#l00290">ratngs.cpp:290</a></div></div>
<div class="ttc" id="a02645_html_a053a2aeeddc26a93a41a04fa08dd688a"><div class="ttname"><a href="a02645.html#a053a2aeeddc26a93a41a04fa08dd688a">WERD_RES::uch_set</a></div><div class="ttdeci">const UNICHARSET * uch_set</div><div class="ttdef"><b>Definition:</b> <a href="a00338_source.html#l00192">pageres.h:192</a></div></div>
<div class="ttc" id="a02705_html"><div class="ttname"><a href="a02705.html">BLOB_CHOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00048">ratngs.h:48</a></div></div>
<div class="ttc" id="a02477_html_a0fa17cb916f6ae899e0b8b9632d6ed5d"><div class="ttname"><a href="a02477.html#a0fa17cb916f6ae899e0b8b9632d6ed5d">BlamerBundle::MatrixPositionCorrect</a></div><div class="ttdeci">bool MatrixPositionCorrect(int index, const MATRIX_COORD &amp;coord)</div><div class="ttdef"><b>Definition:</b> <a href="a00200_source.html#l00131">blamer.h:131</a></div></div>
<div class="ttc" id="a04557_html_ac34de6f71f12d51708020950ef10ef34"><div class="ttname"><a href="a04557.html#ac34de6f71f12d51708020950ef10ef34">tesseract::Dict::NoDangerousAmbig</a></div><div class="ttdeci">bool TESS_API NoDangerousAmbig(WERD_CHOICE *BestChoice, DANGERR *fixpt, bool fix_replaceable, MATRIX *ratings)</div><div class="ttdef"><b>Definition:</b> <a href="a01163_source.html#l00151">stopper.cpp:151</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bcafbce35860451a2bdc0a266cd83a4397f"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcafbce35860451a2bdc0a266cd83a4397f">NO_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00241">ratngs.h:241</a></div></div>
<div class="ttc" id="a02705_html_ad3d14608128f7074b40927cbb0bee855"><div class="ttname"><a href="a02705.html#ad3d14608128f7074b40927cbb0bee855">BLOB_CHOICE::matrix_cell</a></div><div class="ttdeci">const MATRIX_COORD &amp; matrix_cell()</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00114">ratngs.h:114</a></div></div>
<div class="ttc" id="a04969_html_ab8d88b6237e566212b22b0eb6ba19a3b"><div class="ttname"><a href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">tesseract::LanguageModel::dict_</a></div><div class="ttdeci">Dict * dict_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00375">language_model.h:375</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bcaea73d015098d9432d1be3c569db95bb5"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcaea73d015098d9432d1be3c569db95bb5">COMPOUND_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00253">ratngs.h:253</a></div></div>
<div class="ttc" id="a02477_html_ae21a0aca773b5c51afa9e6096d120d11"><div class="ttname"><a href="a02477.html#ae21a0aca773b5c51afa9e6096d120d11">BlamerBundle::correct_segmentation_length</a></div><div class="ttdeci">int correct_segmentation_length() const</div><div class="ttdef"><b>Definition:</b> <a href="a00200_source.html#l00126">blamer.h:126</a></div></div>
<div class="ttc" id="a04557_html_a88a04bec1c3af33c818dafd7233a3fa9"><div class="ttname"><a href="a04557.html#a88a04bec1c3af33c818dafd7233a3fa9">tesseract::Dict::hyphenated</a></div><div class="ttdeci">bool hyphenated() const</div><div class="ttdoc">Returns true if we&amp;#39;ve recorded the beginning of a hyphenated word. </div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00126">dict.h:126</a></div></div>
<div class="ttc" id="a00500_html_a93a603f4063a6b9403d81caa245a583b"><div class="ttname"><a href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a></div><div class="ttdeci">#define ASSERT_HOST(x)</div><div class="ttdef"><b>Definition:</b> <a href="a00500_source.html#l00084">errcode.h:84</a></div></div>
<div class="ttc" id="a02709_html_a0c2171731221befd7bd527ed2ed7ccc4"><div class="ttname"><a href="a02709.html#a0c2171731221befd7bd527ed2ed7ccc4">WERD_CHOICE::set_x_heights</a></div><div class="ttdeci">void set_x_heights(float min_height, float max_height)</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00340">ratngs.h:340</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a31d3bfc26e4365b9059fa6d7fd8188ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31d3bfc26e4365b9059fa6d7fd8188ad">&#9670;&nbsp;</a></span>ExtractFeaturesFromPath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::LanguageModel::ExtractFeaturesFromPath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a04989.html">ViterbiStateEntry</a> &amp;&#160;</td>
          <td class="paramname"><em>vse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>features</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l01334">1334</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;                                                    {</div><div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  memset(features, 0, <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>) * <a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467a1f9a0441244ce25f22a62f3b17cf9d2e">PTRAIN_NUM_FEATURE_TYPES</a>);</div><div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  <span class="comment">// Record dictionary match info.</span></div><div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;  <span class="keywordtype">int</span> len = vse.length &lt;= kMaxSmallWordUnichars ? 0 :</div><div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;      vse.length &lt;= kMaxMediumWordUnichars ? 1 : 2;</div><div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;  <span class="keywordflow">if</span> (vse.dawg_info != NULL) {</div><div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordtype">int</span> permuter = vse.dawg_info-&gt;permuter;</div><div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="keywordflow">if</span> (permuter == <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca809574e2067a5304fbd2279d869e9b24">NUMBER_PERM</a> || permuter == <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca4004377f07488741fde22cbc8d2ae729">USER_PATTERN_PERM</a>) {</div><div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;      <span class="keywordflow">if</span> (vse.consistency_info.num_digits == vse.length) {</div><div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        features[<a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467a1500cece41ad4b1311e252f2b84d2650">PTRAIN_DIGITS_SHORT</a>+len] = 1.0;</div><div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        features[<a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467a9993582b2b81198845d05ba22a9bdb34">PTRAIN_NUM_SHORT</a>+len] = 1.0;</div><div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;      }</div><div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (permuter == <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca40f46ca413dfd53f7d7938c9fc305d04">DOC_DAWG_PERM</a>) {</div><div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;      features[<a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467abb1f75943b9c111831107bd17c327062">PTRAIN_DOC_SHORT</a>+len] = 1.0;</div><div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (permuter == <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca616bdbcaed7dd414823b303af5c8b1f1">SYSTEM_DAWG_PERM</a> || permuter == <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca5e293e54fa687876197992131e779d54">USER_DAWG_PERM</a> ||</div><div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        permuter == <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcaea73d015098d9432d1be3c569db95bb5">COMPOUND_PERM</a>) {</div><div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;      features[<a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467a4ed49f4fd757ded1bf8eca9aecdbeab7">PTRAIN_DICT_SHORT</a>+len] = 1.0;</div><div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (permuter == <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca4fd9d3b025ecc5ea8f2248fea29543e4">FREQ_DAWG_PERM</a>) {</div><div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      features[<a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467a5d90fce75b366d7e15fa7a69d83357c2">PTRAIN_FREQ_SHORT</a>+len] = 1.0;</div><div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    }</div><div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;  }</div><div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;  <span class="comment">// Record shape cost feature (normalized by path length).</span></div><div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;  features[<a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467a8a4552af7b096cd4e07365b0142b39b2">PTRAIN_SHAPE_COST_PER_CHAR</a>] =</div><div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;      vse.associate_stats.shape_cost / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(vse.length);</div><div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  <span class="comment">// Record ngram cost. (normalized by the path length).</span></div><div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  features[<a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467a232084d7e65391f3c7e6b5709a989aa9">PTRAIN_NGRAM_COST_PER_CHAR</a>] = 0.0;</div><div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;  <span class="keywordflow">if</span> (vse.ngram_info != NULL) {</div><div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    features[<a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467a232084d7e65391f3c7e6b5709a989aa9">PTRAIN_NGRAM_COST_PER_CHAR</a>] =</div><div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;        vse.ngram_info-&gt;ngram_cost / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(vse.length);</div><div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;  }</div><div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  <span class="comment">// Record consistency-related features.</span></div><div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;  <span class="comment">// Disabled this feature for due to its poor performance.</span></div><div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;  <span class="comment">// features[PTRAIN_NUM_BAD_PUNC] = vse.consistency_info.NumInconsistentPunc();</span></div><div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;  features[<a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467a9638fa9da907b679b1ec6ceacc49a625">PTRAIN_NUM_BAD_CASE</a>] = vse.consistency_info.NumInconsistentCase();</div><div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;  features[<a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467ac1573ea4f6bb4964d253022e801a214e">PTRAIN_XHEIGHT_CONSISTENCY</a>] = vse.consistency_info.xht_decision;</div><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  features[<a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467a2b5b59226e9e2688f6d620a551cc14c9">PTRAIN_NUM_BAD_CHAR_TYPE</a>] = vse.dawg_info == NULL ?</div><div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;      vse.consistency_info.NumInconsistentChartype() : 0.0;</div><div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  features[<a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467abf6ca295b288dca43c10b9022372a1db">PTRAIN_NUM_BAD_SPACING</a>] =</div><div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;      vse.consistency_info.NumInconsistentSpaces();</div><div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="comment">// Disabled this feature for now due to its poor performance.</span></div><div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <span class="comment">// features[PTRAIN_NUM_BAD_FONT] = vse.consistency_info.inconsistent_font;</span></div><div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;</div><div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="comment">// Classifier-related features.</span></div><div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;  features[<a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467a0f4d3799e004120bbaeaf1b6194264a8">PTRAIN_RATING_PER_CHAR</a>] =</div><div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;      vse.ratings_sum / <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(vse.outline_length);</div><div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;}</div><div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bca4004377f07488741fde22cbc8d2ae729"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca4004377f07488741fde22cbc8d2ae729">USER_PATTERN_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00248">ratngs.h:248</a></div></div>
<div class="ttc" id="a01738_html_a996f57000ba7e945e304ca3a5268b467a1f9a0441244ce25f22a62f3b17cf9d2e"><div class="ttname"><a href="a01738.html#a996f57000ba7e945e304ca3a5268b467a1f9a0441244ce25f22a62f3b17cf9d2e">tesseract::PTRAIN_NUM_FEATURE_TYPES</a></div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00070">params_training_featdef.h:70</a></div></div>
<div class="ttc" id="a01738_html_a996f57000ba7e945e304ca3a5268b467a4ed49f4fd757ded1bf8eca9aecdbeab7"><div class="ttname"><a href="a01738.html#a996f57000ba7e945e304ca3a5268b467a4ed49f4fd757ded1bf8eca9aecdbeab7">tesseract::PTRAIN_DICT_SHORT</a></div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00053">params_training_featdef.h:53</a></div></div>
<div class="ttc" id="a01738_html_a996f57000ba7e945e304ca3a5268b467abf6ca295b288dca43c10b9022372a1db"><div class="ttname"><a href="a01738.html#a996f57000ba7e945e304ca3a5268b467abf6ca295b288dca43c10b9022372a1db">tesseract::PTRAIN_NUM_BAD_SPACING</a></div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00066">params_training_featdef.h:66</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bca40f46ca413dfd53f7d7938c9fc305d04"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca40f46ca413dfd53f7d7938c9fc305d04">DOC_DAWG_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00250">ratngs.h:250</a></div></div>
<div class="ttc" id="a01738_html_a996f57000ba7e945e304ca3a5268b467ac1573ea4f6bb4964d253022e801a214e"><div class="ttname"><a href="a01738.html#a996f57000ba7e945e304ca3a5268b467ac1573ea4f6bb4964d253022e801a214e">tesseract::PTRAIN_XHEIGHT_CONSISTENCY</a></div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00064">params_training_featdef.h:64</a></div></div>
<div class="ttc" id="a01738_html_a996f57000ba7e945e304ca3a5268b467a0f4d3799e004120bbaeaf1b6194264a8"><div class="ttname"><a href="a01738.html#a996f57000ba7e945e304ca3a5268b467a0f4d3799e004120bbaeaf1b6194264a8">tesseract::PTRAIN_RATING_PER_CHAR</a></div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00068">params_training_featdef.h:68</a></div></div>
<div class="ttc" id="a01738_html_a996f57000ba7e945e304ca3a5268b467a232084d7e65391f3c7e6b5709a989aa9"><div class="ttname"><a href="a01738.html#a996f57000ba7e945e304ca3a5268b467a232084d7e65391f3c7e6b5709a989aa9">tesseract::PTRAIN_NGRAM_COST_PER_CHAR</a></div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00061">params_training_featdef.h:61</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bca809574e2067a5304fbd2279d869e9b24"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca809574e2067a5304fbd2279d869e9b24">NUMBER_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00247">ratngs.h:247</a></div></div>
<div class="ttc" id="a01738_html_a996f57000ba7e945e304ca3a5268b467a9993582b2b81198845d05ba22a9bdb34"><div class="ttname"><a href="a01738.html#a996f57000ba7e945e304ca3a5268b467a9993582b2b81198845d05ba22a9bdb34">tesseract::PTRAIN_NUM_SHORT</a></div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00045">params_training_featdef.h:45</a></div></div>
<div class="ttc" id="a01738_html_a996f57000ba7e945e304ca3a5268b467a1500cece41ad4b1311e252f2b84d2650"><div class="ttname"><a href="a01738.html#a996f57000ba7e945e304ca3a5268b467a1500cece41ad4b1311e252f2b84d2650">tesseract::PTRAIN_DIGITS_SHORT</a></div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00041">params_training_featdef.h:41</a></div></div>
<div class="ttc" id="a01738_html_a996f57000ba7e945e304ca3a5268b467a2b5b59226e9e2688f6d620a551cc14c9"><div class="ttname"><a href="a01738.html#a996f57000ba7e945e304ca3a5268b467a2b5b59226e9e2688f6d620a551cc14c9">tesseract::PTRAIN_NUM_BAD_CHAR_TYPE</a></div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00065">params_training_featdef.h:65</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bca4fd9d3b025ecc5ea8f2248fea29543e4"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca4fd9d3b025ecc5ea8f2248fea29543e4">FREQ_DAWG_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00252">ratngs.h:252</a></div></div>
<div class="ttc" id="a01738_html_a996f57000ba7e945e304ca3a5268b467a5d90fce75b366d7e15fa7a69d83357c2"><div class="ttname"><a href="a01738.html#a996f57000ba7e945e304ca3a5268b467a5d90fce75b366d7e15fa7a69d83357c2">tesseract::PTRAIN_FREQ_SHORT</a></div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00057">params_training_featdef.h:57</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bca616bdbcaed7dd414823b303af5c8b1f1"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca616bdbcaed7dd414823b303af5c8b1f1">SYSTEM_DAWG_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00249">ratngs.h:249</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bca5e293e54fa687876197992131e779d54"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca5e293e54fa687876197992131e779d54">USER_DAWG_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00251">ratngs.h:251</a></div></div>
<div class="ttc" id="a01738_html_a996f57000ba7e945e304ca3a5268b467a8a4552af7b096cd4e07365b0142b39b2"><div class="ttname"><a href="a01738.html#a996f57000ba7e945e304ca3a5268b467a8a4552af7b096cd4e07365b0142b39b2">tesseract::PTRAIN_SHAPE_COST_PER_CHAR</a></div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00060">params_training_featdef.h:60</a></div></div>
<div class="ttc" id="a01738_html_a996f57000ba7e945e304ca3a5268b467abb1f75943b9c111831107bd17c327062"><div class="ttname"><a href="a01738.html#a996f57000ba7e945e304ca3a5268b467abb1f75943b9c111831107bd17c327062">tesseract::PTRAIN_DOC_SHORT</a></div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00049">params_training_featdef.h:49</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bcaea73d015098d9432d1be3c569db95bb5"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcaea73d015098d9432d1be3c569db95bb5">COMPOUND_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00253">ratngs.h:253</a></div></div>
<div class="ttc" id="a01738_html_a996f57000ba7e945e304ca3a5268b467a9638fa9da907b679b1ec6ceacc49a625"><div class="ttname"><a href="a01738.html#a996f57000ba7e945e304ca3a5268b467a9638fa9da907b679b1ec6ceacc49a625">tesseract::PTRAIN_NUM_BAD_CASE</a></div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00063">params_training_featdef.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad2c96de8604423454b95091880ed1ffd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2c96de8604423454b95091880ed1ffd">&#9670;&nbsp;</a></span>FillConsistencyInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::LanguageModel::FillConsistencyInfo </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>curr_col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>word_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02705.html">BLOB_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04989.html">ViterbiStateEntry</a> *&#160;</td>
          <td class="paramname"><em>parent_vse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02645.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04973.html">LMConsistencyInfo</a> *&#160;</td>
          <td class="paramname"><em>consistency_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l01010">1010</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                                         {</div><div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;  <span class="keyword">const</span> <a class="code" href="a04041.html">UNICHARSET</a> &amp;unicharset = <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>();</div><div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;  <a class="code" href="a00614.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id = b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>();</div><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  <a class="code" href="a02705.html">BLOB_CHOICE</a>* parent_b = parent_vse != NULL ? parent_vse-&gt;curr_b : NULL;</div><div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div><div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;  <span class="comment">// Check punctuation validity.</span></div><div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  <span class="keywordflow">if</span> (unicharset.<a class="code" href="a04041.html#a4b8a480ae40b5ead314b25f95a5dc490">get_ispunctuation</a>(unichar_id)) consistency_info-&gt;num_punc++;</div><div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  if (<a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a9602921821beb45628df5682145e893e">GetPuncDawg</a>() != NULL &amp;&amp; !consistency_info-&gt;invalid_punc) {</div><div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#aa07269a6929862317892af548dc6f78e">compound_marker</a>(unichar_id) &amp;&amp; parent_b != NULL &amp;&amp;</div><div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;        (unicharset.<a class="code" href="a04041.html#a620c3ec802c8ddf9401a6940f542618e">get_isalpha</a>(parent_b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>()) ||</div><div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;         unicharset.<a class="code" href="a04041.html#a98079b3ce062183388c653eee9838e3c">get_isdigit</a>(parent_b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>()))) {</div><div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      <span class="comment">// reset punc_ref for compound words</span></div><div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      consistency_info-&gt;punc_ref = NO_EDGE;</div><div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;      <span class="keywordtype">bool</span> is_apos = <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#aaeea3ac50ab797651835f63999f4d28f">is_apostrophe</a>(unichar_id);</div><div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;      <span class="keywordtype">bool</span> prev_is_numalpha = (parent_b != NULL &amp;&amp;</div><div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;          (unicharset.<a class="code" href="a04041.html#a620c3ec802c8ddf9401a6940f542618e">get_isalpha</a>(parent_b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>()) ||</div><div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;           unicharset.<a class="code" href="a04041.html#a98079b3ce062183388c653eee9838e3c">get_isdigit</a>(parent_b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>())));</div><div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;      <a class="code" href="a00614.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> pattern_unichar_id =</div><div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        (unicharset.<a class="code" href="a04041.html#a620c3ec802c8ddf9401a6940f542618e">get_isalpha</a>(unichar_id) ||</div><div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;         unicharset.<a class="code" href="a04041.html#a98079b3ce062183388c653eee9838e3c">get_isdigit</a>(unichar_id) ||</div><div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;         (is_apos &amp;&amp; prev_is_numalpha)) ?</div><div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        <a class="code" href="a04525.html#af6a39872b9a20f3b02020f237731af87">Dawg::kPatternUnicharID</a> : unichar_id;</div><div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;      <span class="keywordflow">if</span> (consistency_info-&gt;punc_ref == NO_EDGE ||</div><div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;          pattern_unichar_id != <a class="code" href="a04525.html#af6a39872b9a20f3b02020f237731af87">Dawg::kPatternUnicharID</a> ||</div><div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;          <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a9602921821beb45628df5682145e893e">GetPuncDawg</a>()-&gt;<a class="code" href="a04525.html#aeb12fee19d228b6225a495c9c115a77e">edge_letter</a>(consistency_info-&gt;punc_ref) !=</div><div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;          <a class="code" href="a04525.html#af6a39872b9a20f3b02020f237731af87">Dawg::kPatternUnicharID</a>) {</div><div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;        <a class="code" href="a01139.html#ac76aca11806fd7167c274dc45b7f7fe8">NODE_REF</a> node = <a class="code" href="a04557.html#aa98baea7a97174cb256643c407c81993">Dict::GetStartingNode</a>(<a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a9602921821beb45628df5682145e893e">GetPuncDawg</a>(),</div><div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                                              consistency_info-&gt;punc_ref);</div><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        consistency_info-&gt;punc_ref =</div><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;          (node != NO_EDGE) ? <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a9602921821beb45628df5682145e893e">GetPuncDawg</a>()-&gt;<a class="code" href="a04525.html#ad75874486a2a4d1f104df83ecb9fa321">edge_char_of</a>(</div><div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;              node, pattern_unichar_id, word_end) : NO_EDGE;</div><div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;        <span class="keywordflow">if</span> (consistency_info-&gt;punc_ref == NO_EDGE) {</div><div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;          consistency_info-&gt;invalid_punc = <span class="keyword">true</span>;</div><div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        }</div><div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;      }</div><div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    }</div><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  }</div><div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div><div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;  <span class="comment">// Update case related counters.</span></div><div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="keywordflow">if</span> (parent_vse != NULL &amp;&amp; !word_end &amp;&amp; <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#aa07269a6929862317892af548dc6f78e">compound_marker</a>(unichar_id)) {</div><div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="comment">// Reset counters if we are dealing with a compound word.</span></div><div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    consistency_info-&gt;num_lower = 0;</div><div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    consistency_info-&gt;num_non_first_upper = 0;</div><div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  }</div><div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (unicharset.<a class="code" href="a04041.html#afb472ed816e5f312692fa670f56dceb6">get_islower</a>(unichar_id)) {</div><div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    consistency_info-&gt;num_lower++;</div><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((parent_b != NULL) &amp;&amp; unicharset.<a class="code" href="a04041.html#a55071e756e234d8c51ca08079c1847cd">get_isupper</a>(unichar_id)) {</div><div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">if</span> (unicharset.<a class="code" href="a04041.html#a55071e756e234d8c51ca08079c1847cd">get_isupper</a>(parent_b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>()) ||</div><div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        consistency_info-&gt;num_lower &gt; 0 ||</div><div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        consistency_info-&gt;num_non_first_upper &gt; 0) {</div><div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;      consistency_info-&gt;num_non_first_upper++;</div><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    }</div><div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  }</div><div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div><div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  <span class="comment">// Initialize consistency_info-&gt;script_id (use script of unichar_id</span></div><div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  <span class="comment">// if it is not Common, use script id recorded by the parent otherwise).</span></div><div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  <span class="comment">// Set inconsistent_script to true if the script of the current unichar</span></div><div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  <span class="comment">// is not consistent with that of the parent.</span></div><div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  consistency_info-&gt;script_id = unicharset.<a class="code" href="a04041.html#a4178f5a8eae6e6068e1c5a823efb6a41">get_script</a>(unichar_id);</div><div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  <span class="comment">// Hiragana and Katakana can mix with Han.</span></div><div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>().<a class="code" href="a04041.html#a3ec3d4dd929ede6a1e4e089f94ac6fb9">han_sid</a>() != <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>().<a class="code" href="a04041.html#a6fb6b86210d1dbc4659b16fdbb0c8fb6">null_sid</a>()) {</div><div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">if</span> ((unicharset.<a class="code" href="a04041.html#a13dbb2fc25c55a13f64654058432598b">hiragana_sid</a>() != unicharset.<a class="code" href="a04041.html#a6fb6b86210d1dbc4659b16fdbb0c8fb6">null_sid</a>() &amp;&amp;</div><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;         consistency_info-&gt;script_id == unicharset.<a class="code" href="a04041.html#a13dbb2fc25c55a13f64654058432598b">hiragana_sid</a>()) ||</div><div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;        (unicharset.<a class="code" href="a04041.html#a1a1ac071f5a1da0584d197031c2a27b6">katakana_sid</a>() != unicharset.<a class="code" href="a04041.html#a6fb6b86210d1dbc4659b16fdbb0c8fb6">null_sid</a>() &amp;&amp;</div><div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;         consistency_info-&gt;script_id == unicharset.<a class="code" href="a04041.html#a1a1ac071f5a1da0584d197031c2a27b6">katakana_sid</a>())) {</div><div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      consistency_info-&gt;script_id = <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>().<a class="code" href="a04041.html#a3ec3d4dd929ede6a1e4e089f94ac6fb9">han_sid</a>();</div><div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;    }</div><div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  }</div><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;</div><div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <span class="keywordflow">if</span> (parent_vse != NULL &amp;&amp;</div><div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;      (parent_vse-&gt;consistency_info.script_id !=</div><div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;       <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>().<a class="code" href="a04041.html#adb90590cd55c782ea614c810e96b11b6">common_sid</a>())) {</div><div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordtype">int</span> parent_script_id = parent_vse-&gt;consistency_info.script_id;</div><div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    <span class="comment">// If script_id is Common, use script id of the parent instead.</span></div><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;    <span class="keywordflow">if</span> (consistency_info-&gt;script_id == <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>().<a class="code" href="a04041.html#adb90590cd55c782ea614c810e96b11b6">common_sid</a>()) {</div><div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      consistency_info-&gt;script_id = parent_script_id;</div><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    }</div><div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="keywordflow">if</span> (consistency_info-&gt;script_id != parent_script_id) {</div><div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;      consistency_info-&gt;inconsistent_script = <span class="keyword">true</span>;</div><div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    }</div><div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  }</div><div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;</div><div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  <span class="comment">// Update chartype related counters.</span></div><div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  <span class="keywordflow">if</span> (unicharset.<a class="code" href="a04041.html#a620c3ec802c8ddf9401a6940f542618e">get_isalpha</a>(unichar_id)) {</div><div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    consistency_info-&gt;num_alphas++;</div><div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (unicharset.<a class="code" href="a04041.html#a98079b3ce062183388c653eee9838e3c">get_isdigit</a>(unichar_id)) {</div><div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    consistency_info-&gt;num_digits++;</div><div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!unicharset.<a class="code" href="a04041.html#a4b8a480ae40b5ead314b25f95a5dc490">get_ispunctuation</a>(unichar_id)) {</div><div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    consistency_info-&gt;num_other++;</div><div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  }</div><div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;</div><div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;  <span class="comment">// Check font and spacing consistency.</span></div><div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#adda83343e5c77980f11a8e28b90ce778">fontinfo_table_</a>-&gt;size() &gt; 0 &amp;&amp; parent_b != NULL) {</div><div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;    <span class="keywordtype">int</span> fontinfo_id = -1;</div><div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="keywordflow">if</span> (parent_b-&gt;<a class="code" href="a02705.html#a4555f7fd4cdee5c415cd3f60f55bd858">fontinfo_id</a>() == b-&gt;<a class="code" href="a02705.html#a4555f7fd4cdee5c415cd3f60f55bd858">fontinfo_id</a>() ||</div><div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;        parent_b-&gt;<a class="code" href="a02705.html#a8899786838b99b84db8a92ace496ce19">fontinfo_id2</a>() == b-&gt;<a class="code" href="a02705.html#a4555f7fd4cdee5c415cd3f60f55bd858">fontinfo_id</a>()) {</div><div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;      fontinfo_id = b-&gt;<a class="code" href="a02705.html#a4555f7fd4cdee5c415cd3f60f55bd858">fontinfo_id</a>();</div><div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (parent_b-&gt;<a class="code" href="a02705.html#a4555f7fd4cdee5c415cd3f60f55bd858">fontinfo_id</a>() == b-&gt;<a class="code" href="a02705.html#a8899786838b99b84db8a92ace496ce19">fontinfo_id2</a>() ||</div><div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                parent_b-&gt;<a class="code" href="a02705.html#a8899786838b99b84db8a92ace496ce19">fontinfo_id2</a>() == b-&gt;<a class="code" href="a02705.html#a8899786838b99b84db8a92ace496ce19">fontinfo_id2</a>()) {</div><div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;      fontinfo_id = b-&gt;<a class="code" href="a02705.html#a8899786838b99b84db8a92ace496ce19">fontinfo_id2</a>();</div><div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    }</div><div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 1) {</div><div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;pfont %s pfont %s font %s font2 %s common %s(%d)\n&quot;</span>,</div><div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;              (parent_b-&gt;<a class="code" href="a02705.html#a4555f7fd4cdee5c415cd3f60f55bd858">fontinfo_id</a>() &gt;= 0) ?</div><div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                  <a class="code" href="a04969.html#adda83343e5c77980f11a8e28b90ce778">fontinfo_table_</a>-&gt;get(parent_b-&gt;<a class="code" href="a02705.html#a4555f7fd4cdee5c415cd3f60f55bd858">fontinfo_id</a>()).name : <span class="stringliteral">&quot;&quot;</span> ,</div><div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;              (parent_b-&gt;<a class="code" href="a02705.html#a8899786838b99b84db8a92ace496ce19">fontinfo_id2</a>() &gt;= 0) ?</div><div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                  <a class="code" href="a04969.html#adda83343e5c77980f11a8e28b90ce778">fontinfo_table_</a>-&gt;get(parent_b-&gt;<a class="code" href="a02705.html#a8899786838b99b84db8a92ace496ce19">fontinfo_id2</a>()).name : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;              (b-&gt;<a class="code" href="a02705.html#a4555f7fd4cdee5c415cd3f60f55bd858">fontinfo_id</a>() &gt;= 0) ?</div><div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                  <a class="code" href="a04969.html#adda83343e5c77980f11a8e28b90ce778">fontinfo_table_</a>-&gt;get(b-&gt;<a class="code" href="a02705.html#a4555f7fd4cdee5c415cd3f60f55bd858">fontinfo_id</a>()).name : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;              (fontinfo_id &gt;= 0) ? <a class="code" href="a04969.html#adda83343e5c77980f11a8e28b90ce778">fontinfo_table_</a>-&gt;get(fontinfo_id).name : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;              (fontinfo_id &gt;= 0) ? <a class="code" href="a04969.html#adda83343e5c77980f11a8e28b90ce778">fontinfo_table_</a>-&gt;get(fontinfo_id).name : <span class="stringliteral">&quot;&quot;</span>,</div><div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;              fontinfo_id);</div><div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;    }</div><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    <span class="keywordflow">if</span> (!word_res-&gt;<a class="code" href="a02645.html#a3aeb8deef67c5383e1a116049b994be4">blob_widths</a>.<a class="code" href="a02297.html#a172c4aa23ba397e24319ae095281cbcc">empty</a>()) {  <span class="comment">// if we have widths/gaps info</span></div><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;      <span class="keywordtype">bool</span> expected_gap_found = <span class="keyword">false</span>;</div><div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;      <span class="keywordtype">float</span> expected_gap;</div><div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;      <span class="keywordtype">int</span> temp_gap;</div><div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;      <span class="keywordflow">if</span> (fontinfo_id &gt;= 0) {  <span class="comment">// found a common font</span></div><div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <a class="code" href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(fontinfo_id &lt; fontinfo_table_-&gt;size());</div><div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="a04969.html#adda83343e5c77980f11a8e28b90ce778">fontinfo_table_</a>-&gt;get(fontinfo_id).get_spacing(</div><div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;            parent_b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>(), unichar_id, &amp;temp_gap)) {</div><div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;          expected_gap = temp_gap;</div><div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;          expected_gap_found = <span class="keyword">true</span>;</div><div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        }</div><div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        consistency_info-&gt;inconsistent_font = <span class="keyword">true</span>;</div><div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="comment">// Get an average of the expected gaps in each font</span></div><div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="keywordtype">int</span> num_addends = 0;</div><div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        expected_gap = 0;</div><div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <span class="keywordtype">int</span> temp_fid;</div><div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 4; ++i) {</div><div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;          <span class="keywordflow">if</span> (i == 0) {</div><div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;            temp_fid = parent_b-&gt;<a class="code" href="a02705.html#a4555f7fd4cdee5c415cd3f60f55bd858">fontinfo_id</a>();</div><div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i == 1) {</div><div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;            temp_fid = parent_b-&gt;<a class="code" href="a02705.html#a8899786838b99b84db8a92ace496ce19">fontinfo_id2</a>();</div><div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;          } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i == 2) {</div><div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;            temp_fid = b-&gt;<a class="code" href="a02705.html#a4555f7fd4cdee5c415cd3f60f55bd858">fontinfo_id</a>();</div><div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;          } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;            temp_fid = b-&gt;<a class="code" href="a02705.html#a8899786838b99b84db8a92ace496ce19">fontinfo_id2</a>();</div><div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;          }</div><div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;          <a class="code" href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(temp_fid &lt; 0 || fontinfo_table_-&gt;size());</div><div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;          <span class="keywordflow">if</span> (temp_fid &gt;= 0 &amp;&amp; <a class="code" href="a04969.html#adda83343e5c77980f11a8e28b90ce778">fontinfo_table_</a>-&gt;get(temp_fid).get_spacing(</div><div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;              parent_b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>(), unichar_id, &amp;temp_gap)) {</div><div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;            expected_gap += temp_gap;</div><div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;            num_addends++;</div><div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;          }</div><div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        }</div><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;        expected_gap_found = (num_addends &gt; 0);</div><div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        <span class="keywordflow">if</span> (num_addends &gt; 0) {</div><div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;          expected_gap /= <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(num_addends);</div><div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        }</div><div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;      }</div><div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;      <span class="keywordflow">if</span> (expected_gap_found) {</div><div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <span class="keywordtype">float</span> actual_gap =</div><div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;            <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(word_res-&gt;<a class="code" href="a02645.html#a14a8fa4736d57b643471c48291e23bfb">GetBlobsGap</a>(curr_col-1));</div><div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        <span class="keywordtype">float</span> gap_ratio = expected_gap / actual_gap;</div><div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        <span class="comment">// TODO(rays) The gaps seem to be way off most of the time, saved by</span></div><div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;        <span class="comment">// the error here that the ratio was compared to 1/2, when it should</span></div><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;        <span class="comment">// have been 0.5f. Find the source of the gaps discrepancy and put</span></div><div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;        <span class="comment">// the 0.5f here in place of 0.0f.</span></div><div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;        <span class="comment">// Test on 2476595.sj, pages 0 to 6. (In French.)</span></div><div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;        <span class="keywordflow">if</span> (gap_ratio &lt; 0.0f || gap_ratio &gt; 2.0f) {</div><div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;          consistency_info-&gt;num_inconsistent_spaces++;</div><div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;        }</div><div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 1) {</div><div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;          <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;spacing for %s(%d) %s(%d) col %d: expected %g actual %g\n&quot;</span>,</div><div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                  unicharset.<a class="code" href="a04041.html#aa19fb595808fe4688c580334937dfa45">id_to_unichar</a>(parent_b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>()),</div><div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;                  parent_b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>(), unicharset.<a class="code" href="a04041.html#aa19fb595808fe4688c580334937dfa45">id_to_unichar</a>(unichar_id),</div><div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                  unichar_id, curr_col, expected_gap, actual_gap);</div><div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        }</div><div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;      }</div><div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    }</div><div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  }</div><div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;}</div><div class="ttc" id="a04969_html_a370fa3c5a5687622a6cc309d34850aad"><div class="ttname"><a href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">tesseract::LanguageModel::language_model_debug_level</a></div><div class="ttdeci">int language_model_debug_level</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00308">language_model.h:308</a></div></div>
<div class="ttc" id="a04525_html_af6a39872b9a20f3b02020f237731af87"><div class="ttname"><a href="a04525.html#af6a39872b9a20f3b02020f237731af87">tesseract::Dawg::kPatternUnicharID</a></div><div class="ttdeci">static const UNICHAR_ID kPatternUnicharID</div><div class="ttdef"><b>Definition:</b> <a href="a01139_source.html#l00125">dawg.h:125</a></div></div>
<div class="ttc" id="a04041_html_a620c3ec802c8ddf9401a6940f542618e"><div class="ttname"><a href="a04041.html#a620c3ec802c8ddf9401a6940f542618e">UNICHARSET::get_isalpha</a></div><div class="ttdeci">bool get_isalpha(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00449">unicharset.h:449</a></div></div>
<div class="ttc" id="a04557_html_aaeea3ac50ab797651835f63999f4d28f"><div class="ttname"><a href="a04557.html#aaeea3ac50ab797651835f63999f4d28f">tesseract::Dict::is_apostrophe</a></div><div class="ttdeci">bool is_apostrophe(UNICHAR_ID unichar_id)</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00117">dict.h:117</a></div></div>
<div class="ttc" id="a01139_html_ac76aca11806fd7167c274dc45b7f7fe8"><div class="ttname"><a href="a01139.html#ac76aca11806fd7167c274dc45b7f7fe8">NODE_REF</a></div><div class="ttdeci">inT64 NODE_REF</div><div class="ttdef"><b>Definition:</b> <a href="a01139_source.html#l00055">dawg.h:55</a></div></div>
<div class="ttc" id="a04557_html_a3ed04d9d9419ce413e9e495b5c5001ad"><div class="ttname"><a href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">tesseract::Dict::getUnicharset</a></div><div class="ttdeci">const UNICHARSET &amp; getUnicharset() const</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00097">dict.h:97</a></div></div>
<div class="ttc" id="a04041_html_a3ec3d4dd929ede6a1e4e089f94ac6fb9"><div class="ttname"><a href="a04041.html#a3ec3d4dd929ede6a1e4e089f94ac6fb9">UNICHARSET::han_sid</a></div><div class="ttdeci">int han_sid() const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00836">unicharset.h:836</a></div></div>
<div class="ttc" id="a04557_html_aa98baea7a97174cb256643c407c81993"><div class="ttname"><a href="a04557.html#aa98baea7a97174cb256643c407c81993">tesseract::Dict::GetStartingNode</a></div><div class="ttdeci">static NODE_REF GetStartingNode(const Dawg *dawg, EDGE_REF edge_ref)</div><div class="ttdoc">Returns the appropriate next node given the EDGE_REF. </div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00418">dict.h:418</a></div></div>
<div class="ttc" id="a04969_html_adda83343e5c77980f11a8e28b90ce778"><div class="ttname"><a href="a04969.html#adda83343e5c77980f11a8e28b90ce778">tesseract::LanguageModel::fontinfo_table_</a></div><div class="ttdeci">const UnicityTable&lt; FontInfo &gt; * fontinfo_table_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00371">language_model.h:371</a></div></div>
<div class="ttc" id="a04041_html_a4b8a480ae40b5ead314b25f95a5dc490"><div class="ttname"><a href="a04041.html#a4b8a480ae40b5ead314b25f95a5dc490">UNICHARSET::get_ispunctuation</a></div><div class="ttdeci">bool get_ispunctuation(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00477">unicharset.h:477</a></div></div>
<div class="ttc" id="a02705_html_ad448095b666bfb864211714ec2c2375e"><div class="ttname"><a href="a02705.html#ad448095b666bfb864211714ec2c2375e">BLOB_CHOICE::unichar_id</a></div><div class="ttdeci">UNICHAR_ID unichar_id() const</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00076">ratngs.h:76</a></div></div>
<div class="ttc" id="a04041_html"><div class="ttname"><a href="a04041.html">UNICHARSET</a></div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00139">unicharset.h:139</a></div></div>
<div class="ttc" id="a04525_html_aeb12fee19d228b6225a495c9c115a77e"><div class="ttname"><a href="a04525.html#aeb12fee19d228b6225a495c9c115a77e">tesseract::Dawg::edge_letter</a></div><div class="ttdeci">virtual UNICHAR_ID edge_letter(EDGE_REF edge_ref) const =0</div><div class="ttdoc">Returns UNICHAR_ID stored in the edge indicated by the given EDGE_REF. </div></div>
<div class="ttc" id="a02705_html_a8899786838b99b84db8a92ace496ce19"><div class="ttname"><a href="a02705.html#a8899786838b99b84db8a92ace496ce19">BLOB_CHOICE::fontinfo_id2</a></div><div class="ttdeci">inT16 fontinfo_id2() const</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00088">ratngs.h:88</a></div></div>
<div class="ttc" id="a04041_html_a55071e756e234d8c51ca08079c1847cd"><div class="ttname"><a href="a04041.html#a55071e756e234d8c51ca08079c1847cd">UNICHARSET::get_isupper</a></div><div class="ttdeci">bool get_isupper(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00463">unicharset.h:463</a></div></div>
<div class="ttc" id="a04525_html_ad75874486a2a4d1f104df83ecb9fa321"><div class="ttname"><a href="a04525.html#ad75874486a2a4d1f104df83ecb9fa321">tesseract::Dawg::edge_char_of</a></div><div class="ttdeci">virtual EDGE_REF edge_char_of(NODE_REF node, UNICHAR_ID unichar_id, bool word_end) const =0</div><div class="ttdoc">Returns the edge that corresponds to the letter out of this node. </div></div>
<div class="ttc" id="a04041_html_a4178f5a8eae6e6068e1c5a823efb6a41"><div class="ttname"><a href="a04041.html#a4178f5a8eae6e6068e1c5a823efb6a41">UNICHARSET::get_script</a></div><div class="ttdeci">int get_script(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00611">unicharset.h:611</a></div></div>
<div class="ttc" id="a04041_html_a13dbb2fc25c55a13f64654058432598b"><div class="ttname"><a href="a04041.html#a13dbb2fc25c55a13f64654058432598b">UNICHARSET::hiragana_sid</a></div><div class="ttdeci">int hiragana_sid() const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00837">unicharset.h:837</a></div></div>
<div class="ttc" id="a02645_html_a14a8fa4736d57b643471c48291e23bfb"><div class="ttname"><a href="a02645.html#a14a8fa4736d57b643471c48291e23bfb">WERD_RES::GetBlobsGap</a></div><div class="ttdeci">int GetBlobsGap(int blob_index)</div><div class="ttdef"><b>Definition:</b> <a href="a00335_source.html#l00732">pageres.cpp:732</a></div></div>
<div class="ttc" id="a00608_html_a02aa7cca2c3857c14716e8cca96ace6c"><div class="ttname"><a href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a></div><div class="ttdeci">#define tprintf(...)</div><div class="ttdef"><b>Definition:</b> <a href="a00608_source.html#l00031">tprintf.h:31</a></div></div>
<div class="ttc" id="a02705_html"><div class="ttname"><a href="a02705.html">BLOB_CHOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00048">ratngs.h:48</a></div></div>
<div class="ttc" id="a04041_html_adb90590cd55c782ea614c810e96b11b6"><div class="ttname"><a href="a04041.html#adb90590cd55c782ea614c810e96b11b6">UNICHARSET::common_sid</a></div><div class="ttdeci">int common_sid() const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00832">unicharset.h:832</a></div></div>
<div class="ttc" id="a02705_html_a4555f7fd4cdee5c415cd3f60f55bd858"><div class="ttname"><a href="a02705.html#a4555f7fd4cdee5c415cd3f60f55bd858">BLOB_CHOICE::fontinfo_id</a></div><div class="ttdeci">inT16 fontinfo_id() const</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00085">ratngs.h:85</a></div></div>
<div class="ttc" id="a04041_html_a98079b3ce062183388c653eee9838e3c"><div class="ttname"><a href="a04041.html#a98079b3ce062183388c653eee9838e3c">UNICHARSET::get_isdigit</a></div><div class="ttdeci">bool get_isdigit(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00470">unicharset.h:470</a></div></div>
<div class="ttc" id="a02645_html_a3aeb8deef67c5383e1a116049b994be4"><div class="ttname"><a href="a02645.html#a3aeb8deef67c5383e1a116049b994be4">WERD_RES::blob_widths</a></div><div class="ttdeci">GenericVector&lt; int &gt; blob_widths</div><div class="ttdef"><b>Definition:</b> <a href="a00338_source.html#l00205">pageres.h:205</a></div></div>
<div class="ttc" id="a04969_html_ab8d88b6237e566212b22b0eb6ba19a3b"><div class="ttname"><a href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">tesseract::LanguageModel::dict_</a></div><div class="ttdeci">Dict * dict_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00375">language_model.h:375</a></div></div>
<div class="ttc" id="a04041_html_afb472ed816e5f312692fa670f56dceb6"><div class="ttname"><a href="a04041.html#afb472ed816e5f312692fa670f56dceb6">UNICHARSET::get_islower</a></div><div class="ttdeci">bool get_islower(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00456">unicharset.h:456</a></div></div>
<div class="ttc" id="a04041_html_a6fb6b86210d1dbc4659b16fdbb0c8fb6"><div class="ttname"><a href="a04041.html#a6fb6b86210d1dbc4659b16fdbb0c8fb6">UNICHARSET::null_sid</a></div><div class="ttdeci">int null_sid() const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00831">unicharset.h:831</a></div></div>
<div class="ttc" id="a04041_html_aa19fb595808fe4688c580334937dfa45"><div class="ttname"><a href="a04041.html#aa19fb595808fe4688c580334937dfa45">UNICHARSET::id_to_unichar</a></div><div class="ttdeci">const char * id_to_unichar(UNICHAR_ID id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00623_source.html#l00266">unicharset.cpp:266</a></div></div>
<div class="ttc" id="a02297_html_a172c4aa23ba397e24319ae095281cbcc"><div class="ttname"><a href="a02297.html#a172c4aa23ba397e24319ae095281cbcc">GenericVector::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="a00509_source.html#l00084">genericvector.h:84</a></div></div>
<div class="ttc" id="a00500_html_a93a603f4063a6b9403d81caa245a583b"><div class="ttname"><a href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a></div><div class="ttdeci">#define ASSERT_HOST(x)</div><div class="ttdef"><b>Definition:</b> <a href="a00500_source.html#l00084">errcode.h:84</a></div></div>
<div class="ttc" id="a04041_html_a1a1ac071f5a1da0584d197031c2a27b6"><div class="ttname"><a href="a04041.html#a1a1ac071f5a1da0584d197031c2a27b6">UNICHARSET::katakana_sid</a></div><div class="ttdeci">int katakana_sid() const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00838">unicharset.h:838</a></div></div>
<div class="ttc" id="a04557_html_a9602921821beb45628df5682145e893e"><div class="ttname"><a href="a04557.html#a9602921821beb45628df5682145e893e">tesseract::Dict::GetPuncDawg</a></div><div class="ttdeci">const Dawg * GetPuncDawg() const</div><div class="ttdoc">Return the points to the punctuation dawg. </div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00414">dict.h:414</a></div></div>
<div class="ttc" id="a00614_html_a8578b19fa1ff5ca75080db1a18ecc32e"><div class="ttname"><a href="a00614.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a></div><div class="ttdeci">int UNICHAR_ID</div><div class="ttdef"><b>Definition:</b> <a href="a00614_source.html#l00033">unichar.h:33</a></div></div>
<div class="ttc" id="a04557_html_aa07269a6929862317892af548dc6f78e"><div class="ttname"><a href="a04557.html#aa07269a6929862317892af548dc6f78e">tesseract::Dict::compound_marker</a></div><div class="ttdeci">bool compound_marker(UNICHAR_ID unichar_id)</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00108">dict.h:108</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a080a5f92f370d5bedc6312deb4f915d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a080a5f92f370d5bedc6312deb4f915d6">&#9670;&nbsp;</a></span>GenerateDawgInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04981.html">LanguageModelDawgInfo</a> * tesseract::LanguageModel::GenerateDawgInfo </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>word_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>curr_col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>curr_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a02705.html">BLOB_CHOICE</a> &amp;&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a04989.html">ViterbiStateEntry</a> *&#160;</td>
          <td class="paramname"><em>parent_vse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l00781">781</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;                                         {</div><div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;  <span class="comment">// Initialize active_dawgs from parent_vse if it is not NULL.</span></div><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="comment">// Otherwise use very_beginning_active_dawgs_.</span></div><div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <span class="keywordflow">if</span> (parent_vse == NULL) {</div><div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>.<a class="code" href="a04553.html#abe4f6043296478c11a7e9b6f070dd822">active_dawgs</a> = &amp;<a class="code" href="a04969.html#ac2cbc53ed90a63bb524540fbdcdf2b32">very_beginning_active_dawgs_</a>;</div><div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>.<a class="code" href="a04553.html#ac6d1140877409a292367493620fd8b9b">permuter</a> = <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcafbce35860451a2bdc0a266cd83a4397f">NO_PERM</a>;</div><div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">if</span> (parent_vse-&gt;dawg_info == NULL) <span class="keywordflow">return</span> NULL;  <span class="comment">// not a dict word path</span></div><div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>.<a class="code" href="a04553.html#abe4f6043296478c11a7e9b6f070dd822">active_dawgs</a> = &amp;parent_vse-&gt;dawg_info-&gt;active_dawgs;</div><div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>.<a class="code" href="a04553.html#ac6d1140877409a292367493620fd8b9b">permuter</a> = parent_vse-&gt;dawg_info-&gt;permuter;</div><div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  }</div><div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;</div><div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="comment">// Deal with hyphenated words.</span></div><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="keywordflow">if</span> (word_end &amp;&amp; <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#ac97741742b502739958ba0b88aa67f3d">has_hyphen_end</a>(b.<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>(), curr_col == 0)) {</div><div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 0) <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Hyphenated word found\n&quot;</span>);</div><div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> LanguageModelDawgInfo(<a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>.<a class="code" href="a04553.html#abe4f6043296478c11a7e9b6f070dd822">active_dawgs</a>,</div><div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;                                     <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcaea73d015098d9432d1be3c569db95bb5">COMPOUND_PERM</a>);</div><div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;  }</div><div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;</div><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="comment">// Deal with compound words.</span></div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#aa07269a6929862317892af548dc6f78e">compound_marker</a>(b.<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>()) &amp;&amp;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;      (parent_vse == NULL || parent_vse-&gt;dawg_info-&gt;permuter != <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca809574e2067a5304fbd2279d869e9b24">NUMBER_PERM</a>)) {</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 0) <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Found compound marker\n&quot;</span>);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">// Do not allow compound operators at the beginning and end of the word.</span></div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">// Do not allow more than one compound operator per word.</span></div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="comment">// Do not allow compounding of words with lengths shorter than</span></div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="comment">// language_model_min_compound_length</span></div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">if</span> (parent_vse == NULL || word_end ||</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>.<a class="code" href="a04553.html#ac6d1140877409a292367493620fd8b9b">permuter</a> == <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcaea73d015098d9432d1be3c569db95bb5">COMPOUND_PERM</a> ||</div><div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        parent_vse-&gt;length &lt; <a class="code" href="a04969.html#a74c3764116fb5a0029768b8409307835">language_model_min_compound_length</a>) <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;</div><div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="keywordtype">int</span> i;</div><div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="comment">// Check a that the path terminated before the current character is a word.</span></div><div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordtype">bool</span> has_word_ending = <span class="keyword">false</span>;</div><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    <span class="keywordflow">for</span> (i = 0; i &lt; parent_vse-&gt;dawg_info-&gt;active_dawgs.size(); ++i) {</div><div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      <span class="keyword">const</span> DawgPosition &amp;pos = parent_vse-&gt;dawg_info-&gt;active_dawgs[i];</div><div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      <span class="keyword">const</span> Dawg *pdawg = pos.dawg_index &lt; 0</div><div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;          ? NULL : <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a592e165554ca0cb0839da97874314ac8">GetDawg</a>(pos.dawg_index);</div><div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;      <span class="keywordflow">if</span> (pdawg == NULL || pos.back_to_punc) <span class="keywordflow">continue</span>;;</div><div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;      <span class="keywordflow">if</span> (pdawg-&gt;type() == <a class="code" href="a01738.html#a07c41f251f1782c60df4e626c35d2151a9c67e397ff6d57a705cd4cd4524a2b34">DAWG_TYPE_WORD</a> &amp;&amp; pos.dawg_ref != NO_EDGE &amp;&amp;</div><div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;          pdawg-&gt;end_of_word(pos.dawg_ref)) {</div><div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        has_word_ending = <span class="keyword">true</span>;</div><div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;      }</div><div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    }</div><div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">if</span> (!has_word_ending) <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div><div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 0) <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Compound word found\n&quot;</span>);</div><div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> LanguageModelDawgInfo(&amp;<a class="code" href="a04969.html#a0b39f11a66e9dd52208e15c1c62e8272">beginning_active_dawgs_</a>, <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcaea73d015098d9432d1be3c569db95bb5">COMPOUND_PERM</a>);</div><div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  }  <span class="comment">// done dealing with compound words</span></div><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div><div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;  LanguageModelDawgInfo *dawg_info = NULL;</div><div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div><div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="comment">// Call LetterIsOkay().</span></div><div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;  <span class="comment">// Use the normalized IDs so that all shapes of &#39; can be allowed in words</span></div><div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;  <span class="comment">// like don&#39;t.</span></div><div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;  <span class="keyword">const</span> <a class="code" href="a02297.html">GenericVector&lt;UNICHAR_ID&gt;</a>&amp; normed_ids =</div><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>().<a class="code" href="a04041.html#a045dcfc6fbbccd8b926958758a4087ef">normed_ids</a>(b.<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>());</div><div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  DawgPositionVector tmp_active_dawgs;</div><div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; normed_ids.<a class="code" href="a02297.html#a20cfad5c58c50cb85a9529d8ddbd96af">size</a>(); ++i) {</div><div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 2)</div><div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Test Letter OK for unichar %d, normed %d\n&quot;</span>,</div><div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;              b.<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>(), normed_ids[i]);</div><div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#ae348d0cdacedbe26643beb6761e18f06">LetterIsOkay</a>(&amp;<a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>, normed_ids[i],</div><div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                        word_end &amp;&amp; i == normed_ids.<a class="code" href="a02297.html#a20cfad5c58c50cb85a9529d8ddbd96af">size</a>() - 1);</div><div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>.<a class="code" href="a04553.html#ac6d1140877409a292367493620fd8b9b">permuter</a> == <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcafbce35860451a2bdc0a266cd83a4397f">NO_PERM</a>) {</div><div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (i &lt; normed_ids.<a class="code" href="a02297.html#a20cfad5c58c50cb85a9529d8ddbd96af">size</a>() - 1) {</div><div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;      tmp_active_dawgs = *<a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>.<a class="code" href="a04553.html#aa0618a8307e4a124c7c743887437f7db">updated_dawgs</a>;</div><div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;      <a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>.<a class="code" href="a04553.html#abe4f6043296478c11a7e9b6f070dd822">active_dawgs</a> = &amp;tmp_active_dawgs;</div><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    }</div><div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 2)</div><div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Letter was OK for unichar %d, normed %d\n&quot;</span>,</div><div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;              b.<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>(), normed_ids[i]);</div><div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  }</div><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;  <a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>.<a class="code" href="a04553.html#abe4f6043296478c11a7e9b6f070dd822">active_dawgs</a> = NULL;</div><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>.<a class="code" href="a04553.html#ac6d1140877409a292367493620fd8b9b">permuter</a> != <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcafbce35860451a2bdc0a266cd83a4397f">NO_PERM</a>) {</div><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    dawg_info = <span class="keyword">new</span> LanguageModelDawgInfo(<a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>.<a class="code" href="a04553.html#aa0618a8307e4a124c7c743887437f7db">updated_dawgs</a>,</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;                                          <a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>.<a class="code" href="a04553.html#ac6d1140877409a292367493620fd8b9b">permuter</a>);</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 3) {</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Letter %s not OK!\n&quot;</span>,</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;            <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>().<a class="code" href="a04041.html#aa19fb595808fe4688c580334937dfa45">id_to_unichar</a>(b.<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>()));</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  }</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keywordflow">return</span> dawg_info;</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;}</div><div class="ttc" id="a04969_html_a370fa3c5a5687622a6cc309d34850aad"><div class="ttname"><a href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">tesseract::LanguageModel::language_model_debug_level</a></div><div class="ttdeci">int language_model_debug_level</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00308">language_model.h:308</a></div></div>
<div class="ttc" id="a04969_html_a0b39f11a66e9dd52208e15c1c62e8272"><div class="ttname"><a href="a04969.html#a0b39f11a66e9dd52208e15c1c62e8272">tesseract::LanguageModel::beginning_active_dawgs_</a></div><div class="ttdeci">DawgPositionVector beginning_active_dawgs_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00396">language_model.h:396</a></div></div>
<div class="ttc" id="a02297_html"><div class="ttname"><a href="a02297.html">GenericVector&lt; UNICHAR_ID &gt;</a></div></div>
<div class="ttc" id="a04553_html_aa0618a8307e4a124c7c743887437f7db"><div class="ttname"><a href="a04553.html#aa0618a8307e4a124c7c743887437f7db">tesseract::DawgArgs::updated_dawgs</a></div><div class="ttdeci">DawgPositionVector * updated_dawgs</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00081">dict.h:81</a></div></div>
<div class="ttc" id="a04557_html_a592e165554ca0cb0839da97874314ac8"><div class="ttname"><a href="a04557.html#a592e165554ca0cb0839da97874314ac8">tesseract::Dict::GetDawg</a></div><div class="ttdeci">const Dawg * GetDawg(int index) const</div><div class="ttdoc">Return i-th dawg pointer recorded in the dawgs_ vector. </div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00412">dict.h:412</a></div></div>
<div class="ttc" id="a04557_html_a3ed04d9d9419ce413e9e495b5c5001ad"><div class="ttname"><a href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">tesseract::Dict::getUnicharset</a></div><div class="ttdeci">const UNICHARSET &amp; getUnicharset() const</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00097">dict.h:97</a></div></div>
<div class="ttc" id="a04969_html_a74c3764116fb5a0029768b8409307835"><div class="ttname"><a href="a04969.html#a74c3764116fb5a0029768b8409307835">tesseract::LanguageModel::language_model_min_compound_length</a></div><div class="ttdeci">int language_model_min_compound_length</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00335">language_model.h:335</a></div></div>
<div class="ttc" id="a04969_html_aedf6503eefab0943dd5e10945621535f"><div class="ttname"><a href="a04969.html#aedf6503eefab0943dd5e10945621535f">tesseract::LanguageModel::dawg_args_</a></div><div class="ttdeci">DawgArgs dawg_args_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00356">language_model.h:356</a></div></div>
<div class="ttc" id="a02705_html_ad448095b666bfb864211714ec2c2375e"><div class="ttname"><a href="a02705.html#ad448095b666bfb864211714ec2c2375e">BLOB_CHOICE::unichar_id</a></div><div class="ttdeci">UNICHAR_ID unichar_id() const</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00076">ratngs.h:76</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bca809574e2067a5304fbd2279d869e9b24"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca809574e2067a5304fbd2279d869e9b24">NUMBER_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00247">ratngs.h:247</a></div></div>
<div class="ttc" id="a01738_html_a07c41f251f1782c60df4e626c35d2151a9c67e397ff6d57a705cd4cd4524a2b34"><div class="ttname"><a href="a01738.html#a07c41f251f1782c60df4e626c35d2151a9c67e397ff6d57a705cd4cd4524a2b34">tesseract::DAWG_TYPE_WORD</a></div><div class="ttdef"><b>Definition:</b> <a href="a01139_source.html#l00073">dawg.h:73</a></div></div>
<div class="ttc" id="a04557_html_ae348d0cdacedbe26643beb6761e18f06"><div class="ttname"><a href="a04557.html#ae348d0cdacedbe26643beb6761e18f06">tesseract::Dict::LetterIsOkay</a></div><div class="ttdeci">int LetterIsOkay(void *void_dawg_args, UNICHAR_ID unichar_id, bool word_end) const</div><div class="ttdoc">Calls letter_is_okay_ member function. </div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00357">dict.h:357</a></div></div>
<div class="ttc" id="a04041_html_a045dcfc6fbbccd8b926958758a4087ef"><div class="ttname"><a href="a04041.html#a045dcfc6fbbccd8b926958758a4087ef">UNICHARSET::normed_ids</a></div><div class="ttdeci">const GenericVector&lt; UNICHAR_ID &gt; &amp; normed_ids(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00783">unicharset.h:783</a></div></div>
<div class="ttc" id="a00608_html_a02aa7cca2c3857c14716e8cca96ace6c"><div class="ttname"><a href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a></div><div class="ttdeci">#define tprintf(...)</div><div class="ttdef"><b>Definition:</b> <a href="a00608_source.html#l00031">tprintf.h:31</a></div></div>
<div class="ttc" id="a02297_html_a20cfad5c58c50cb85a9529d8ddbd96af"><div class="ttname"><a href="a02297.html#a20cfad5c58c50cb85a9529d8ddbd96af">GenericVector::size</a></div><div class="ttdeci">int size() const</div><div class="ttdef"><b>Definition:</b> <a href="a00509_source.html#l00072">genericvector.h:72</a></div></div>
<div class="ttc" id="a04969_html_ac2cbc53ed90a63bb524540fbdcdf2b32"><div class="ttname"><a href="a04969.html#ac2cbc53ed90a63bb524540fbdcdf2b32">tesseract::LanguageModel::very_beginning_active_dawgs_</a></div><div class="ttdeci">DawgPositionVector very_beginning_active_dawgs_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00395">language_model.h:395</a></div></div>
<div class="ttc" id="a04553_html_abe4f6043296478c11a7e9b6f070dd822"><div class="ttname"><a href="a04553.html#abe4f6043296478c11a7e9b6f070dd822">tesseract::DawgArgs::active_dawgs</a></div><div class="ttdeci">DawgPositionVector * active_dawgs</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00080">dict.h:80</a></div></div>
<div class="ttc" id="a04553_html_ac6d1140877409a292367493620fd8b9b"><div class="ttname"><a href="a04553.html#ac6d1140877409a292367493620fd8b9b">tesseract::DawgArgs::permuter</a></div><div class="ttdeci">PermuterType permuter</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00082">dict.h:82</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bcafbce35860451a2bdc0a266cd83a4397f"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcafbce35860451a2bdc0a266cd83a4397f">NO_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00241">ratngs.h:241</a></div></div>
<div class="ttc" id="a04969_html_ab8d88b6237e566212b22b0eb6ba19a3b"><div class="ttname"><a href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">tesseract::LanguageModel::dict_</a></div><div class="ttdeci">Dict * dict_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00375">language_model.h:375</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bcaea73d015098d9432d1be3c569db95bb5"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bcaea73d015098d9432d1be3c569db95bb5">COMPOUND_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00253">ratngs.h:253</a></div></div>
<div class="ttc" id="a04041_html_aa19fb595808fe4688c580334937dfa45"><div class="ttname"><a href="a04041.html#aa19fb595808fe4688c580334937dfa45">UNICHARSET::id_to_unichar</a></div><div class="ttdeci">const char * id_to_unichar(UNICHAR_ID id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00623_source.html#l00266">unicharset.cpp:266</a></div></div>
<div class="ttc" id="a04557_html_ac97741742b502739958ba0b88aa67f3d"><div class="ttname"><a href="a04557.html#ac97741742b502739958ba0b88aa67f3d">tesseract::Dict::has_hyphen_end</a></div><div class="ttdeci">bool has_hyphen_end(UNICHAR_ID unichar_id, bool first_pos) const</div><div class="ttdoc">Check whether the word has a hyphen at the end. </div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00143">dict.h:143</a></div></div>
<div class="ttc" id="a04557_html_aa07269a6929862317892af548dc6f78e"><div class="ttname"><a href="a04557.html#aa07269a6929862317892af548dc6f78e">tesseract::Dict::compound_marker</a></div><div class="ttdeci">bool compound_marker(UNICHAR_ID unichar_id)</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00108">dict.h:108</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b620f66e0b51777e6c8064ffcd6c78b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b620f66e0b51777e6c8064ffcd6c78b">&#9670;&nbsp;</a></span>GenerateNgramInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04985.html">LanguageModelNgramInfo</a> * tesseract::LanguageModel::GenerateNgramInfo </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>unichar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>certainty</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>denom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>curr_col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>curr_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>outline_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a04989.html">ViterbiStateEntry</a> *&#160;</td>
          <td class="paramname"><em>parent_vse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l00872">872</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                                         {</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <span class="comment">// Initialize parent context.</span></div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span> *pcontext_ptr = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;  <span class="keywordtype">int</span> pcontext_unichar_step_len = 0;</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;  <span class="keywordflow">if</span> (parent_vse == NULL) {</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    pcontext_ptr = <a class="code" href="a04969.html#a1eeb6e0ec00c1b3bd5824423da13c408">prev_word_str_</a>.<a class="code" href="a02929.html#abf0a7b3c6ae39a46e5441f28f61de5de">string</a>();</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    pcontext_unichar_step_len = <a class="code" href="a04969.html#a52a5540ea4de4f4b830dbcbb220d6bff">prev_word_unichar_step_len_</a>;</div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    pcontext_ptr = parent_vse-&gt;ngram_info-&gt;context.string();</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    pcontext_unichar_step_len =</div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;      parent_vse-&gt;ngram_info-&gt;context_unichar_step_len;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;  }</div><div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;  <span class="comment">// Compute p(unichar | parent context).</span></div><div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;  <span class="keywordtype">int</span> unichar_step_len = 0;</div><div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;  <span class="keywordtype">bool</span> pruned = <span class="keyword">false</span>;</div><div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;  <span class="keywordtype">float</span> ngram_cost;</div><div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;  <span class="keywordtype">float</span> ngram_and_classifier_cost =</div><div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;      <a class="code" href="a04969.html#a4825ba908be2ed7c21f007bc6f21d970">ComputeNgramCost</a>(unichar, certainty, denom,</div><div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                       pcontext_ptr, &amp;unichar_step_len,</div><div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;                       &amp;pruned, &amp;ngram_cost);</div><div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;  <span class="comment">// Normalize just the ngram_and_classifier_cost by outline_length.</span></div><div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;  <span class="comment">// The ngram_cost is used by the params_model, so it needs to be left as-is,</span></div><div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;  <span class="comment">// and the params model cost will be normalized by outline_length.</span></div><div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;  ngram_and_classifier_cost *=</div><div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;      outline_length / <a class="code" href="a04969.html#a45fefb5ef26f893874923bc2f6add44c">language_model_ngram_rating_factor</a>;</div><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  <span class="comment">// Add the ngram_cost of the parent.</span></div><div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;  <span class="keywordflow">if</span> (parent_vse != NULL) {</div><div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    ngram_and_classifier_cost +=</div><div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        parent_vse-&gt;ngram_info-&gt;ngram_and_classifier_cost;</div><div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    ngram_cost += parent_vse-&gt;ngram_info-&gt;ngram_cost;</div><div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;  }</div><div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div><div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <span class="comment">// Shorten parent context string by unichar_step_len unichars.</span></div><div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="keywordtype">int</span> num_remove = (unichar_step_len + pcontext_unichar_step_len -</div><div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                    <a class="code" href="a04969.html#a72ed869c239eb396cea18beed4d1802e">language_model_ngram_order</a>);</div><div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <span class="keywordflow">if</span> (num_remove &gt; 0) pcontext_unichar_step_len -= num_remove;</div><div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <span class="keywordflow">while</span> (num_remove &gt; 0 &amp;&amp; *pcontext_ptr != <span class="charliteral">&#39;\0&#39;</span>) {</div><div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    pcontext_ptr += <a class="code" href="a04013.html#a8182a4663f6c1df9f097700f1009ab22">UNICHAR::utf8_step</a>(pcontext_ptr);</div><div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    --num_remove;</div><div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;  }</div><div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;</div><div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  <span class="comment">// Decide whether to prune this ngram path and update changed accordingly.</span></div><div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;  <span class="keywordflow">if</span> (parent_vse != NULL &amp;&amp; parent_vse-&gt;ngram_info-&gt;pruned) pruned = <span class="keyword">true</span>;</div><div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div><div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="comment">// Construct and return the new LanguageModelNgramInfo.</span></div><div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;  LanguageModelNgramInfo *ngram_info = <span class="keyword">new</span> LanguageModelNgramInfo(</div><div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      pcontext_ptr, pcontext_unichar_step_len, pruned, ngram_cost,</div><div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      ngram_and_classifier_cost);</div><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;  ngram_info-&gt;context += unichar;</div><div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;  ngram_info-&gt;context_unichar_step_len += unichar_step_len;</div><div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;  assert(ngram_info-&gt;context_unichar_step_len &lt;= <a class="code" href="a04969.html#a72ed869c239eb396cea18beed4d1802e">language_model_ngram_order</a>);</div><div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;  <span class="keywordflow">return</span> ngram_info;</div><div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;}</div><div class="ttc" id="a04969_html_a52a5540ea4de4f4b830dbcbb220d6bff"><div class="ttname"><a href="a04969.html#a52a5540ea4de4f4b830dbcbb220d6bff">tesseract::LanguageModel::prev_word_unichar_step_len_</a></div><div class="ttdeci">int prev_word_unichar_step_len_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00393">language_model.h:393</a></div></div>
<div class="ttc" id="a04969_html_a45fefb5ef26f893874923bc2f6add44c"><div class="ttname"><a href="a04969.html#a45fefb5ef26f893874923bc2f6add44c">tesseract::LanguageModel::language_model_ngram_rating_factor</a></div><div class="ttdeci">double language_model_ngram_rating_factor</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00331">language_model.h:331</a></div></div>
<div class="ttc" id="a04969_html_a4825ba908be2ed7c21f007bc6f21d970"><div class="ttname"><a href="a04969.html#a4825ba908be2ed7c21f007bc6f21d970">tesseract::LanguageModel::ComputeNgramCost</a></div><div class="ttdeci">float ComputeNgramCost(const char *unichar, float certainty, float denom, const char *context, int *unichar_step_len, bool *found_small_prob, float *ngram_prob)</div><div class="ttdef"><b>Definition:</b> <a href="a01664_source.html#l00929">language_model.cpp:929</a></div></div>
<div class="ttc" id="a02929_html_abf0a7b3c6ae39a46e5441f28f61de5de"><div class="ttname"><a href="a02929.html#abf0a7b3c6ae39a46e5441f28f61de5de">STRING::string</a></div><div class="ttdeci">const char * string() const</div><div class="ttdef"><b>Definition:</b> <a href="a00590_source.html#l00201">strngs.cpp:201</a></div></div>
<div class="ttc" id="a04969_html_a72ed869c239eb396cea18beed4d1802e"><div class="ttname"><a href="a04969.html#a72ed869c239eb396cea18beed4d1802e">tesseract::LanguageModel::language_model_ngram_order</a></div><div class="ttdeci">int language_model_ngram_order</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00312">language_model.h:312</a></div></div>
<div class="ttc" id="a04969_html_a1eeb6e0ec00c1b3bd5824423da13c408"><div class="ttname"><a href="a04969.html#a1eeb6e0ec00c1b3bd5824423da13c408">tesseract::LanguageModel::prev_word_str_</a></div><div class="ttdeci">STRING prev_word_str_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00392">language_model.h:392</a></div></div>
<div class="ttc" id="a04013_html_a8182a4663f6c1df9f097700f1009ab22"><div class="ttname"><a href="a04013.html#a8182a4663f6c1df9f097700f1009ab22">UNICHAR::utf8_step</a></div><div class="ttdeci">static int utf8_step(const char *utf8_str)</div><div class="ttdef"><b>Definition:</b> <a href="a00611_source.html#l00134">unichar.cpp:134</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad5949b5ac2ca3d8a426655aebd6d690e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5949b5ac2ca3d8a426655aebd6d690e">&#9670;&nbsp;</a></span>GenerateTopChoiceInfo()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::LanguageModel::GenerateTopChoiceInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a04989.html">ViterbiStateEntry</a> *&#160;</td>
          <td class="paramname"><em>new_vse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a04989.html">ViterbiStateEntry</a> *&#160;</td>
          <td class="paramname"><em>parent_vse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04993.html">LanguageModelState</a> *&#160;</td>
          <td class="paramname"><em>lms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l00765">765</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;                                                                   {</div><div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;  ViterbiStateEntry_IT vit(&amp;(lms-&gt;viterbi_state_entries));</div><div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;  <span class="keywordflow">for</span> (vit.mark_cycle_pt(); !vit.cycled_list() &amp;&amp; new_vse-&gt;top_choice_flags &amp;&amp;</div><div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;       new_vse-&gt;cost &gt;= vit.data()-&gt;cost; vit.forward()) {</div><div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="comment">// Clear the appropriate flags if the list already contains</span></div><div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="comment">// a top choice entry with a lower cost.</span></div><div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    new_vse-&gt;top_choice_flags &amp;= ~(vit.data()-&gt;top_choice_flags);</div><div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;  }</div><div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 2) {</div><div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;GenerateTopChoiceInfo: top_choice_flags=0x%x\n&quot;</span>,</div><div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;            new_vse-&gt;top_choice_flags);</div><div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;  }</div><div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;}</div><div class="ttc" id="a04969_html_a370fa3c5a5687622a6cc309d34850aad"><div class="ttname"><a href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">tesseract::LanguageModel::language_model_debug_level</a></div><div class="ttdeci">int language_model_debug_level</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00308">language_model.h:308</a></div></div>
<div class="ttc" id="a00608_html_a02aa7cca2c3857c14716e8cca96ace6c"><div class="ttname"><a href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a></div><div class="ttdeci">#define tprintf(...)</div><div class="ttdef"><b>Definition:</b> <a href="a00608_source.html#l00031">tprintf.h:31</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e61cda787ab1e6bbe0c9058b3115a23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e61cda787ab1e6bbe0c9058b3115a23">&#9670;&nbsp;</a></span>GetNextParentVSE()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04989.html">ViterbiStateEntry</a> * tesseract::LanguageModel::GetNextParentVSE </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>just_classified</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>mixed_alnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a02705.html">BLOB_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>bc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a>&#160;</td>
          <td class="paramname"><em>blob_choice_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="a04041.html">UNICHARSET</a> &amp;&#160;</td>
          <td class="paramname"><em>unicharset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02645.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ViterbiStateEntry_IT *&#160;</td>
          <td class="paramname"><em>vse_it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a> *&#160;</td>
          <td class="paramname"><em>top_choice_flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Finds the next <a class="el" href="a04989.html">ViterbiStateEntry</a> with which the given unichar_id can combine sensibly, taking into account any mixed alnum/mixed case situation, and whether this combination has been inspected before. </p>

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l00496">496</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                                                    {</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;  <span class="keywordflow">for</span> (; !vse_it-&gt;cycled_list(); vse_it-&gt;forward()) {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    ViterbiStateEntry* parent_vse = vse_it-&gt;data();</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    <span class="comment">// Only consider the parent if it has been updated or</span></div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="comment">// if the current ratings cell has just been classified.</span></div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">if</span> (!just_classified &amp;&amp; !parent_vse-&gt;updated) <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 2)</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;      parent_vse-&gt;Print(<span class="stringliteral">&quot;Considering&quot;</span>);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="comment">// If the parent is non-alnum, then upper counts as lower.</span></div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    *top_choice_flags = blob_choice_flags;</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keywordflow">if</span> ((blob_choice_flags &amp; <a class="code" href="a04969.html#ac41f6462a9bf12d7183db9e90a3099a4">kUpperCaseFlag</a>) &amp;&amp;</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;        !parent_vse-&gt;HasAlnumChoice(unicharset)) {</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;      *top_choice_flags |= <a class="code" href="a04969.html#a632d464aad707355a3f8f8964ca8a4a9">kLowerCaseFlag</a>;</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    }</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    *top_choice_flags &amp;= parent_vse-&gt;top_choice_flags;</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="a00614.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id = bc-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>();</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keyword">const</span> <a class="code" href="a02705.html">BLOB_CHOICE</a>* parent_b = parent_vse-&gt;curr_b;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <a class="code" href="a00614.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> parent_id = parent_b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>();</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="comment">// Digits do not bind to alphas if there is a mix in both parent and current</span></div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="comment">// or if the alpha is not the top choice.</span></div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">if</span> (unicharset.<a class="code" href="a04041.html#a98079b3ce062183388c653eee9838e3c">get_isdigit</a>(unichar_id) &amp;&amp;</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        unicharset.<a class="code" href="a04041.html#a620c3ec802c8ddf9401a6940f542618e">get_isalpha</a>(parent_id) &amp;&amp;</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        (mixed_alnum || *top_choice_flags == 0))</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="keywordflow">continue</span>;  <span class="comment">// Digits don&#39;t bind to alphas.</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">// Likewise alphas do not bind to digits if there is a mix in both or if</span></div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="comment">// the digit is not the top choice.</span></div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="keywordflow">if</span> (unicharset.<a class="code" href="a04041.html#a620c3ec802c8ddf9401a6940f542618e">get_isalpha</a>(unichar_id) &amp;&amp;</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        unicharset.<a class="code" href="a04041.html#a98079b3ce062183388c653eee9838e3c">get_isdigit</a>(parent_id) &amp;&amp;</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        (mixed_alnum || *top_choice_flags == 0))</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      <span class="keywordflow">continue</span>;  <span class="comment">// Alphas don&#39;t bind to digits.</span></div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    <span class="comment">// If there is a case mix of the same alpha in the parent list, then</span></div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="comment">// competing_vse is non-null and will be used to determine whether</span></div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="comment">// or not to bind the current blob choice.</span></div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="keywordflow">if</span> (parent_vse-&gt;competing_vse != NULL) {</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;      <span class="keyword">const</span> <a class="code" href="a02705.html">BLOB_CHOICE</a>* competing_b = parent_vse-&gt;competing_vse-&gt;curr_b;</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;      <a class="code" href="a00614.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> other_id = competing_b-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>();</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt;= 5) {</div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Parent %s has competition %s\n&quot;</span>,</div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                unicharset.<a class="code" href="a04041.html#aa19fb595808fe4688c580334937dfa45">id_to_unichar</a>(parent_id),</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                unicharset.<a class="code" href="a04041.html#aa19fb595808fe4688c580334937dfa45">id_to_unichar</a>(other_id));</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;      }</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;      <span class="keywordflow">if</span> (unicharset.<a class="code" href="a04041.html#a37221edd4e7bb6feb43c0fd249f140df">SizesDistinct</a>(parent_id, other_id)) {</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <span class="comment">// If other_id matches bc wrt position and size, and parent_id, doesn&#39;t,</span></div><div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;        <span class="comment">// don&#39;t bind to the current parent.</span></div><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        <span class="keywordflow">if</span> (bc-&gt;<a class="code" href="a02705.html#a86bc72a1cdf65f78694de8bc18e4b565">PosAndSizeAgree</a>(*competing_b, word_res-&gt;<a class="code" href="a02645.html#a42ec9dbb998f7da714ace13ee30cb86e">x_height</a>,</div><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;                                <a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt;= 5) &amp;&amp;</div><div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;            !bc-&gt;<a class="code" href="a02705.html#a86bc72a1cdf65f78694de8bc18e4b565">PosAndSizeAgree</a>(*parent_b, word_res-&gt;<a class="code" href="a02645.html#a42ec9dbb998f7da714ace13ee30cb86e">x_height</a>,</div><div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;                                <a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt;= 5))</div><div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;          <span class="keywordflow">continue</span>;  <span class="comment">// Competing blobchoice has a better vertical match.</span></div><div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;      }</div><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    }</div><div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    vse_it-&gt;forward();</div><div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;    <span class="keywordflow">return</span> parent_vse;  <span class="comment">// This one is good!</span></div><div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;  }</div><div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  <span class="keywordflow">return</span> NULL;  <span class="comment">// Ran out of possibilities.</span></div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;}</div><div class="ttc" id="a04969_html_a370fa3c5a5687622a6cc309d34850aad"><div class="ttname"><a href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">tesseract::LanguageModel::language_model_debug_level</a></div><div class="ttdeci">int language_model_debug_level</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00308">language_model.h:308</a></div></div>
<div class="ttc" id="a04969_html_ac41f6462a9bf12d7183db9e90a3099a4"><div class="ttname"><a href="a04969.html#ac41f6462a9bf12d7183db9e90a3099a4">tesseract::LanguageModel::kUpperCaseFlag</a></div><div class="ttdeci">static const LanguageModelFlagsType kUpperCaseFlag</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00047">language_model.h:47</a></div></div>
<div class="ttc" id="a04041_html_a620c3ec802c8ddf9401a6940f542618e"><div class="ttname"><a href="a04041.html#a620c3ec802c8ddf9401a6940f542618e">UNICHARSET::get_isalpha</a></div><div class="ttdeci">bool get_isalpha(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00449">unicharset.h:449</a></div></div>
<div class="ttc" id="a02645_html_a42ec9dbb998f7da714ace13ee30cb86e"><div class="ttname"><a href="a02645.html#a42ec9dbb998f7da714ace13ee30cb86e">WERD_RES::x_height</a></div><div class="ttdeci">float x_height</div><div class="ttdef"><b>Definition:</b> <a href="a00338_source.html#l00295">pageres.h:295</a></div></div>
<div class="ttc" id="a04969_html_a632d464aad707355a3f8f8964ca8a4a9"><div class="ttname"><a href="a04969.html#a632d464aad707355a3f8f8964ca8a4a9">tesseract::LanguageModel::kLowerCaseFlag</a></div><div class="ttdeci">static const LanguageModelFlagsType kLowerCaseFlag</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00046">language_model.h:46</a></div></div>
<div class="ttc" id="a02705_html_a86bc72a1cdf65f78694de8bc18e4b565"><div class="ttname"><a href="a02705.html#a86bc72a1cdf65f78694de8bc18e4b565">BLOB_CHOICE::PosAndSizeAgree</a></div><div class="ttdeci">bool PosAndSizeAgree(const BLOB_CHOICE &amp;other, float x_height, bool debug) const</div><div class="ttdef"><b>Definition:</b> <a href="a00392_source.html#l00132">ratngs.cpp:132</a></div></div>
<div class="ttc" id="a02705_html_ad448095b666bfb864211714ec2c2375e"><div class="ttname"><a href="a02705.html#ad448095b666bfb864211714ec2c2375e">BLOB_CHOICE::unichar_id</a></div><div class="ttdeci">UNICHAR_ID unichar_id() const</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00076">ratngs.h:76</a></div></div>
<div class="ttc" id="a00608_html_a02aa7cca2c3857c14716e8cca96ace6c"><div class="ttname"><a href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a></div><div class="ttdeci">#define tprintf(...)</div><div class="ttdef"><b>Definition:</b> <a href="a00608_source.html#l00031">tprintf.h:31</a></div></div>
<div class="ttc" id="a02705_html"><div class="ttname"><a href="a02705.html">BLOB_CHOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00048">ratngs.h:48</a></div></div>
<div class="ttc" id="a04041_html_a98079b3ce062183388c653eee9838e3c"><div class="ttname"><a href="a04041.html#a98079b3ce062183388c653eee9838e3c">UNICHARSET::get_isdigit</a></div><div class="ttdeci">bool get_isdigit(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00470">unicharset.h:470</a></div></div>
<div class="ttc" id="a04041_html_aa19fb595808fe4688c580334937dfa45"><div class="ttname"><a href="a04041.html#aa19fb595808fe4688c580334937dfa45">UNICHARSET::id_to_unichar</a></div><div class="ttdeci">const char * id_to_unichar(UNICHAR_ID id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00623_source.html#l00266">unicharset.cpp:266</a></div></div>
<div class="ttc" id="a04041_html_a37221edd4e7bb6feb43c0fd249f140df"><div class="ttname"><a href="a04041.html#a37221edd4e7bb6feb43c0fd249f140df">UNICHARSET::SizesDistinct</a></div><div class="ttdeci">bool SizesDistinct(UNICHAR_ID id1, UNICHAR_ID id2) const</div><div class="ttdef"><b>Definition:</b> <a href="a00623_source.html#l00472">unicharset.cpp:472</a></div></div>
<div class="ttc" id="a00614_html_a8578b19fa1ff5ca75080db1a18ecc32e"><div class="ttname"><a href="a00614.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a></div><div class="ttdeci">int UNICHAR_ID</div><div class="ttdef"><b>Definition:</b> <a href="a00614_source.html#l00033">unichar.h:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0819bd2c8ba503fcc4cd283d17c56274"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0819bd2c8ba503fcc4cd283d17c56274">&#9670;&nbsp;</a></span>getParamsModel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a05005.html">ParamsModel</a>&amp; tesseract::LanguageModel::getParamsModel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00100">100</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="a04969.html#a344405fb6a548551e9e9fd3c6dd38b22">params_model_</a>; }</div><div class="ttc" id="a04969_html_a344405fb6a548551e9e9fd3c6dd38b22"><div class="ttname"><a href="a04969.html#a344405fb6a548551e9e9fd3c6dd38b22">tesseract::LanguageModel::params_model_</a></div><div class="ttdeci">ParamsModel params_model_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00413">language_model.h:413</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d17f819be821b6e6148f9ccc3cc494a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d17f819be821b6e6148f9ccc3cc494a">&#9670;&nbsp;</a></span>GetTopLowerUpperDigit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::LanguageModel::GetTopLowerUpperDigit </td>
          <td>(</td>
          <td class="paramtype">BLOB_CHOICE_LIST *&#160;</td>
          <td class="paramname"><em>curr_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02705.html">BLOB_CHOICE</a> **&#160;</td>
          <td class="paramname"><em>first_lower</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02705.html">BLOB_CHOICE</a> **&#160;</td>
          <td class="paramname"><em>first_upper</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02705.html">BLOB_CHOICE</a> **&#160;</td>
          <td class="paramname"><em>first_digit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Finds the first lower and upper case letter and first digit in curr_list. For non-upper/lower languages, alpha counts as upper. Uses the first character in the list in place of empty results. Returns true if both alpha and digits are found. </p>

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l00379">379</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                                                           {</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;  BLOB_CHOICE_IT c_it(curr_list);</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;  <span class="keyword">const</span> <a class="code" href="a04041.html">UNICHARSET</a> &amp;unicharset = <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>();</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;  <a class="code" href="a02705.html">BLOB_CHOICE</a> *first_unichar = NULL;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;  <span class="keywordflow">for</span> (c_it.mark_cycle_pt(); !c_it.cycled_list(); c_it.forward()) {</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <a class="code" href="a00614.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id = c_it.data()-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>();</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">if</span> (unicharset.<a class="code" href="a04041.html#aa9827f44b6199469f81fd3fba6afd94c">get_fragment</a>(unichar_id)) <span class="keywordflow">continue</span>;  <span class="comment">// skip fragments</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="keywordflow">if</span> (first_unichar == NULL) first_unichar = c_it.data();</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="keywordflow">if</span> (*first_lower == NULL &amp;&amp; unicharset.<a class="code" href="a04041.html#afb472ed816e5f312692fa670f56dceb6">get_islower</a>(unichar_id)) {</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;      *first_lower = c_it.data();</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    }</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="keywordflow">if</span> (*first_upper == NULL &amp;&amp; unicharset.<a class="code" href="a04041.html#a620c3ec802c8ddf9401a6940f542618e">get_isalpha</a>(unichar_id) &amp;&amp;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        !unicharset.<a class="code" href="a04041.html#afb472ed816e5f312692fa670f56dceb6">get_islower</a>(unichar_id)) {</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;      *first_upper = c_it.data();</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    }</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="keywordflow">if</span> (*first_digit == NULL &amp;&amp; unicharset.<a class="code" href="a04041.html#a98079b3ce062183388c653eee9838e3c">get_isdigit</a>(unichar_id)) {</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;      *first_digit = c_it.data();</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    }</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;  }</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  <a class="code" href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(first_unichar != NULL);</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="a00668.html#a2bf647f23b4a059a559e4d991437c9eaab164032fff82a847826b4887d9e7be58">mixed</a> = (*first_lower != NULL || *first_upper != NULL) &amp;&amp;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      *first_digit != NULL;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  <span class="keywordflow">if</span> (*first_lower == NULL) *first_lower = first_unichar;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  <span class="keywordflow">if</span> (*first_upper == NULL) *first_upper = first_unichar;</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  <span class="keywordflow">if</span> (*first_digit == NULL) *first_digit = first_unichar;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="a00668.html#a2bf647f23b4a059a559e4d991437c9eaab164032fff82a847826b4887d9e7be58">mixed</a>;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;}</div><div class="ttc" id="a04041_html_a620c3ec802c8ddf9401a6940f542618e"><div class="ttname"><a href="a04041.html#a620c3ec802c8ddf9401a6940f542618e">UNICHARSET::get_isalpha</a></div><div class="ttdeci">bool get_isalpha(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00449">unicharset.h:449</a></div></div>
<div class="ttc" id="a04557_html_a3ed04d9d9419ce413e9e495b5c5001ad"><div class="ttname"><a href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">tesseract::Dict::getUnicharset</a></div><div class="ttdeci">const UNICHARSET &amp; getUnicharset() const</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00097">dict.h:97</a></div></div>
<div class="ttc" id="a02705_html_ad448095b666bfb864211714ec2c2375e"><div class="ttname"><a href="a02705.html#ad448095b666bfb864211714ec2c2375e">BLOB_CHOICE::unichar_id</a></div><div class="ttdeci">UNICHAR_ID unichar_id() const</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00076">ratngs.h:76</a></div></div>
<div class="ttc" id="a04041_html"><div class="ttname"><a href="a04041.html">UNICHARSET</a></div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00139">unicharset.h:139</a></div></div>
<div class="ttc" id="a00668_html_a2bf647f23b4a059a559e4d991437c9eaab164032fff82a847826b4887d9e7be58"><div class="ttname"><a href="a00668.html#a2bf647f23b4a059a559e4d991437c9eaab164032fff82a847826b4887d9e7be58">mixed</a></div><div class="ttdef"><b>Definition:</b> <a href="a00668_source.html#l00045">cluster.h:45</a></div></div>
<div class="ttc" id="a02705_html"><div class="ttname"><a href="a02705.html">BLOB_CHOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00048">ratngs.h:48</a></div></div>
<div class="ttc" id="a04041_html_a98079b3ce062183388c653eee9838e3c"><div class="ttname"><a href="a04041.html#a98079b3ce062183388c653eee9838e3c">UNICHARSET::get_isdigit</a></div><div class="ttdeci">bool get_isdigit(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00470">unicharset.h:470</a></div></div>
<div class="ttc" id="a04969_html_ab8d88b6237e566212b22b0eb6ba19a3b"><div class="ttname"><a href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">tesseract::LanguageModel::dict_</a></div><div class="ttdeci">Dict * dict_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00375">language_model.h:375</a></div></div>
<div class="ttc" id="a04041_html_afb472ed816e5f312692fa670f56dceb6"><div class="ttname"><a href="a04041.html#afb472ed816e5f312692fa670f56dceb6">UNICHARSET::get_islower</a></div><div class="ttdeci">bool get_islower(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00456">unicharset.h:456</a></div></div>
<div class="ttc" id="a04041_html_aa9827f44b6199469f81fd3fba6afd94c"><div class="ttname"><a href="a04041.html#aa9827f44b6199469f81fd3fba6afd94c">UNICHARSET::get_fragment</a></div><div class="ttdeci">const CHAR_FRAGMENT * get_fragment(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00682">unicharset.h:682</a></div></div>
<div class="ttc" id="a00500_html_a93a603f4063a6b9403d81caa245a583b"><div class="ttname"><a href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a></div><div class="ttdeci">#define ASSERT_HOST(x)</div><div class="ttdef"><b>Definition:</b> <a href="a00500_source.html#l00084">errcode.h:84</a></div></div>
<div class="ttc" id="a00614_html_a8578b19fa1ff5ca75080db1a18ecc32e"><div class="ttname"><a href="a00614.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a></div><div class="ttdeci">int UNICHAR_ID</div><div class="ttdef"><b>Definition:</b> <a href="a00614_source.html#l00033">unichar.h:33</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adc9c521d45e78ae341d993fed3ecef01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc9c521d45e78ae341d993fed3ecef01">&#9670;&nbsp;</a></span>InitForWord()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::LanguageModel::InitForWord </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a02709.html">WERD_CHOICE</a> *&#160;</td>
          <td class="paramname"><em>prev_word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fixed_pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>max_char_wh_ratio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>rating_cert_scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l00132">132</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                                                         {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <a class="code" href="a04969.html#a4d0169b5188cb51117d47f4db3f7c3cf">fixed_pitch_</a> = fixed_pitch;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  <a class="code" href="a04969.html#a7dfeeea5f65081a408757d18115a466c">max_char_wh_ratio_</a> = max_char_wh_ratio;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <a class="code" href="a04969.html#a97f70b05e97cec59b6f24cbd6870d4e7">rating_cert_scale_</a> = rating_cert_scale;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <a class="code" href="a04969.html#aee3c5c64657d9e77db9f2645ca1d29fd">acceptable_choice_found_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  <a class="code" href="a04969.html#a9440f91674a19de8d91894e0c99b1dd6">correct_segmentation_explored_</a> = <span class="keyword">false</span>;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;  <span class="comment">// Initialize vectors with beginning DawgInfos.</span></div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <a class="code" href="a04969.html#ac2cbc53ed90a63bb524540fbdcdf2b32">very_beginning_active_dawgs_</a>.<a class="code" href="a04533.html#a9a3da3d468cd8cc03f2a56ac9fe65ea0">clear</a>();</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#ad8baa71a5c2da99c079bad395f659d34">init_active_dawgs</a>(&amp;<a class="code" href="a04969.html#ac2cbc53ed90a63bb524540fbdcdf2b32">very_beginning_active_dawgs_</a>, <span class="keyword">false</span>);</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <a class="code" href="a04969.html#a0b39f11a66e9dd52208e15c1c62e8272">beginning_active_dawgs_</a>.<a class="code" href="a04533.html#a9a3da3d468cd8cc03f2a56ac9fe65ea0">clear</a>();</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a4208e6f1c72fa00e2895d46905679ff0">default_dawgs</a>(&amp;<a class="code" href="a04969.html#a0b39f11a66e9dd52208e15c1c62e8272">beginning_active_dawgs_</a>, <span class="keyword">false</span>);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="comment">// Fill prev_word_str_ with the last language_model_ngram_order</span></div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;  <span class="comment">// unichars from prev_word.</span></div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a3f2f47a18751c6eae3e6d766b7ec0252">language_model_ngram_on</a>) {</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    <span class="keywordflow">if</span> (prev_word != NULL &amp;&amp; prev_word-&gt;<a class="code" href="a02709.html#adf200132afabc2ee6ec256e516011007">unichar_string</a>() != NULL) {</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;      <a class="code" href="a04969.html#a1eeb6e0ec00c1b3bd5824423da13c408">prev_word_str_</a> = prev_word-&gt;<a class="code" href="a02709.html#adf200132afabc2ee6ec256e516011007">unichar_string</a>();</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="a04969.html#ab9abf146f37c6bf885d2b30831a4836c">language_model_ngram_space_delimited_language</a>) <a class="code" href="a04969.html#a1eeb6e0ec00c1b3bd5824423da13c408">prev_word_str_</a> += <span class="charliteral">&#39; &#39;</span>;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <a class="code" href="a04969.html#a1eeb6e0ec00c1b3bd5824423da13c408">prev_word_str_</a> = <span class="stringliteral">&quot; &quot;</span>;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *str_ptr = <a class="code" href="a04969.html#a1eeb6e0ec00c1b3bd5824423da13c408">prev_word_str_</a>.<a class="code" href="a02929.html#abf0a7b3c6ae39a46e5441f28f61de5de">string</a>();</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *str_end = str_ptr + <a class="code" href="a04969.html#a1eeb6e0ec00c1b3bd5824423da13c408">prev_word_str_</a>.<a class="code" href="a02929.html#a596dad5fcf7b2415719cf78e5d5ed8fa">length</a>();</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordtype">int</span> step;</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <a class="code" href="a04969.html#a52a5540ea4de4f4b830dbcbb220d6bff">prev_word_unichar_step_len_</a> = 0;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">while</span> (str_ptr != str_end &amp;&amp; (step = <a class="code" href="a04013.html#a8182a4663f6c1df9f097700f1009ab22">UNICHAR::utf8_step</a>(str_ptr))) {</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      str_ptr += step;</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      ++<a class="code" href="a04969.html#a52a5540ea4de4f4b830dbcbb220d6bff">prev_word_unichar_step_len_</a>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <a class="code" href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(str_ptr == str_end);</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  }</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;}</div><div class="ttc" id="a04969_html_a0b39f11a66e9dd52208e15c1c62e8272"><div class="ttname"><a href="a04969.html#a0b39f11a66e9dd52208e15c1c62e8272">tesseract::LanguageModel::beginning_active_dawgs_</a></div><div class="ttdeci">DawgPositionVector beginning_active_dawgs_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00396">language_model.h:396</a></div></div>
<div class="ttc" id="a04969_html_a52a5540ea4de4f4b830dbcbb220d6bff"><div class="ttname"><a href="a04969.html#a52a5540ea4de4f4b830dbcbb220d6bff">tesseract::LanguageModel::prev_word_unichar_step_len_</a></div><div class="ttdeci">int prev_word_unichar_step_len_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00393">language_model.h:393</a></div></div>
<div class="ttc" id="a04557_html_a4208e6f1c72fa00e2895d46905679ff0"><div class="ttname"><a href="a04557.html#a4208e6f1c72fa00e2895d46905679ff0">tesseract::Dict::default_dawgs</a></div><div class="ttdeci">void default_dawgs(DawgPositionVector *anylength_dawgs, bool suppress_patterns) const</div><div class="ttdef"><b>Definition:</b> <a href="a01148_source.html#l00565">dict.cpp:565</a></div></div>
<div class="ttc" id="a04533_html_a9a3da3d468cd8cc03f2a56ac9fe65ea0"><div class="ttname"><a href="a04533.html#a9a3da3d468cd8cc03f2a56ac9fe65ea0">tesseract::DawgPositionVector::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> <a href="a01139_source.html#l00380">dawg.h:380</a></div></div>
<div class="ttc" id="a02709_html_adf200132afabc2ee6ec256e516011007"><div class="ttname"><a href="a02709.html#adf200132afabc2ee6ec256e516011007">WERD_CHOICE::unichar_string</a></div><div class="ttdeci">const STRING &amp; unichar_string() const</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00525">ratngs.h:525</a></div></div>
<div class="ttc" id="a02929_html_a596dad5fcf7b2415719cf78e5d5ed8fa"><div class="ttname"><a href="a02929.html#a596dad5fcf7b2415719cf78e5d5ed8fa">STRING::length</a></div><div class="ttdeci">inT32 length() const</div><div class="ttdef"><b>Definition:</b> <a href="a00590_source.html#l00196">strngs.cpp:196</a></div></div>
<div class="ttc" id="a04969_html_aee3c5c64657d9e77db9f2645ca1d29fd"><div class="ttname"><a href="a04969.html#aee3c5c64657d9e77db9f2645ca1d29fd">tesseract::LanguageModel::acceptable_choice_found_</a></div><div class="ttdeci">bool acceptable_choice_found_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00408">language_model.h:408</a></div></div>
<div class="ttc" id="a04969_html_a97f70b05e97cec59b6f24cbd6870d4e7"><div class="ttname"><a href="a04969.html#a97f70b05e97cec59b6f24cbd6870d4e7">tesseract::LanguageModel::rating_cert_scale_</a></div><div class="ttdeci">float rating_cert_scale_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00366">language_model.h:366</a></div></div>
<div class="ttc" id="a04969_html_ab9abf146f37c6bf885d2b30831a4836c"><div class="ttname"><a href="a04969.html#ab9abf146f37c6bf885d2b30831a4836c">tesseract::LanguageModel::language_model_ngram_space_delimited_language</a></div><div class="ttdeci">bool language_model_ngram_space_delimited_language</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00333">language_model.h:333</a></div></div>
<div class="ttc" id="a02929_html_abf0a7b3c6ae39a46e5441f28f61de5de"><div class="ttname"><a href="a02929.html#abf0a7b3c6ae39a46e5441f28f61de5de">STRING::string</a></div><div class="ttdeci">const char * string() const</div><div class="ttdef"><b>Definition:</b> <a href="a00590_source.html#l00201">strngs.cpp:201</a></div></div>
<div class="ttc" id="a04557_html_ad8baa71a5c2da99c079bad395f659d34"><div class="ttname"><a href="a04557.html#ad8baa71a5c2da99c079bad395f659d34">tesseract::Dict::init_active_dawgs</a></div><div class="ttdeci">void init_active_dawgs(DawgPositionVector *active_dawgs, bool ambigs_mode) const</div><div class="ttdef"><b>Definition:</b> <a href="a01148_source.html#l00548">dict.cpp:548</a></div></div>
<div class="ttc" id="a04969_html_a9440f91674a19de8d91894e0c99b1dd6"><div class="ttname"><a href="a04969.html#a9440f91674a19de8d91894e0c99b1dd6">tesseract::LanguageModel::correct_segmentation_explored_</a></div><div class="ttdeci">bool correct_segmentation_explored_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00410">language_model.h:410</a></div></div>
<div class="ttc" id="a04969_html_a1eeb6e0ec00c1b3bd5824423da13c408"><div class="ttname"><a href="a04969.html#a1eeb6e0ec00c1b3bd5824423da13c408">tesseract::LanguageModel::prev_word_str_</a></div><div class="ttdeci">STRING prev_word_str_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00392">language_model.h:392</a></div></div>
<div class="ttc" id="a04969_html_a4d0169b5188cb51117d47f4db3f7c3cf"><div class="ttname"><a href="a04969.html#a4d0169b5188cb51117d47f4db3f7c3cf">tesseract::LanguageModel::fixed_pitch_</a></div><div class="ttdeci">bool fixed_pitch_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00382">language_model.h:382</a></div></div>
<div class="ttc" id="a04969_html_a3f2f47a18751c6eae3e6d766b7ec0252"><div class="ttname"><a href="a04969.html#a3f2f47a18751c6eae3e6d766b7ec0252">tesseract::LanguageModel::language_model_ngram_on</a></div><div class="ttdeci">bool language_model_ngram_on</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00310">language_model.h:310</a></div></div>
<div class="ttc" id="a04969_html_ac2cbc53ed90a63bb524540fbdcdf2b32"><div class="ttname"><a href="a04969.html#ac2cbc53ed90a63bb524540fbdcdf2b32">tesseract::LanguageModel::very_beginning_active_dawgs_</a></div><div class="ttdeci">DawgPositionVector very_beginning_active_dawgs_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00395">language_model.h:395</a></div></div>
<div class="ttc" id="a04969_html_a7dfeeea5f65081a408757d18115a466c"><div class="ttname"><a href="a04969.html#a7dfeeea5f65081a408757d18115a466c">tesseract::LanguageModel::max_char_wh_ratio_</a></div><div class="ttdeci">float max_char_wh_ratio_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00385">language_model.h:385</a></div></div>
<div class="ttc" id="a04969_html_ab8d88b6237e566212b22b0eb6ba19a3b"><div class="ttname"><a href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">tesseract::LanguageModel::dict_</a></div><div class="ttdeci">Dict * dict_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00375">language_model.h:375</a></div></div>
<div class="ttc" id="a04013_html_a8182a4663f6c1df9f097700f1009ab22"><div class="ttname"><a href="a04013.html#a8182a4663f6c1df9f097700f1009ab22">UNICHAR::utf8_step</a></div><div class="ttdeci">static int utf8_step(const char *utf8_str)</div><div class="ttdef"><b>Definition:</b> <a href="a00611_source.html#l00134">unichar.cpp:134</a></div></div>
<div class="ttc" id="a00500_html_a93a603f4063a6b9403d81caa245a583b"><div class="ttname"><a href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a></div><div class="ttdeci">#define ASSERT_HOST(x)</div><div class="ttdef"><b>Definition:</b> <a href="a00500_source.html#l00084">errcode.h:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c9b9c5e553558ed4e566b39cc59f995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c9b9c5e553558ed4e566b39cc59f995">&#9670;&nbsp;</a></span>PrunablePath()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::LanguageModel::PrunablePath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="a04989.html">ViterbiStateEntry</a> &amp;&#160;</td>
          <td class="paramname"><em>vse</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00291">291</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                                                         {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">if</span> (vse.top_choice_flags) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">if</span> (vse.dawg_info != NULL &amp;&amp;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        (vse.dawg_info-&gt;permuter == <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca616bdbcaed7dd414823b303af5c8b1f1">SYSTEM_DAWG_PERM</a> ||</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;         vse.dawg_info-&gt;permuter == <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca5e293e54fa687876197992131e779d54">USER_DAWG_PERM</a> ||</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;         vse.dawg_info-&gt;permuter == <a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca4fd9d3b025ecc5ea8f2248fea29543e4">FREQ_DAWG_PERM</a>)) <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  }</div><div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bca4fd9d3b025ecc5ea8f2248fea29543e4"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca4fd9d3b025ecc5ea8f2248fea29543e4">FREQ_DAWG_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00252">ratngs.h:252</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bca616bdbcaed7dd414823b303af5c8b1f1"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca616bdbcaed7dd414823b303af5c8b1f1">SYSTEM_DAWG_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00249">ratngs.h:249</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bca5e293e54fa687876197992131e779d54"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bca5e293e54fa687876197992131e779d54">USER_DAWG_PERM</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00251">ratngs.h:251</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a04bcb47158cd63fb55bf4f38c74b374e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04bcb47158cd63fb55bf4f38c74b374e">&#9670;&nbsp;</a></span>SetAcceptableChoiceFound()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::LanguageModel::SetAcceptableChoiceFound </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00096">96</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                                                 {</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <a class="code" href="a04969.html#aee3c5c64657d9e77db9f2645ca1d29fd">acceptable_choice_found_</a> = val;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  }</div><div class="ttc" id="a04969_html_aee3c5c64657d9e77db9f2645ca1d29fd"><div class="ttname"><a href="a04969.html#aee3c5c64657d9e77db9f2645ca1d29fd">tesseract::LanguageModel::acceptable_choice_found_</a></div><div class="ttdeci">bool acceptable_choice_found_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00408">language_model.h:408</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab576230253851c8dcd66466f911d1736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab576230253851c8dcd66466f911d1736">&#9670;&nbsp;</a></span>SetTopParentLowerUpperDigit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::LanguageModel::SetTopParentLowerUpperDigit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a04993.html">LanguageModelState</a> *&#160;</td>
          <td class="paramname"><em>parent_node</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Forces there to be at least one entry in the overall set of the viterbi_state_entries of each element of parent_node that has the top_choice_flag set for lower, upper and digit using the same rules as GetTopLowerUpperDigit, setting the flag on the first found suitable candidate, whether or not the flag is set on some other parent. Returns 1 if both alpha and digits are found among the parents, -1 if no parents are found at all (a legitimate case), and 0 otherwise. </p>

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l00419">419</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                                           {</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;  <span class="keywordflow">if</span> (parent_node == NULL) <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <a class="code" href="a00614.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> top_id = INVALID_UNICHAR_ID;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  ViterbiStateEntry* top_lower = NULL;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;  ViterbiStateEntry* top_upper = NULL;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;  ViterbiStateEntry* top_digit = NULL;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;  ViterbiStateEntry* top_choice = NULL;</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <span class="keywordtype">float</span> lower_rating = 0.0f;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordtype">float</span> upper_rating = 0.0f;</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  <span class="keywordtype">float</span> digit_rating = 0.0f;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordtype">float</span> top_rating = 0.0f;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;  <span class="keyword">const</span> <a class="code" href="a04041.html">UNICHARSET</a> &amp;unicharset = <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>();</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;  ViterbiStateEntry_IT vit(&amp;parent_node-&gt;viterbi_state_entries);</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;  <span class="keywordflow">for</span> (vit.mark_cycle_pt(); !vit.cycled_list(); vit.forward()) {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    ViterbiStateEntry* vse = vit.data();</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">// INVALID_UNICHAR_ID should be treated like a zero-width joiner, so scan</span></div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// back to the real character if needed.</span></div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    ViterbiStateEntry* unichar_vse = vse;</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="a00614.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id = unichar_vse-&gt;curr_b-&gt;unichar_id();</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordtype">float</span> rating = unichar_vse-&gt;curr_b-&gt;rating();</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="keywordflow">while</span> (unichar_id == INVALID_UNICHAR_ID &amp;&amp;</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;           unichar_vse-&gt;parent_vse != NULL) {</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;      unichar_vse = unichar_vse-&gt;parent_vse;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;      unichar_id = unichar_vse-&gt;curr_b-&gt;unichar_id();</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;      rating = unichar_vse-&gt;curr_b-&gt;rating();</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">if</span> (unichar_id != INVALID_UNICHAR_ID) {</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;      <span class="keywordflow">if</span> (unicharset.<a class="code" href="a04041.html#afb472ed816e5f312692fa670f56dceb6">get_islower</a>(unichar_id)) {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="keywordflow">if</span> (top_lower == NULL || lower_rating &gt; rating) {</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;          top_lower = vse;</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;          lower_rating = rating;</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (unicharset.<a class="code" href="a04041.html#a620c3ec802c8ddf9401a6940f542618e">get_isalpha</a>(unichar_id)) {</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">if</span> (top_upper == NULL || upper_rating &gt; rating) {</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;          top_upper = vse;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;          upper_rating = rating;</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        }</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;      } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (unicharset.<a class="code" href="a04041.html#a98079b3ce062183388c653eee9838e3c">get_isdigit</a>(unichar_id)) {</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;        <span class="keywordflow">if</span> (top_digit == NULL || digit_rating &gt; rating) {</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;          top_digit = vse;</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;          digit_rating = rating;</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        }</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;      }</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    }</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="keywordflow">if</span> (top_choice == NULL || top_rating &gt; rating) {</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;      top_choice = vse;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;      top_rating = rating;</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;      top_id = unichar_id;</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;  }</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;  <span class="keywordflow">if</span> (top_choice == NULL) <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;  <span class="keywordtype">bool</span> <a class="code" href="a00668.html#a2bf647f23b4a059a559e4d991437c9eaab164032fff82a847826b4887d9e7be58">mixed</a> = (top_lower != NULL || top_upper != NULL) &amp;&amp;</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;      top_digit != NULL;</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <span class="keywordflow">if</span> (top_lower == NULL) top_lower = top_choice;</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  top_lower-&gt;top_choice_flags |= <a class="code" href="a04969.html#a632d464aad707355a3f8f8964ca8a4a9">kLowerCaseFlag</a>;</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">if</span> (top_upper == NULL) top_upper = top_choice;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;  top_upper-&gt;top_choice_flags |= <a class="code" href="a04969.html#ac41f6462a9bf12d7183db9e90a3099a4">kUpperCaseFlag</a>;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  <span class="keywordflow">if</span> (top_digit == NULL) top_digit = top_choice;</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  top_digit-&gt;top_choice_flags |= <a class="code" href="a04969.html#a367422e9d316b7cfe79dab7528874b46">kDigitFlag</a>;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  top_choice-&gt;top_choice_flags |= <a class="code" href="a04969.html#a2ceab7e561b052612fbaefab123cdb37">kSmallestRatingFlag</a>;</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  <span class="keywordflow">if</span> (top_id != INVALID_UNICHAR_ID &amp;&amp; <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#aa07269a6929862317892af548dc6f78e">compound_marker</a>(top_id) &amp;&amp;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;      (top_choice-&gt;top_choice_flags &amp;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;          (<a class="code" href="a04969.html#a632d464aad707355a3f8f8964ca8a4a9">kLowerCaseFlag</a> | <a class="code" href="a04969.html#ac41f6462a9bf12d7183db9e90a3099a4">kUpperCaseFlag</a> | <a class="code" href="a04969.html#a367422e9d316b7cfe79dab7528874b46">kDigitFlag</a>))) {</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="comment">// If the compound marker top choice carries any of the top alnum flags,</span></div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="comment">// then give it all of them, allowing words like I-295 to be chosen.</span></div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    top_choice-&gt;top_choice_flags |=</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <a class="code" href="a04969.html#a632d464aad707355a3f8f8964ca8a4a9">kLowerCaseFlag</a> | <a class="code" href="a04969.html#ac41f6462a9bf12d7183db9e90a3099a4">kUpperCaseFlag</a> | <a class="code" href="a04969.html#a367422e9d316b7cfe79dab7528874b46">kDigitFlag</a>;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;  }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="a00668.html#a2bf647f23b4a059a559e4d991437c9eaab164032fff82a847826b4887d9e7be58">mixed</a> ? 1 : 0;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;}</div><div class="ttc" id="a04969_html_ac41f6462a9bf12d7183db9e90a3099a4"><div class="ttname"><a href="a04969.html#ac41f6462a9bf12d7183db9e90a3099a4">tesseract::LanguageModel::kUpperCaseFlag</a></div><div class="ttdeci">static const LanguageModelFlagsType kUpperCaseFlag</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00047">language_model.h:47</a></div></div>
<div class="ttc" id="a04041_html_a620c3ec802c8ddf9401a6940f542618e"><div class="ttname"><a href="a04041.html#a620c3ec802c8ddf9401a6940f542618e">UNICHARSET::get_isalpha</a></div><div class="ttdeci">bool get_isalpha(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00449">unicharset.h:449</a></div></div>
<div class="ttc" id="a04969_html_a2ceab7e561b052612fbaefab123cdb37"><div class="ttname"><a href="a04969.html#a2ceab7e561b052612fbaefab123cdb37">tesseract::LanguageModel::kSmallestRatingFlag</a></div><div class="ttdeci">static const LanguageModelFlagsType kSmallestRatingFlag</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00045">language_model.h:45</a></div></div>
<div class="ttc" id="a04969_html_a367422e9d316b7cfe79dab7528874b46"><div class="ttname"><a href="a04969.html#a367422e9d316b7cfe79dab7528874b46">tesseract::LanguageModel::kDigitFlag</a></div><div class="ttdeci">static const LanguageModelFlagsType kDigitFlag</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00048">language_model.h:48</a></div></div>
<div class="ttc" id="a04557_html_a3ed04d9d9419ce413e9e495b5c5001ad"><div class="ttname"><a href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">tesseract::Dict::getUnicharset</a></div><div class="ttdeci">const UNICHARSET &amp; getUnicharset() const</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00097">dict.h:97</a></div></div>
<div class="ttc" id="a04969_html_a632d464aad707355a3f8f8964ca8a4a9"><div class="ttname"><a href="a04969.html#a632d464aad707355a3f8f8964ca8a4a9">tesseract::LanguageModel::kLowerCaseFlag</a></div><div class="ttdeci">static const LanguageModelFlagsType kLowerCaseFlag</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00046">language_model.h:46</a></div></div>
<div class="ttc" id="a04041_html"><div class="ttname"><a href="a04041.html">UNICHARSET</a></div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00139">unicharset.h:139</a></div></div>
<div class="ttc" id="a00668_html_a2bf647f23b4a059a559e4d991437c9eaab164032fff82a847826b4887d9e7be58"><div class="ttname"><a href="a00668.html#a2bf647f23b4a059a559e4d991437c9eaab164032fff82a847826b4887d9e7be58">mixed</a></div><div class="ttdef"><b>Definition:</b> <a href="a00668_source.html#l00045">cluster.h:45</a></div></div>
<div class="ttc" id="a04041_html_a98079b3ce062183388c653eee9838e3c"><div class="ttname"><a href="a04041.html#a98079b3ce062183388c653eee9838e3c">UNICHARSET::get_isdigit</a></div><div class="ttdeci">bool get_isdigit(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00470">unicharset.h:470</a></div></div>
<div class="ttc" id="a04969_html_ab8d88b6237e566212b22b0eb6ba19a3b"><div class="ttname"><a href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">tesseract::LanguageModel::dict_</a></div><div class="ttdeci">Dict * dict_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00375">language_model.h:375</a></div></div>
<div class="ttc" id="a04041_html_afb472ed816e5f312692fa670f56dceb6"><div class="ttname"><a href="a04041.html#afb472ed816e5f312692fa670f56dceb6">UNICHARSET::get_islower</a></div><div class="ttdeci">bool get_islower(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00456">unicharset.h:456</a></div></div>
<div class="ttc" id="a00614_html_a8578b19fa1ff5ca75080db1a18ecc32e"><div class="ttname"><a href="a00614.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a></div><div class="ttdeci">int UNICHAR_ID</div><div class="ttdef"><b>Definition:</b> <a href="a00614_source.html#l00033">unichar.h:33</a></div></div>
<div class="ttc" id="a04557_html_aa07269a6929862317892af548dc6f78e"><div class="ttname"><a href="a04557.html#aa07269a6929862317892af548dc6f78e">tesseract::Dict::compound_marker</a></div><div class="ttdeci">bool compound_marker(UNICHAR_ID unichar_id)</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00108">dict.h:108</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4c661983e15f176f8bf1cd0241b15dd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c661983e15f176f8bf1cd0241b15dd2">&#9670;&nbsp;</a></span>UpdateBestChoice()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void tesseract::LanguageModel::UpdateBestChoice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a04989.html">ViterbiStateEntry</a> *&#160;</td>
          <td class="paramname"><em>vse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04977.html">LMPainPoints</a> *&#160;</td>
          <td class="paramname"><em>pain_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02645.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04997.html">BestChoiceBundle</a> *&#160;</td>
          <td class="paramname"><em>best_choice_bundle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02477.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l01234">1234</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                                 {</div><div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;  <span class="keywordtype">bool</span> truth_path;</div><div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;  <a class="code" href="a02709.html">WERD_CHOICE</a> *word = <a class="code" href="a04969.html#a8ed78a433afee7c4fe80f74865b44c02">ConstructWord</a>(vse, word_res, &amp;best_choice_bundle-&gt;fixpt,</div><div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;                                    blamer_bundle, &amp;truth_path);</div><div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <a class="code" href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a>(word != NULL);</div><div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 1) {</div><div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <a class="code" href="a02929.html">STRING</a> word_str;</div><div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    word-&gt;<a class="code" href="a02709.html#a66d0a711bb119acf12fd66d6ef4efb39">string_and_lengths</a>(&amp;word_str, NULL);</div><div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    vse-&gt;Print(word_str.<a class="code" href="a02929.html#abf0a7b3c6ae39a46e5441f28f61de5de">string</a>());</div><div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  }</div><div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 0) {</div><div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    word-&gt;<a class="code" href="a02709.html#af1ae6bf0c69cf408c3efa6fb78bcabc7">print</a>(<span class="stringliteral">&quot;UpdateBestChoice() constructed word&quot;</span>);</div><div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  }</div><div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <span class="comment">// Record features from the current path if necessary.</span></div><div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  ParamsTrainingHypothesis curr_hyp;</div><div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="keywordflow">if</span> (blamer_bundle != NULL) {</div><div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordflow">if</span> (vse-&gt;dawg_info != NULL) vse-&gt;dawg_info-&gt;permuter =</div><div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        <span class="keyword">static_cast&lt;</span><a class="code" href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bc">PermuterType</a><span class="keyword">&gt;</span>(word-&gt;<a class="code" href="a02709.html#ad4760a79ab84ef30969afc55528ff6af">permuter</a>());</div><div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;    <a class="code" href="a04969.html#a31d3bfc26e4365b9059fa6d7fd8188ad">ExtractFeaturesFromPath</a>(*vse, curr_hyp.features);</div><div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    word-&gt;<a class="code" href="a02709.html#a66d0a711bb119acf12fd66d6ef4efb39">string_and_lengths</a>(&amp;(curr_hyp.str), NULL);</div><div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;    curr_hyp.cost = vse-&gt;cost;  <span class="comment">// record cost for error rate computations</span></div><div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 0) {</div><div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Raw features extracted from %s (cost=%g) [ &quot;</span>,</div><div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;              curr_hyp.str.string(), curr_hyp.cost);</div><div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> deb_i = 0; deb_i &lt; <a class="code" href="a01738.html#a996f57000ba7e945e304ca3a5268b467a1f9a0441244ce25f22a62f3b17cf9d2e">PTRAIN_NUM_FEATURE_TYPES</a>; ++deb_i) {</div><div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;%g &quot;</span>, curr_hyp.features[deb_i]);</div><div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;      }</div><div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;]\n&quot;</span>);</div><div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;    }</div><div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;    <span class="comment">// Record the current hypothesis in params_training_bundle.</span></div><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;    blamer_bundle-&gt;<a class="code" href="a02477.html#aa94b12245d9275e862aba68ea58b80c9">AddHypothesis</a>(curr_hyp);</div><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="keywordflow">if</span> (truth_path)</div><div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;      blamer_bundle-&gt;<a class="code" href="a02477.html#a796ee7de0325bf97df820fa237c75092">UpdateBestRating</a>(word-&gt;<a class="code" href="a02709.html#afa672748d2585eea64ab79592dd02eb3">rating</a>());</div><div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;  }</div><div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;  <span class="keywordflow">if</span> (blamer_bundle != NULL &amp;&amp; blamer_bundle-&gt;<a class="code" href="a02477.html#a808b41d0fab815d44192ec80ce466cac">GuidedSegsearchStillGoing</a>()) {</div><div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <span class="comment">// The word was constructed solely for blamer_bundle-&gt;AddHypothesis, so</span></div><div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <span class="comment">// we no longer need it.</span></div><div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keyword">delete</span> word;</div><div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;  }</div><div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;  <span class="keywordflow">if</span> (word_res-&gt;<a class="code" href="a02645.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a> != NULL &amp;&amp; !word_res-&gt;<a class="code" href="a02645.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>-&gt;<a class="code" href="a02509.html#a52fba22521039a79d8c1c8182f602dcc">blobs</a>.<a class="code" href="a02297.html#a172c4aa23ba397e24319ae095281cbcc">empty</a>())</div><div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    word-&gt;<a class="code" href="a02709.html#ac964040f8c6104bece8231caa585d6ea">SetScriptPositions</a>(<span class="keyword">false</span>, word_res-&gt;<a class="code" href="a02645.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>);</div><div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;  <span class="comment">// Update and log new raw_choice if needed.</span></div><div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <span class="keywordflow">if</span> (word_res-&gt;<a class="code" href="a02645.html#ab4d02a7548dab0a4522f02ed90e48100">raw_choice</a> == NULL ||</div><div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      word-&gt;<a class="code" href="a02709.html#afa672748d2585eea64ab79592dd02eb3">rating</a>() &lt; word_res-&gt;<a class="code" href="a02645.html#ab4d02a7548dab0a4522f02ed90e48100">raw_choice</a>-&gt;<a class="code" href="a02709.html#afa672748d2585eea64ab79592dd02eb3">rating</a>()) {</div><div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <span class="keywordflow">if</span> (word_res-&gt;<a class="code" href="a02645.html#a30c86ecdeb8824b7ebfdbe57db2e6b81">LogNewRawChoice</a>(word) &amp;&amp; <a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 0)</div><div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Updated raw choice\n&quot;</span>);</div><div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;  }</div><div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  <span class="comment">// Set the modified rating for best choice to vse-&gt;cost and log best choice.</span></div><div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;  word-&gt;<a class="code" href="a02709.html#a8536420fe62adffbfda94a08796db533">set_rating</a>(vse-&gt;cost);</div><div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;  <span class="comment">// Call LogNewChoice() for best choice from Dict::adjust_word() since it</span></div><div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;  <span class="comment">// computes adjust_factor that is used by the adaption code (e.g. by</span></div><div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="comment">// ClassifyAdaptableWord() to compute adaption acceptance thresholds).</span></div><div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="comment">// Note: the rating of the word is not adjusted.</span></div><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;  <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#ad8adc6ecf8f4500f8ee7d5c0eddf9bc4">adjust_word</a>(word, vse-&gt;dawg_info == NULL,</div><div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;                     vse-&gt;consistency_info.xht_decision, 0.0,</div><div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;                     <span class="keyword">false</span>, <a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 0);</div><div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  <span class="comment">// Hand ownership of the word over to the word_res.</span></div><div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="keywordflow">if</span> (!word_res-&gt;<a class="code" href="a02645.html#af365b5a873da178f9ef0bb3c14e6953f">LogNewCookedChoice</a>(<a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a5b1b181a4638784a6225a508b810dbc9">tessedit_truncate_wordchoice_log</a>,</div><div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                                    <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a> &gt;= 1, word)) {</div><div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    <span class="comment">// The word was so bad that it was deleted.</span></div><div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  }</div><div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  <span class="keywordflow">if</span> (word_res-&gt;<a class="code" href="a02645.html#a3d42ac7ec121263e757c9b7160dfd50d">best_choice</a> == word) {</div><div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="comment">// Word was the new best.</span></div><div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a9f404fab6466c9eb63aed41066edf422">AcceptableChoice</a>(*word, vse-&gt;consistency_info.xht_decision) &amp;&amp;</div><div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;        <a class="code" href="a04969.html#a4b5ee45528f0c3b57efbe2ad661681c2">AcceptablePath</a>(*vse)) {</div><div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;      <a class="code" href="a04969.html#aee3c5c64657d9e77db9f2645ca1d29fd">acceptable_choice_found_</a> = <span class="keyword">true</span>;</div><div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    }</div><div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;    <span class="comment">// Update best_choice_bundle.</span></div><div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;    best_choice_bundle-&gt;updated = <span class="keyword">true</span>;</div><div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;    best_choice_bundle-&gt;best_vse = vse;</div><div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 0) {</div><div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;Updated best choice\n&quot;</span>);</div><div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;      word-&gt;<a class="code" href="a02709.html#a7341b5a714d2da0a8b14f75ac9490218">print_state</a>(<span class="stringliteral">&quot;New state &quot;</span>);</div><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    }</div><div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="comment">// Update hyphen state if we are dealing with a dictionary word.</span></div><div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="keywordflow">if</span> (vse-&gt;dawg_info != NULL) {</div><div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#ac97741742b502739958ba0b88aa67f3d">has_hyphen_end</a>(*word)) {</div><div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#ae65f8eafd4265c19d898ad796b62e78d">set_hyphen_word</a>(*word, *(<a class="code" href="a04969.html#aedf6503eefab0943dd5e10945621535f">dawg_args_</a>.<a class="code" href="a04553.html#abe4f6043296478c11a7e9b6f070dd822">active_dawgs</a>));</div><div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;      } <span class="keywordflow">else</span> {</div><div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;        <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a6b7508e4459f295073316fff69a05ee9">reset_hyphen_vars</a>(<span class="keyword">true</span>);</div><div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;      }</div><div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    }</div><div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;</div><div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keywordflow">if</span> (blamer_bundle != NULL) {</div><div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;      blamer_bundle-&gt;<a class="code" href="a02477.html#adbaa479d4241ac74220d0719191519b8">set_best_choice_is_dict_and_top_choice</a>(</div><div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;          vse-&gt;dawg_info != NULL &amp;&amp; vse-&gt;top_choice_flags);</div><div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;    }</div><div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;  }</div><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a2a3fdef39a20b06519da43d74d2cff3e">wordrec_display_segmentations</a> &amp;&amp; word_res-&gt;<a class="code" href="a02645.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a> != NULL) {</div><div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    word-&gt;<a class="code" href="a02709.html#a9274fda9dd715b290b02148ae943583a">DisplaySegmentation</a>(word_res-&gt;<a class="code" href="a02645.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">chopped_word</a>);</div><div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  }</div><div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;}</div><div class="ttc" id="a04969_html_a4b5ee45528f0c3b57efbe2ad661681c2"><div class="ttname"><a href="a04969.html#a4b5ee45528f0c3b57efbe2ad661681c2">tesseract::LanguageModel::AcceptablePath</a></div><div class="ttdeci">bool AcceptablePath(const ViterbiStateEntry &amp;vse)</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00301">language_model.h:301</a></div></div>
<div class="ttc" id="a04969_html_a370fa3c5a5687622a6cc309d34850aad"><div class="ttname"><a href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">tesseract::LanguageModel::language_model_debug_level</a></div><div class="ttdeci">int language_model_debug_level</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00308">language_model.h:308</a></div></div>
<div class="ttc" id="a02709_html_a66d0a711bb119acf12fd66d6ef4efb39"><div class="ttname"><a href="a02709.html#a66d0a711bb119acf12fd66d6ef4efb39">WERD_CHOICE::string_and_lengths</a></div><div class="ttdeci">void string_and_lengths(STRING *word_str, STRING *word_lengths_str) const</div><div class="ttdef"><b>Definition:</b> <a href="a00392_source.html#l00427">ratngs.cpp:427</a></div></div>
<div class="ttc" id="a04969_html_a2a3fdef39a20b06519da43d74d2cff3e"><div class="ttname"><a href="a04969.html#a2a3fdef39a20b06519da43d74d2cff3e">tesseract::LanguageModel::wordrec_display_segmentations</a></div><div class="ttdeci">int wordrec_display_segmentations</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00354">language_model.h:354</a></div></div>
<div class="ttc" id="a01738_html_a996f57000ba7e945e304ca3a5268b467a1f9a0441244ce25f22a62f3b17cf9d2e"><div class="ttname"><a href="a01738.html#a996f57000ba7e945e304ca3a5268b467a1f9a0441244ce25f22a62f3b17cf9d2e">tesseract::PTRAIN_NUM_FEATURE_TYPES</a></div><div class="ttdef"><b>Definition:</b> <a href="a00344_source.html#l00070">params_training_featdef.h:70</a></div></div>
<div class="ttc" id="a02509_html_a52fba22521039a79d8c1c8182f602dcc"><div class="ttname"><a href="a02509.html#a52fba22521039a79d8c1c8182f602dcc">TWERD::blobs</a></div><div class="ttdeci">GenericVector&lt; TBLOB * &gt; blobs</div><div class="ttdef"><b>Definition:</b> <a href="a00215_source.html#l00436">blobs.h:436</a></div></div>
<div class="ttc" id="a02709_html_a8536420fe62adffbfda94a08796db533"><div class="ttname"><a href="a02709.html#a8536420fe62adffbfda94a08796db533">WERD_CHOICE::set_rating</a></div><div class="ttdeci">void set_rating(float new_val)</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00367">ratngs.h:367</a></div></div>
<div class="ttc" id="a02645_html_ab4d02a7548dab0a4522f02ed90e48100"><div class="ttname"><a href="a02645.html#ab4d02a7548dab0a4522f02ed90e48100">WERD_RES::raw_choice</a></div><div class="ttdeci">WERD_CHOICE * raw_choice</div><div class="ttdef"><b>Definition:</b> <a href="a00338_source.html#l00224">pageres.h:224</a></div></div>
<div class="ttc" id="a02709_html_af1ae6bf0c69cf408c3efa6fb78bcabc7"><div class="ttname"><a href="a02709.html#af1ae6bf0c69cf408c3efa6fb78bcabc7">WERD_CHOICE::print</a></div><div class="ttdeci">void print() const</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00564">ratngs.h:564</a></div></div>
<div class="ttc" id="a00395_html_a18e2c75cefe9e5b78e8ce41aa5fa25bc"><div class="ttname"><a href="a00395.html#a18e2c75cefe9e5b78e8ce41aa5fa25bc">PermuterType</a></div><div class="ttdeci">PermuterType</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00240">ratngs.h:240</a></div></div>
<div class="ttc" id="a04969_html_aee3c5c64657d9e77db9f2645ca1d29fd"><div class="ttname"><a href="a04969.html#aee3c5c64657d9e77db9f2645ca1d29fd">tesseract::LanguageModel::acceptable_choice_found_</a></div><div class="ttdeci">bool acceptable_choice_found_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00408">language_model.h:408</a></div></div>
<div class="ttc" id="a04557_html_aae528f9618755dee3ab974f06f1794ea"><div class="ttname"><a href="a04557.html#aae528f9618755dee3ab974f06f1794ea">tesseract::Dict::stopper_debug_level</a></div><div class="ttdeci">int stopper_debug_level</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00620">dict.h:620</a></div></div>
<div class="ttc" id="a02477_html_a796ee7de0325bf97df820fa237c75092"><div class="ttname"><a href="a02477.html#a796ee7de0325bf97df820fa237c75092">BlamerBundle::UpdateBestRating</a></div><div class="ttdeci">void UpdateBestRating(float rating)</div><div class="ttdef"><b>Definition:</b> <a href="a00200_source.html#l00122">blamer.h:122</a></div></div>
<div class="ttc" id="a02709_html_ad4760a79ab84ef30969afc55528ff6af"><div class="ttname"><a href="a02709.html#ad4760a79ab84ef30969afc55528ff6af">WERD_CHOICE::permuter</a></div><div class="ttdeci">uinT8 permuter() const</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00344">ratngs.h:344</a></div></div>
<div class="ttc" id="a02477_html_a808b41d0fab815d44192ec80ce466cac"><div class="ttname"><a href="a02477.html#a808b41d0fab815d44192ec80ce466cac">BlamerBundle::GuidedSegsearchStillGoing</a></div><div class="ttdeci">bool GuidedSegsearchStillGoing() const</div><div class="ttdef"><b>Definition:</b> <a href="a00197_source.html#l00501">blamer.cpp:501</a></div></div>
<div class="ttc" id="a02645_html_a3d42ac7ec121263e757c9b7160dfd50d"><div class="ttname"><a href="a02645.html#a3d42ac7ec121263e757c9b7160dfd50d">WERD_RES::best_choice</a></div><div class="ttdeci">WERD_CHOICE * best_choice</div><div class="ttdef"><b>Definition:</b> <a href="a00338_source.html#l00219">pageres.h:219</a></div></div>
<div class="ttc" id="a04969_html_aedf6503eefab0943dd5e10945621535f"><div class="ttname"><a href="a04969.html#aedf6503eefab0943dd5e10945621535f">tesseract::LanguageModel::dawg_args_</a></div><div class="ttdeci">DawgArgs dawg_args_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00356">language_model.h:356</a></div></div>
<div class="ttc" id="a02645_html_af365b5a873da178f9ef0bb3c14e6953f"><div class="ttname"><a href="a02645.html#af365b5a873da178f9ef0bb3c14e6953f">WERD_RES::LogNewCookedChoice</a></div><div class="ttdeci">bool LogNewCookedChoice(int max_num_choices, bool debug, WERD_CHOICE *word_choice)</div><div class="ttdef"><b>Definition:</b> <a href="a00335_source.html#l00612">pageres.cpp:612</a></div></div>
<div class="ttc" id="a02709_html_a7341b5a714d2da0a8b14f75ac9490218"><div class="ttname"><a href="a02709.html#a7341b5a714d2da0a8b14f75ac9490218">WERD_CHOICE::print_state</a></div><div class="ttdeci">void print_state(const char *msg) const</div><div class="ttdef"><b>Definition:</b> <a href="a00392_source.html#l00738">ratngs.cpp:738</a></div></div>
<div class="ttc" id="a04557_html_a6b7508e4459f295073316fff69a05ee9"><div class="ttname"><a href="a04557.html#a6b7508e4459f295073316fff69a05ee9">tesseract::Dict::reset_hyphen_vars</a></div><div class="ttdeci">void reset_hyphen_vars(bool last_word_on_line)</div><div class="ttdef"><b>Definition:</b> <a href="a01154_source.html#l00032">hyphen.cpp:32</a></div></div>
<div class="ttc" id="a04969_html_a8ed78a433afee7c4fe80f74865b44c02"><div class="ttname"><a href="a04969.html#a8ed78a433afee7c4fe80f74865b44c02">tesseract::LanguageModel::ConstructWord</a></div><div class="ttdeci">WERD_CHOICE * ConstructWord(ViterbiStateEntry *vse, WERD_RES *word_res, DANGERR *fixpt, BlamerBundle *blamer_bundle, bool *truth_path)</div><div class="ttdef"><b>Definition:</b> <a href="a01664_source.html#l01383">language_model.cpp:1383</a></div></div>
<div class="ttc" id="a02929_html_abf0a7b3c6ae39a46e5441f28f61de5de"><div class="ttname"><a href="a02929.html#abf0a7b3c6ae39a46e5441f28f61de5de">STRING::string</a></div><div class="ttdeci">const char * string() const</div><div class="ttdef"><b>Definition:</b> <a href="a00590_source.html#l00201">strngs.cpp:201</a></div></div>
<div class="ttc" id="a02709_html_a9274fda9dd715b290b02148ae943583a"><div class="ttname"><a href="a02709.html#a9274fda9dd715b290b02148ae943583a">WERD_CHOICE::DisplaySegmentation</a></div><div class="ttdeci">void DisplaySegmentation(TWERD *word)</div><div class="ttdef"><b>Definition:</b> <a href="a00392_source.html#l00747">ratngs.cpp:747</a></div></div>
<div class="ttc" id="a04969_html_a31d3bfc26e4365b9059fa6d7fd8188ad"><div class="ttname"><a href="a04969.html#a31d3bfc26e4365b9059fa6d7fd8188ad">tesseract::LanguageModel::ExtractFeaturesFromPath</a></div><div class="ttdeci">static void ExtractFeaturesFromPath(const ViterbiStateEntry &amp;vse, float features[])</div><div class="ttdef"><b>Definition:</b> <a href="a01664_source.html#l01334">language_model.cpp:1334</a></div></div>
<div class="ttc" id="a04557_html_ae65f8eafd4265c19d898ad796b62e78d"><div class="ttname"><a href="a04557.html#ae65f8eafd4265c19d898ad796b62e78d">tesseract::Dict::set_hyphen_word</a></div><div class="ttdeci">void set_hyphen_word(const WERD_CHOICE &amp;word, const DawgPositionVector &amp;active_dawgs)</div><div class="ttdef"><b>Definition:</b> <a href="a01154_source.html#l00049">hyphen.cpp:49</a></div></div>
<div class="ttc" id="a04557_html_a5b1b181a4638784a6225a508b810dbc9"><div class="ttname"><a href="a04557.html#a5b1b181a4638784a6225a508b810dbc9">tesseract::Dict::tessedit_truncate_wordchoice_log</a></div><div class="ttdeci">int tessedit_truncate_wordchoice_log</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00626">dict.h:626</a></div></div>
<div class="ttc" id="a02645_html_ad1d449f93bb0150bc7ef0d9b59ed27ba"><div class="ttname"><a href="a02645.html#ad1d449f93bb0150bc7ef0d9b59ed27ba">WERD_RES::chopped_word</a></div><div class="ttdeci">TWERD * chopped_word</div><div class="ttdef"><b>Definition:</b> <a href="a00338_source.html#l00201">pageres.h:201</a></div></div>
<div class="ttc" id="a02709_html"><div class="ttname"><a href="a02709.html">WERD_CHOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00271">ratngs.h:271</a></div></div>
<div class="ttc" id="a04557_html_a9f404fab6466c9eb63aed41066edf422"><div class="ttname"><a href="a04557.html#a9f404fab6466c9eb63aed41066edf422">tesseract::Dict::AcceptableChoice</a></div><div class="ttdeci">bool AcceptableChoice(const WERD_CHOICE &amp;best_choice, XHeightConsistencyEnum xheight_consistency)</div><div class="ttdoc">Returns true if the given best_choice is good enough to stop. </div><div class="ttdef"><b>Definition:</b> <a href="a01163_source.html#l00050">stopper.cpp:50</a></div></div>
<div class="ttc" id="a04557_html_ad8adc6ecf8f4500f8ee7d5c0eddf9bc4"><div class="ttname"><a href="a04557.html#ad8adc6ecf8f4500f8ee7d5c0eddf9bc4">tesseract::Dict::adjust_word</a></div><div class="ttdeci">void adjust_word(WERD_CHOICE *word, bool nonword, XHeightConsistencyEnum xheight_consistency, float additional_adjust, bool modify_rating, bool debug)</div><div class="ttdoc">Adjusts the rating of the given word. </div><div class="ttdef"><b>Definition:</b> <a href="a01148_source.html#l00650">dict.cpp:650</a></div></div>
<div class="ttc" id="a02477_html_adbaa479d4241ac74220d0719191519b8"><div class="ttname"><a href="a02477.html#adbaa479d4241ac74220d0719191519b8">BlamerBundle::set_best_choice_is_dict_and_top_choice</a></div><div class="ttdeci">void set_best_choice_is_dict_and_top_choice(bool value)</div><div class="ttdef"><b>Definition:</b> <a href="a00200_source.html#l00135">blamer.h:135</a></div></div>
<div class="ttc" id="a02645_html_a30c86ecdeb8824b7ebfdbe57db2e6b81"><div class="ttname"><a href="a02645.html#a30c86ecdeb8824b7ebfdbe57db2e6b81">WERD_RES::LogNewRawChoice</a></div><div class="ttdeci">bool LogNewRawChoice(WERD_CHOICE *word_choice)</div><div class="ttdef"><b>Definition:</b> <a href="a00335_source.html#l00596">pageres.cpp:596</a></div></div>
<div class="ttc" id="a02709_html_afa672748d2585eea64ab79592dd02eb3"><div class="ttname"><a href="a02709.html#afa672748d2585eea64ab79592dd02eb3">WERD_CHOICE::rating</a></div><div class="ttdeci">float rating() const</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00325">ratngs.h:325</a></div></div>
<div class="ttc" id="a00608_html_a02aa7cca2c3857c14716e8cca96ace6c"><div class="ttname"><a href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a></div><div class="ttdeci">#define tprintf(...)</div><div class="ttdef"><b>Definition:</b> <a href="a00608_source.html#l00031">tprintf.h:31</a></div></div>
<div class="ttc" id="a02929_html"><div class="ttname"><a href="a02929.html">STRING</a></div><div class="ttdef"><b>Definition:</b> <a href="a00593_source.html#l00044">strngs.h:44</a></div></div>
<div class="ttc" id="a02709_html_ac964040f8c6104bece8231caa585d6ea"><div class="ttname"><a href="a02709.html#ac964040f8c6104bece8231caa585d6ea">WERD_CHOICE::SetScriptPositions</a></div><div class="ttdeci">void SetScriptPositions(bool small_caps, TWERD *word)</div><div class="ttdef"><b>Definition:</b> <a href="a00392_source.html#l00528">ratngs.cpp:528</a></div></div>
<div class="ttc" id="a04553_html_abe4f6043296478c11a7e9b6f070dd822"><div class="ttname"><a href="a04553.html#abe4f6043296478c11a7e9b6f070dd822">tesseract::DawgArgs::active_dawgs</a></div><div class="ttdeci">DawgPositionVector * active_dawgs</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00080">dict.h:80</a></div></div>
<div class="ttc" id="a02477_html_aa94b12245d9275e862aba68ea58b80c9"><div class="ttname"><a href="a02477.html#aa94b12245d9275e862aba68ea58b80c9">BlamerBundle::AddHypothesis</a></div><div class="ttdeci">void AddHypothesis(const tesseract::ParamsTrainingHypothesis &amp;hypo)</div><div class="ttdef"><b>Definition:</b> <a href="a00200_source.html#l00154">blamer.h:154</a></div></div>
<div class="ttc" id="a04969_html_ab8d88b6237e566212b22b0eb6ba19a3b"><div class="ttname"><a href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">tesseract::LanguageModel::dict_</a></div><div class="ttdeci">Dict * dict_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00375">language_model.h:375</a></div></div>
<div class="ttc" id="a04557_html_ac97741742b502739958ba0b88aa67f3d"><div class="ttname"><a href="a04557.html#ac97741742b502739958ba0b88aa67f3d">tesseract::Dict::has_hyphen_end</a></div><div class="ttdeci">bool has_hyphen_end(UNICHAR_ID unichar_id, bool first_pos) const</div><div class="ttdoc">Check whether the word has a hyphen at the end. </div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00143">dict.h:143</a></div></div>
<div class="ttc" id="a02297_html_a172c4aa23ba397e24319ae095281cbcc"><div class="ttname"><a href="a02297.html#a172c4aa23ba397e24319ae095281cbcc">GenericVector::empty</a></div><div class="ttdeci">bool empty() const</div><div class="ttdef"><b>Definition:</b> <a href="a00509_source.html#l00084">genericvector.h:84</a></div></div>
<div class="ttc" id="a00500_html_a93a603f4063a6b9403d81caa245a583b"><div class="ttname"><a href="a00500.html#a93a603f4063a6b9403d81caa245a583b">ASSERT_HOST</a></div><div class="ttdeci">#define ASSERT_HOST(x)</div><div class="ttdef"><b>Definition:</b> <a href="a00500_source.html#l00084">errcode.h:84</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aab9c51eafbae0b67c9ca73abb45435a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab9c51eafbae0b67c9ca73abb45435a9">&#9670;&nbsp;</a></span>UpdateState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::LanguageModel::UpdateState </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>just_classified</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>curr_col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>curr_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BLOB_CHOICE_LIST *&#160;</td>
          <td class="paramname"><em>curr_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04993.html">LanguageModelState</a> *&#160;</td>
          <td class="paramname"><em>parent_node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04977.html">LMPainPoints</a> *&#160;</td>
          <td class="paramname"><em>pain_points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02645.html">WERD_RES</a> *&#160;</td>
          <td class="paramname"><em>word_res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a04997.html">BestChoiceBundle</a> *&#160;</td>
          <td class="paramname"><em>best_choice_bundle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="a02477.html">BlamerBundle</a> *&#160;</td>
          <td class="paramname"><em>blamer_bundle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>UpdateState has the job of combining the <a class="el" href="a04989.html">ViterbiStateEntry</a> lists on each of the choices on parent_list with each of the blob choices in curr_list, making a new <a class="el" href="a04989.html">ViterbiStateEntry</a> for each sensible path.</p>
<p>This could be a huge set of combinations, creating a lot of work only to be truncated by some beam limit, but only certain kinds of paths will continue at the next step:</p><ul>
<li>paths that are liked by the language model: either a DAWG or the n-gram model, where active.</li>
<li>paths that represent some kind of top choice. The old permuter permuted the top raw classifier score, the top upper case word and the top lower- case word. UpdateState now concentrates its top-choice paths on top lower-case, top upper-case (or caseless alpha), and top digit sequence, with allowance for continuation of these paths through blobs where such a character does not appear in the choices list.</li>
</ul>
<p>GetNextParentVSE enforces some of these models to minimize the number of calls to AddViterbiStateEntry, even prior to looking at the language model. Thus an n-blob sequence of [l1I] will produce 3n calls to AddViterbiStateEntry instead of 3^n.</p>
<p>Of course it isn't quite that simple as Title Case is handled by allowing lower case to continue an upper case initial, but it has to be detected in the combiner so it knows which upper case letters are initial alphas. </p>

<p class="definition">Definition at line <a class="el" href="a01664_source.html#l00249">249</a> of file <a class="el" href="a01664_source.html">language_model.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                                 {</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 0) {</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;\nUpdateState: col=%d row=%d %s&quot;</span>,</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            curr_col, curr_row, just_classified ? <span class="stringliteral">&quot;just_classified&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 5)</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;(parent=%p)\n&quot;</span>, parent_node);</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;      <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;\n&quot;</span>);</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;  }</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="comment">// Initialize helper variables.</span></div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordtype">bool</span> word_end = (curr_row+1 &gt;= word_res-&gt;<a class="code" href="a02645.html#af7454f140688a32b2bebb60ab36e91ee">ratings</a>-&gt;<a class="code" href="a02597.html#ad414e7f436cdf0a07cbe8434b6c712c3">dimension</a>());</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  <span class="keywordtype">bool</span> new_changed = <span class="keyword">false</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  <span class="keywordtype">float</span> denom = (<a class="code" href="a04969.html#a3f2f47a18751c6eae3e6d766b7ec0252">language_model_ngram_on</a>) ? <a class="code" href="a04969.html#a933e234efec8a32e922023ad8811b469">ComputeDenom</a>(curr_list) : 1.0f;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keyword">const</span> <a class="code" href="a04041.html">UNICHARSET</a>&amp; unicharset = <a class="code" href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">dict_</a>-&gt;<a class="code" href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">getUnicharset</a>();</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <a class="code" href="a02705.html">BLOB_CHOICE</a> *first_lower = NULL;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <a class="code" href="a02705.html">BLOB_CHOICE</a> *first_upper = NULL;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <a class="code" href="a02705.html">BLOB_CHOICE</a> *first_digit = NULL;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;  <span class="keywordtype">bool</span> has_alnum_mix = <span class="keyword">false</span>;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  <span class="keywordflow">if</span> (parent_node != NULL) {</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordtype">int</span> result = <a class="code" href="a04969.html#ab576230253851c8dcd66466f911d1736">SetTopParentLowerUpperDigit</a>(parent_node);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <span class="keywordflow">if</span> (result &lt; 0) {</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 0)</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <a class="code" href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a>(<span class="stringliteral">&quot;No parents found to process\n&quot;</span>);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <span class="keywordflow">if</span> (result &gt; 0)</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;      has_alnum_mix = <span class="keyword">true</span>;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  }</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="a04969.html#a5d17f819be821b6e6148f9ccc3cc494a">GetTopLowerUpperDigit</a>(curr_list, &amp;first_lower, &amp;first_upper,</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                             &amp;first_digit))</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;    has_alnum_mix = <span class="keyword">false</span>;;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  ScanParentsForCaseMix(unicharset, parent_node);</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">language_model_debug_level</a> &gt; 3 &amp;&amp; parent_node != NULL) {</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    parent_node-&gt;Print(<span class="stringliteral">&quot;Parent viterbi list&quot;</span>);</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  }</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  LanguageModelState *curr_state = best_choice_bundle-&gt;beam[curr_row];</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="comment">// Call AddViterbiStateEntry() for each parent+child ViterbiStateEntry.</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  ViterbiStateEntry_IT vit;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  BLOB_CHOICE_IT c_it(curr_list);</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">for</span> (c_it.mark_cycle_pt(); !c_it.cycled_list(); c_it.forward()) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <a class="code" href="a02705.html">BLOB_CHOICE</a>* choice = c_it.data();</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    <span class="comment">// TODO(antonova): make sure commenting this out if ok for ngram</span></div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="comment">// model scoring (I think this was introduced to fix ngram model quirks).</span></div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="comment">// Skip NULL unichars unless it is the only choice.</span></div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="comment">//if (!curr_list-&gt;singleton() &amp;&amp; c_it.data()-&gt;unichar_id() == 0) continue;</span></div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <a class="code" href="a00614.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id = choice-&gt;<a class="code" href="a02705.html#ad448095b666bfb864211714ec2c2375e">unichar_id</a>();</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordflow">if</span> (unicharset.<a class="code" href="a04041.html#aa9827f44b6199469f81fd3fba6afd94c">get_fragment</a>(unichar_id)) {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;      <span class="keywordflow">continue</span>;  <span class="comment">// Skip fragments.</span></div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// Set top choice flags.</span></div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a> blob_choice_flags = <a class="code" href="a04969.html#a135df25d843cb847b8a40e752910c3b9">kXhtConsistentFlag</a>;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">if</span> (c_it.at_first() || !new_changed)</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;      blob_choice_flags |= <a class="code" href="a04969.html#a2ceab7e561b052612fbaefab123cdb37">kSmallestRatingFlag</a>;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (first_lower == choice) blob_choice_flags |= <a class="code" href="a04969.html#a632d464aad707355a3f8f8964ca8a4a9">kLowerCaseFlag</a>;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (first_upper == choice) blob_choice_flags |= <a class="code" href="a04969.html#ac41f6462a9bf12d7183db9e90a3099a4">kUpperCaseFlag</a>;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="keywordflow">if</span> (first_digit == choice) blob_choice_flags |= <a class="code" href="a04969.html#a367422e9d316b7cfe79dab7528874b46">kDigitFlag</a>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">if</span> (parent_node == NULL) {</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;      <span class="comment">// Process the beginning of a word.</span></div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="comment">// If there is a better case variant that is not distinguished by size,</span></div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;      <span class="comment">// skip this blob choice, as we have no choice but to accept the result</span></div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="comment">// of the character classifier to distinguish between them, even if</span></div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      <span class="comment">// followed by an upper case.</span></div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;      <span class="comment">// With words like iPoc, and other CamelBackWords, the lower-upper</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;      <span class="comment">// transition can only be achieved if the classifier has the correct case</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;      <span class="comment">// as the top choice, and leaving an initial I lower down the list</span></div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;      <span class="comment">// increases the chances of choosing IPoc simply because it doesn&#39;t</span></div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;      <span class="comment">// include such a transition. iPoc will beat iPOC and ipoc because</span></div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;      <span class="comment">// the other words are baseline/x-height inconsistent.</span></div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;      <span class="keywordflow">if</span> (HasBetterCaseVariant(unicharset, choice, curr_list))</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;      <span class="comment">// Upper counts as lower at the beginning of a word.</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;      <span class="keywordflow">if</span> (blob_choice_flags &amp; <a class="code" href="a04969.html#ac41f6462a9bf12d7183db9e90a3099a4">kUpperCaseFlag</a>)</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        blob_choice_flags |= <a class="code" href="a04969.html#a632d464aad707355a3f8f8964ca8a4a9">kLowerCaseFlag</a>;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;      new_changed |= <a class="code" href="a04969.html#a6a01b8fad861499de57b8ac8842d73d6">AddViterbiStateEntry</a>(</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;          blob_choice_flags, denom, word_end, curr_col, curr_row,</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;          choice, curr_state, NULL, pain_points,</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;          word_res, best_choice_bundle, blamer_bundle);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    } <span class="keywordflow">else</span> {</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;      <span class="comment">// Get viterbi entries from each parent ViterbiStateEntry.</span></div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;      vit.set_to_list(&amp;parent_node-&gt;viterbi_state_entries);</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;      <span class="keywordtype">int</span> vit_counter = 0;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;      vit.mark_cycle_pt();</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;      ViterbiStateEntry* parent_vse = NULL;</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;      <a class="code" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a> top_choice_flags;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">while</span> ((parent_vse = <a class="code" href="a04969.html#a8e61cda787ab1e6bbe0c9058b3115a23">GetNextParentVSE</a>(just_classified, has_alnum_mix,</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                                            c_it.data(), blob_choice_flags,</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;                                            unicharset, word_res, &amp;vit,</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                                            &amp;top_choice_flags)) != NULL) {</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="comment">// Skip pruned entries and do not look at prunable entries if already</span></div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="comment">// examined language_model_viterbi_list_max_num_prunable of those.</span></div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="a04969.html#a0c9b9c5e553558ed4e566b39cc59f995">PrunablePath</a>(*parent_vse) &amp;&amp;</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;            (++vit_counter &gt; <a class="code" href="a04969.html#af137b94cf734b9460485e213d36b5c07">language_model_viterbi_list_max_num_prunable</a> ||</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;             (<a class="code" href="a04969.html#a3f2f47a18751c6eae3e6d766b7ec0252">language_model_ngram_on</a> &amp;&amp; parent_vse-&gt;ngram_info-&gt;pruned))) {</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        }</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="comment">// If the parent has no alnum choice, (ie choice is the first in a</span></div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;        <span class="comment">// string of alnum), and there is a better case variant that is not</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="comment">// distinguished by size, skip this blob choice/parent, as with the</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="comment">// initial blob treatment above.</span></div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;        <span class="keywordflow">if</span> (!parent_vse-&gt;HasAlnumChoice(unicharset) &amp;&amp;</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;            HasBetterCaseVariant(unicharset, choice, curr_list))</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="comment">// Create a new ViterbiStateEntry if BLOB_CHOICE in c_it.data()</span></div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        <span class="comment">// looks good according to the Dawgs or character ngram model.</span></div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;        new_changed |= <a class="code" href="a04969.html#a6a01b8fad861499de57b8ac8842d73d6">AddViterbiStateEntry</a>(</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            top_choice_flags, denom, word_end, curr_col, curr_row,</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            c_it.data(), curr_state, parent_vse, pain_points,</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            word_res, best_choice_bundle, blamer_bundle);</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;      }</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  }</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;  <span class="keywordflow">return</span> new_changed;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;}</div><div class="ttc" id="a04969_html_a370fa3c5a5687622a6cc309d34850aad"><div class="ttname"><a href="a04969.html#a370fa3c5a5687622a6cc309d34850aad">tesseract::LanguageModel::language_model_debug_level</a></div><div class="ttdeci">int language_model_debug_level</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00308">language_model.h:308</a></div></div>
<div class="ttc" id="a04969_html_ac41f6462a9bf12d7183db9e90a3099a4"><div class="ttname"><a href="a04969.html#ac41f6462a9bf12d7183db9e90a3099a4">tesseract::LanguageModel::kUpperCaseFlag</a></div><div class="ttdeci">static const LanguageModelFlagsType kUpperCaseFlag</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00047">language_model.h:47</a></div></div>
<div class="ttc" id="a02597_html_ad414e7f436cdf0a07cbe8434b6c712c3"><div class="ttname"><a href="a02597.html#ad414e7f436cdf0a07cbe8434b6c712c3">BandTriMatrix::dimension</a></div><div class="ttdeci">int dimension() const</div><div class="ttdef"><b>Definition:</b> <a href="a00296_source.html#l00530">matrix.h:530</a></div></div>
<div class="ttc" id="a04969_html_a933e234efec8a32e922023ad8811b469"><div class="ttname"><a href="a04969.html#a933e234efec8a32e922023ad8811b469">tesseract::LanguageModel::ComputeDenom</a></div><div class="ttdeci">float ComputeDenom(BLOB_CHOICE_LIST *curr_list)</div><div class="ttdef"><b>Definition:</b> <a href="a01664_source.html#l00989">language_model.cpp:989</a></div></div>
<div class="ttc" id="a04969_html_a0c9b9c5e553558ed4e566b39cc59f995"><div class="ttname"><a href="a04969.html#a0c9b9c5e553558ed4e566b39cc59f995">tesseract::LanguageModel::PrunablePath</a></div><div class="ttdeci">bool PrunablePath(const ViterbiStateEntry &amp;vse)</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00291">language_model.h:291</a></div></div>
<div class="ttc" id="a04969_html_a2ceab7e561b052612fbaefab123cdb37"><div class="ttname"><a href="a04969.html#a2ceab7e561b052612fbaefab123cdb37">tesseract::LanguageModel::kSmallestRatingFlag</a></div><div class="ttdeci">static const LanguageModelFlagsType kSmallestRatingFlag</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00045">language_model.h:45</a></div></div>
<div class="ttc" id="a04969_html_a367422e9d316b7cfe79dab7528874b46"><div class="ttname"><a href="a04969.html#a367422e9d316b7cfe79dab7528874b46">tesseract::LanguageModel::kDigitFlag</a></div><div class="ttdeci">static const LanguageModelFlagsType kDigitFlag</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00048">language_model.h:48</a></div></div>
<div class="ttc" id="a04557_html_a3ed04d9d9419ce413e9e495b5c5001ad"><div class="ttname"><a href="a04557.html#a3ed04d9d9419ce413e9e495b5c5001ad">tesseract::Dict::getUnicharset</a></div><div class="ttdeci">const UNICHARSET &amp; getUnicharset() const</div><div class="ttdef"><b>Definition:</b> <a href="a01151_source.html#l00097">dict.h:97</a></div></div>
<div class="ttc" id="a04969_html_a6a01b8fad861499de57b8ac8842d73d6"><div class="ttname"><a href="a04969.html#a6a01b8fad861499de57b8ac8842d73d6">tesseract::LanguageModel::AddViterbiStateEntry</a></div><div class="ttdeci">bool AddViterbiStateEntry(LanguageModelFlagsType top_choice_flags, float denom, bool word_end, int curr_col, int curr_row, BLOB_CHOICE *b, LanguageModelState *curr_state, ViterbiStateEntry *parent_vse, LMPainPoints *pain_points, WERD_RES *word_res, BestChoiceBundle *best_choice_bundle, BlamerBundle *blamer_bundle)</div><div class="ttdef"><b>Definition:</b> <a href="a01664_source.html#l00557">language_model.cpp:557</a></div></div>
<div class="ttc" id="a04969_html_af137b94cf734b9460485e213d36b5c07"><div class="ttname"><a href="a04969.html#af137b94cf734b9460485e213d36b5c07">tesseract::LanguageModel::language_model_viterbi_list_max_num_prunable</a></div><div class="ttdeci">int language_model_viterbi_list_max_num_prunable</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00315">language_model.h:315</a></div></div>
<div class="ttc" id="a04969_html_a632d464aad707355a3f8f8964ca8a4a9"><div class="ttname"><a href="a04969.html#a632d464aad707355a3f8f8964ca8a4a9">tesseract::LanguageModel::kLowerCaseFlag</a></div><div class="ttdeci">static const LanguageModelFlagsType kLowerCaseFlag</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00046">language_model.h:46</a></div></div>
<div class="ttc" id="a02705_html_ad448095b666bfb864211714ec2c2375e"><div class="ttname"><a href="a02705.html#ad448095b666bfb864211714ec2c2375e">BLOB_CHOICE::unichar_id</a></div><div class="ttdeci">UNICHAR_ID unichar_id() const</div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00076">ratngs.h:76</a></div></div>
<div class="ttc" id="a04041_html"><div class="ttname"><a href="a04041.html">UNICHARSET</a></div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00139">unicharset.h:139</a></div></div>
<div class="ttc" id="a02645_html_af7454f140688a32b2bebb60ab36e91ee"><div class="ttname"><a href="a02645.html#af7454f140688a32b2bebb60ab36e91ee">WERD_RES::ratings</a></div><div class="ttdeci">MATRIX * ratings</div><div class="ttdef"><b>Definition:</b> <a href="a00338_source.html#l00215">pageres.h:215</a></div></div>
<div class="ttc" id="a04969_html_a135df25d843cb847b8a40e752910c3b9"><div class="ttname"><a href="a04969.html#a135df25d843cb847b8a40e752910c3b9">tesseract::LanguageModel::kXhtConsistentFlag</a></div><div class="ttdeci">static const LanguageModelFlagsType kXhtConsistentFlag</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00049">language_model.h:49</a></div></div>
<div class="ttc" id="a00608_html_a02aa7cca2c3857c14716e8cca96ace6c"><div class="ttname"><a href="a00608.html#a02aa7cca2c3857c14716e8cca96ace6c">tprintf</a></div><div class="ttdeci">#define tprintf(...)</div><div class="ttdef"><b>Definition:</b> <a href="a00608_source.html#l00031">tprintf.h:31</a></div></div>
<div class="ttc" id="a04969_html_a3f2f47a18751c6eae3e6d766b7ec0252"><div class="ttname"><a href="a04969.html#a3f2f47a18751c6eae3e6d766b7ec0252">tesseract::LanguageModel::language_model_ngram_on</a></div><div class="ttdeci">bool language_model_ngram_on</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00310">language_model.h:310</a></div></div>
<div class="ttc" id="a02705_html"><div class="ttname"><a href="a02705.html">BLOB_CHOICE</a></div><div class="ttdef"><b>Definition:</b> <a href="a00395_source.html#l00048">ratngs.h:48</a></div></div>
<div class="ttc" id="a01738_html_a87cc64ed462a40c9c210a8bab7cb9b87"><div class="ttname"><a href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">tesseract::LanguageModelFlagsType</a></div><div class="ttdeci">unsigned char LanguageModelFlagsType</div><div class="ttdoc">Used for expressing various language model flags. </div><div class="ttdef"><b>Definition:</b> <a href="a01685_source.html#l00037">lm_state.h:37</a></div></div>
<div class="ttc" id="a04969_html_ab8d88b6237e566212b22b0eb6ba19a3b"><div class="ttname"><a href="a04969.html#ab8d88b6237e566212b22b0eb6ba19a3b">tesseract::LanguageModel::dict_</a></div><div class="ttdeci">Dict * dict_</div><div class="ttdef"><b>Definition:</b> <a href="a01667_source.html#l00375">language_model.h:375</a></div></div>
<div class="ttc" id="a04969_html_a5d17f819be821b6e6148f9ccc3cc494a"><div class="ttname"><a href="a04969.html#a5d17f819be821b6e6148f9ccc3cc494a">tesseract::LanguageModel::GetTopLowerUpperDigit</a></div><div class="ttdeci">bool GetTopLowerUpperDigit(BLOB_CHOICE_LIST *curr_list, BLOB_CHOICE **first_lower, BLOB_CHOICE **first_upper, BLOB_CHOICE **first_digit) const</div><div class="ttdef"><b>Definition:</b> <a href="a01664_source.html#l00379">language_model.cpp:379</a></div></div>
<div class="ttc" id="a04969_html_a8e61cda787ab1e6bbe0c9058b3115a23"><div class="ttname"><a href="a04969.html#a8e61cda787ab1e6bbe0c9058b3115a23">tesseract::LanguageModel::GetNextParentVSE</a></div><div class="ttdeci">ViterbiStateEntry * GetNextParentVSE(bool just_classified, bool mixed_alnum, const BLOB_CHOICE *bc, LanguageModelFlagsType blob_choice_flags, const UNICHARSET &amp;unicharset, WERD_RES *word_res, ViterbiStateEntry_IT *vse_it, LanguageModelFlagsType *top_choice_flags) const</div><div class="ttdef"><b>Definition:</b> <a href="a01664_source.html#l00496">language_model.cpp:496</a></div></div>
<div class="ttc" id="a04041_html_aa9827f44b6199469f81fd3fba6afd94c"><div class="ttname"><a href="a04041.html#aa9827f44b6199469f81fd3fba6afd94c">UNICHARSET::get_fragment</a></div><div class="ttdeci">const CHAR_FRAGMENT * get_fragment(UNICHAR_ID unichar_id) const</div><div class="ttdef"><b>Definition:</b> <a href="a00626_source.html#l00682">unicharset.h:682</a></div></div>
<div class="ttc" id="a00614_html_a8578b19fa1ff5ca75080db1a18ecc32e"><div class="ttname"><a href="a00614.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a></div><div class="ttdeci">int UNICHAR_ID</div><div class="ttdef"><b>Definition:</b> <a href="a00614_source.html#l00033">unichar.h:33</a></div></div>
<div class="ttc" id="a04969_html_ab576230253851c8dcd66466f911d1736"><div class="ttname"><a href="a04969.html#ab576230253851c8dcd66466f911d1736">tesseract::LanguageModel::SetTopParentLowerUpperDigit</a></div><div class="ttdeci">int SetTopParentLowerUpperDigit(LanguageModelState *parent_node) const</div><div class="ttdef"><b>Definition:</b> <a href="a01664_source.html#l00419">language_model.cpp:419</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aee3c5c64657d9e77db9f2645ca1d29fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee3c5c64657d9e77db9f2645ca1d29fd">&#9670;&nbsp;</a></span>acceptable_choice_found_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::LanguageModel::acceptable_choice_found_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00408">408</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a0b39f11a66e9dd52208e15c1c62e8272"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b39f11a66e9dd52208e15c1c62e8272">&#9670;&nbsp;</a></span>beginning_active_dawgs_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04533.html">DawgPositionVector</a> tesseract::LanguageModel::beginning_active_dawgs_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00396">396</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a9440f91674a19de8d91894e0c99b1dd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9440f91674a19de8d91894e0c99b1dd6">&#9670;&nbsp;</a></span>correct_segmentation_explored_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::LanguageModel::correct_segmentation_explored_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00410">410</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="aedf6503eefab0943dd5e10945621535f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf6503eefab0943dd5e10945621535f">&#9670;&nbsp;</a></span>dawg_args_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04553.html">DawgArgs</a> tesseract::LanguageModel::dawg_args_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00356">356</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="ab8d88b6237e566212b22b0eb6ba19a3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8d88b6237e566212b22b0eb6ba19a3b">&#9670;&nbsp;</a></span>dict_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04557.html">Dict</a>* tesseract::LanguageModel::dict_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00375">375</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a4d0169b5188cb51117d47f4db3f7c3cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d0169b5188cb51117d47f4db3f7c3cf">&#9670;&nbsp;</a></span>fixed_pitch_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::LanguageModel::fixed_pitch_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00382">382</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="adda83343e5c77980f11a8e28b90ce778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adda83343e5c77980f11a8e28b90ce778">&#9670;&nbsp;</a></span>fontinfo_table_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a02545.html">UnicityTable</a>&lt;<a class="el" href="a02557.html">FontInfo</a>&gt;* tesseract::LanguageModel::fontinfo_table_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00371">371</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a367422e9d316b7cfe79dab7528874b46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a367422e9d316b7cfe79dab7528874b46">&#9670;&nbsp;</a></span>kDigitFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a> tesseract::LanguageModel::kDigitFlag = 0x8</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00048">48</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a632d464aad707355a3f8f8964ca8a4a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a632d464aad707355a3f8f8964ca8a4a9">&#9670;&nbsp;</a></span>kLowerCaseFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a> tesseract::LanguageModel::kLowerCaseFlag = 0x2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00046">46</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a94f3c78f8a231538513e4a47387072fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94f3c78f8a231538513e4a47387072fc">&#9670;&nbsp;</a></span>kMaxAvgNgramCost</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const float tesseract::LanguageModel::kMaxAvgNgramCost = 25.0f</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00053">53</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a2ceab7e561b052612fbaefab123cdb37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ceab7e561b052612fbaefab123cdb37">&#9670;&nbsp;</a></span>kSmallestRatingFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a> tesseract::LanguageModel::kSmallestRatingFlag = 0x1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00045">45</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="ac41f6462a9bf12d7183db9e90a3099a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac41f6462a9bf12d7183db9e90a3099a4">&#9670;&nbsp;</a></span>kUpperCaseFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a> tesseract::LanguageModel::kUpperCaseFlag = 0x4</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00047">47</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a135df25d843cb847b8a40e752910c3b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a135df25d843cb847b8a40e752910c3b9">&#9670;&nbsp;</a></span>kXhtConsistentFlag</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="a01738.html#a87cc64ed462a40c9c210a8bab7cb9b87">LanguageModelFlagsType</a> tesseract::LanguageModel::kXhtConsistentFlag = 0x10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00049">49</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a370fa3c5a5687622a6cc309d34850aad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a370fa3c5a5687622a6cc309d34850aad">&#9670;&nbsp;</a></span>language_model_debug_level</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::LanguageModel::language_model_debug_level = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Language model debug level" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00308">308</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a74c3764116fb5a0029768b8409307835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74c3764116fb5a0029768b8409307835">&#9670;&nbsp;</a></span>language_model_min_compound_length</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::LanguageModel::language_model_min_compound_length = 3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Minimum length of compound words" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00335">335</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a7a0214251cc5984766ee9ff635f682bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a0214251cc5984766ee9ff635f682bf">&#9670;&nbsp;</a></span>language_model_ngram_nonmatch_score</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::LanguageModel::language_model_ngram_nonmatch_score = -40.0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Average classifier score of a non-matching unichar" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00322">322</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a3f2f47a18751c6eae3e6d766b7ec0252"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f2f47a18751c6eae3e6d766b7ec0252">&#9670;&nbsp;</a></span>language_model_ngram_on</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::LanguageModel::language_model_ngram_on = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Turn on/off the use of character ngram model" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00310">310</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a72ed869c239eb396cea18beed4d1802e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72ed869c239eb396cea18beed4d1802e">&#9670;&nbsp;</a></span>language_model_ngram_order</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::LanguageModel::language_model_ngram_order = 8</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Maximum order of the character ngram model" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00312">312</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a45fefb5ef26f893874923bc2f6add44c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45fefb5ef26f893874923bc2f6add44c">&#9670;&nbsp;</a></span>language_model_ngram_rating_factor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::LanguageModel::language_model_ngram_rating_factor = 16.0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Factor to bring log-probs into the same range as ratings" " when multiplied by outline length " </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00331">331</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a35b0809b85f83f6d5784700d383540dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35b0809b85f83f6d5784700d383540dc">&#9670;&nbsp;</a></span>language_model_ngram_scale_factor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::LanguageModel::language_model_ngram_scale_factor = 0.03</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Strength of the character ngram model relative to the" " character classifier " </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00328">328</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a63b94afe3a13f301e59b76d36ada0bf0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63b94afe3a13f301e59b76d36ada0bf0">&#9670;&nbsp;</a></span>language_model_ngram_small_prob</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::LanguageModel::language_model_ngram_small_prob = 0.000001</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"To avoid overly small denominators use this as the floor" " of the probability returned by the ngram model" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00320">320</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="ab9abf146f37c6bf885d2b30831a4836c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9abf146f37c6bf885d2b30831a4836c">&#9670;&nbsp;</a></span>language_model_ngram_space_delimited_language</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::LanguageModel::language_model_ngram_space_delimited_language = true</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Words are delimited by space" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00333">333</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a816f93d4a3a6e036c8ed3c39602d08a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a816f93d4a3a6e036c8ed3c39602d08a1">&#9670;&nbsp;</a></span>language_model_ngram_use_only_first_uft8_step</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::LanguageModel::language_model_ngram_use_only_first_uft8_step = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Use only the first UTF8 step of the given string" " when computing log probabilities" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00325">325</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a1ec341e8b657ea826fd462761ca38c29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ec341e8b657ea826fd462761ca38c29">&#9670;&nbsp;</a></span>language_model_penalty_case</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::LanguageModel::language_model_penalty_case = 0.1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Penalty for inconsistent case" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00344">344</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a6dff94459fc1b33990e986f6275bcba3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dff94459fc1b33990e986f6275bcba3">&#9670;&nbsp;</a></span>language_model_penalty_chartype</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::LanguageModel::language_model_penalty_chartype = 0.3</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Penalty for inconsistent character type" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00348">348</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a1ff90651c3c032797f774a0e45e3cf37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ff90651c3c032797f774a0e45e3cf37">&#9670;&nbsp;</a></span>language_model_penalty_font</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::LanguageModel::language_model_penalty_font = 0.00</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Penalty for inconsistent font" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00350">350</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="ae4b0db6d265577b230e827b2c592eed0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4b0db6d265577b230e827b2c592eed0">&#9670;&nbsp;</a></span>language_model_penalty_increment</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::LanguageModel::language_model_penalty_increment = 0.01</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Penalty increment" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00353">353</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a7fc993337cf742c81176ce6ee216f264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fc993337cf742c81176ce6ee216f264">&#9670;&nbsp;</a></span>language_model_penalty_non_dict_word</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::LanguageModel::language_model_penalty_non_dict_word = 0.15</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Penalty for non-dictionary words" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00340">340</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="aeb005a2c12d48226dcca910d970615ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb005a2c12d48226dcca910d970615ab">&#9670;&nbsp;</a></span>language_model_penalty_non_freq_dict_word</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::LanguageModel::language_model_penalty_non_freq_dict_word = 0.1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Penalty for words not in the frequent word dictionary" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00338">338</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a626c063d5658e12ba1b9b0bcc3a15a12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a626c063d5658e12ba1b9b0bcc3a15a12">&#9670;&nbsp;</a></span>language_model_penalty_punc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::LanguageModel::language_model_penalty_punc = 0.2</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Penalty for inconsistent punctuation" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00342">342</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="ae0241f7e46e1e4573e6983b834ee6030"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0241f7e46e1e4573e6983b834ee6030">&#9670;&nbsp;</a></span>language_model_penalty_script</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::LanguageModel::language_model_penalty_script = 0.5</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Penalty for inconsistent script" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00346">346</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a56568c085d61523e01e5731d1430b87b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56568c085d61523e01e5731d1430b87b">&#9670;&nbsp;</a></span>language_model_penalty_spacing</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double tesseract::LanguageModel::language_model_penalty_spacing = 0.05</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Penalty for inconsistent spacing" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00352">352</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a5833949d12bb5a330b8aa862e8e98f4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5833949d12bb5a330b8aa862e8e98f4d">&#9670;&nbsp;</a></span>language_model_use_sigmoidal_certainty</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tesseract::LanguageModel::language_model_use_sigmoidal_certainty = false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Use sigmoidal score for certainty" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00356">356</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="af137b94cf734b9460485e213d36b5c07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af137b94cf734b9460485e213d36b5c07">&#9670;&nbsp;</a></span>language_model_viterbi_list_max_num_prunable</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::LanguageModel::language_model_viterbi_list_max_num_prunable = 10</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Maximum number of prunable (those for which PrunablePath() is" " true) entries in each viterbi list recorded in BLOB_CHOICEs" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00315">315</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a938b0a47b279f0caa7236910612786db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a938b0a47b279f0caa7236910612786db">&#9670;&nbsp;</a></span>language_model_viterbi_list_max_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::LanguageModel::language_model_viterbi_list_max_size = 500</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Maximum size of viterbi lists recorded in BLOB_CHOICEs" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00317">317</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a7dfeeea5f65081a408757d18115a466c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dfeeea5f65081a408757d18115a466c">&#9670;&nbsp;</a></span>max_char_wh_ratio_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float tesseract::LanguageModel::max_char_wh_ratio_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00385">385</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a344405fb6a548551e9e9fd3c6dd38b22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a344405fb6a548551e9e9fd3c6dd38b22">&#9670;&nbsp;</a></span>params_model_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a05005.html">ParamsModel</a> tesseract::LanguageModel::params_model_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00413">413</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a1eeb6e0ec00c1b3bd5824423da13c408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eeb6e0ec00c1b3bd5824423da13c408">&#9670;&nbsp;</a></span>prev_word_str_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a02929.html">STRING</a> tesseract::LanguageModel::prev_word_str_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00392">392</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a52a5540ea4de4f4b830dbcbb220d6bff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52a5540ea4de4f4b830dbcbb220d6bff">&#9670;&nbsp;</a></span>prev_word_unichar_step_len_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::LanguageModel::prev_word_unichar_step_len_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00393">393</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a97f70b05e97cec59b6f24cbd6870d4e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97f70b05e97cec59b6f24cbd6870d4e7">&#9670;&nbsp;</a></span>rating_cert_scale_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float tesseract::LanguageModel::rating_cert_scale_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00366">366</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="ac2cbc53ed90a63bb524540fbdcdf2b32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2cbc53ed90a63bb524540fbdcdf2b32">&#9670;&nbsp;</a></span>very_beginning_active_dawgs_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a04533.html">DawgPositionVector</a> tesseract::LanguageModel::very_beginning_active_dawgs_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00395">395</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<a id="a2a3fdef39a20b06519da43d74d2cff3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a3fdef39a20b06519da43d74d2cff3e">&#9670;&nbsp;</a></span>wordrec_display_segmentations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int tesseract::LanguageModel::wordrec_display_segmentations = 0</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>"Display Segmentations" </p>

<p class="definition">Definition at line <a class="el" href="a01667_source.html#l00354">354</a> of file <a class="el" href="a01667_source.html">language_model.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>wordrec/<a class="el" href="a01667_source.html">language_model.h</a></li>
<li>wordrec/<a class="el" href="a01664_source.html">language_model.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="a01738.html">tesseract</a></li><li class="navelem"><a class="el" href="a04969.html">LanguageModel</a></li>
    <li class="footer">Generated on Mon Oct 29 2018 11:28:05 for tesseract by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
